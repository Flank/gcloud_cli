NAME
    gcloud alpha compute packet-mirrorings create - create a Google Compute
        Engine packet mirroring

SYNOPSIS
    gcloud alpha compute packet-mirrorings create NAME
        --collector-ilb=COLLECTOR_ILB --network=NETWORK [--async]
        [--description=DESCRIPTION] [--no-enable]
        [--filter-cidr-ranges=[CIDR_RANGE,...]]
        [--filter-protocols=[PROTOCOL,...]]
        [--mirrored-instances=[INSTANCE,...]] [--mirrored-subnets=[SUBNET,...]]
        [--mirrored-tags=[TAG,...]] [--priority=PRIORITY] [--region=REGION]
        [GCLOUD_WIDE_FLAG ...]

DESCRIPTION
    (ALPHA) Create a Google Compute Engine packet mirroring.

POSITIONAL ARGUMENTS
     NAME
        Name of the packet mirroring to create.

REQUIRED FLAGS
     --collector-ilb=COLLECTOR_ILB
        Forwarding rule configured as collector. This must be a regional
        forwarding rule (in the same region) with load balancing scheme
        INTERNAL and isMirroringCollector set to true.

        You can provide this as the full URL to the forwarding rule, partial
        URL, or name. For example, the following are valid values:
        * https://compute.googleapis.com/compute/v1/projects/myproject/
          regions/us-central1/forwardingRules/fr-1
        * projects/myproject/regions/us-central1/forwardingRules/fr-1
        * fr-1

     --network=NETWORK
        Network for this packet mirroring. Only the packets in this network
        will be mirrored. It is mandatory that all mirrored VMs have a network
        interface controller (NIC) in the given network. All mirrored
        subnetworks should belong to the given network.

        You can provide this as the full URL to the network, partial URL, or
        name. For example, the following are valid values:
        * https://compute.googleapis.com/compute/v1/projects/myproject/
          global/networks/network-1
        * projects/myproject/global/networks/network-1
        * network-1

OPTIONAL FLAGS
     --async
        Return immediately, without waiting for the operation in progress to
        complete.

     --description=DESCRIPTION
        Optional, textual description for the packet mirroring.

     --enable
        Enable or disable the packet-mirroring. Enabled by default, use
        --no-enable to disable.

     --filter-cidr-ranges=[CIDR_RANGE,...]
        List of IP CIDR ranges that apply as filters on the source or
        destination IP in the IP header for packet mirroring traffic. All
        traffic between the VM and the IPs listed here will be mirrored using
        this configuration. This can be a Public IP as well. If unspecified,
        the config applies to all traffic.

     --filter-protocols=[PROTOCOL,...]
        List of IP protocols that apply as filters for packet mirroring
        traffic. If unspecified, the packet mirroring applies to all traffic.
        PROTOCOL must be one of: tcp, udp, icmp.

     --mirrored-instances=[INSTANCE,...]
        List of instances to be mirrored. You can provide this as the full or
        valid partial URL to the instance. For example, the following are valid
        values:
        * https://compute.googleapis.com/compute/v1/projects/myproject/
          zones/us-central1-a/instances/instance-
        * projects/myproject/zones/us-central1-a/instances/instance-1

     --mirrored-subnets=[SUBNET,...]
        List of subnets to be mirrored. You can provide this as the full URL to
        the subnet, partial URL, or name. For example, the following are valid
        values:
        * https://compute.googleapis.com/compute/v1/projects/myproject/
          regions/us-central1/subnetworks/subnet-1
        * projects/myproject/regions/us-central1/subnetworks/subnet-1
        * subnet-1

     --mirrored-tags=[TAG,...]
        List of virtual machine instance tags to be mirrored.

        To read more about configuring network tags, read this guide:
        https://cloud.google.com/vpc/docs/add-remove-network-tags

        The virtual machines with the provided tags must live in zones
        contained in the same region as this packet mirroring.

     --priority=PRIORITY
        Priority of applying this packet mirroring. Priority is used to break
        ties in cases where there is more than one matching policy. In the case
        of two policies that apply for a given Instance, the one with the
        lowest-numbered priority value wins. Mirroring all instances in a
        region for the network may produce a lot of mirrored traffic. If you
        want to "zoom in" on a subset of that traffic you can create another
        packet mirroring with a more restricted set of mirrored instances
        (using the --mirrored- flags) or a more restrictive CIDR filter and
        send that traffic to a dedicated collector. Because we cannot mirror
        traffic to multiple sets of collector, you should set the priority for
        the more specific packet mirroring configuration to a lower value to
        ensure the packets are sent to the desired collector. Default value is
        1000. Valid range is 0 through 65535. If multiple policies end up
        having the same priority, then one of the policies is picked
        non-deterministically.

     --region=REGION
        Region of the packet mirroring to create. Overrides the default
        compute/region property value for this command invocation.

GCLOUD WIDE FLAGS
    These flags are available to all commands: --account, --billing-project,
    --configuration, --flags-file, --flatten, --format, --help,
    --impersonate-service-account, --log-http, --project, --quiet,
    --trace-token, --user-output-enabled, --verbosity. Run $ gcloud help for
    details.

NOTES
    This command is currently in ALPHA and may change without notice. If this
    command fails with API permission errors despite specifying the right
    project, you may be trying to access an API with an invitation-only early
    access whitelist.

