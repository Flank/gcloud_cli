---
args:
  command: beta iot registries credentials clear
  specified_args:
    --registry: projects/fake-project/locations/us-central1/registries/my-registry
---
state:
  interactive_console: true
  random_seed: 6358077248266944665
  term_size:
  - 211
  - 115
---
properties:
  component_manager:
    disable_update_check: 'True'
  core:
    disable_color: 'True'
    disable_usage_reporting: 'True'
    project: fake-project
---
input:
  stdin: |
    Y
---
request:
  body: '{}'
  headers:
    accept: application/json
    accept-encoding: gzip, deflate
    content-length: '2'
    content-type: application/json
  method: PATCH
  uri: https://cloudiot.googleapis.com/v1/projects/fake-project/locations/us-central1/registries/my-registry?updateMask=credentials&alt=json
---
response:
  content:
  - json:
      httpConfig:
        httpEnabledState: HTTP_ENABLED
      id: my-registry
      mqttConfig:
        mqttEnabledState: MQTT_ENABLED
      name: projects/fake-project/locations/us-central1/registries/my-registry
      stateNotificationConfig: {}
  response:
    -content-encoding: gzip
    alt-svc: quic=":443"; ma=2592000; v="39,38,37,35"
    cache-control: private
    content-length: '263'
    content-type: application/json; charset=UTF-8
    date: Wed, 20 Sep 2017 15:32:42 GMT
    server: ESF
    status: '200'
    transfer-encoding: chunked
    vary: Origin, X-Origin, Referer
    x-content-type-options: nosniff
    x-frame-options: SAMEORIGIN
    x-xss-protection: 1; mode=block
---
output:
  stderr: |
    This will delete ALL CREDENTIALS for registry [my-registry]

    Do you want to continue (Y/n)?  
    Cleared all credentials for registry [my-registry].
  stdout: |
    httpConfig:
      httpEnabledState: HTTP_ENABLED
    id: my-registry
    mqttConfig:
      mqttEnabledState: MQTT_ENABLED
    name: projects/fake-project/locations/us-central1/registries/my-registry
    stateNotificationConfig: {}
