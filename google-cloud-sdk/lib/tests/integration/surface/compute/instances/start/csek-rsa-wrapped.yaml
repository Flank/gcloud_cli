---
args:
  command: compute instances start a2
  specified_args:
    --csek-key-file: key-file.json
    --zone: us-east1-b
---
state:
  interactive_console: true
  random_seed: 4279436631992001989
---
properties:
  app:
    runtime_root: /tmp/tmpEbSMcV/runtimes
  component_manager:
    disable_update_check: 'True'
  compute:
    zone: us-east1-b
  core:
    disable_color: 'True'
    disable_usage_reporting: 'True'
    project: fake-project
---
input:
  files:
  - content: |
      [
        {
        "uri": "http://www.googleapis.com/compute/v1/projects/fake-project/zones/us-east1-b/disks/a2",
        "key": "ieCx/NcW06PcT7Ep1X6LUTc/hLvUDYyzSZPPVCVPTVEohpeHASqC8uw5TzyO9U+Fka9JFHz0mBibXUInrC/jEk014kCK/NPjYgEMOyssZ4ZINPKxlUh2zn1bV+MCaTICrdmuSBTWlUUiFoDD6PYznLwh8ZNdaheCeZ8ewEXgFQ8V+sDroLaN3Xs3MDTXQEMMoNUXMCZEIpg9Vtp9x2oeQ5lAbtt7bYAAHf5l+gJWw3sUfs0/Glw5fpdjT8Uggrr+RMZezGrltJEF293rvTIjWOEB3z5OHyHwQkvdrPDFcTqsLfh+8Hr8g+mf+7zVPEC8nEbqpdl3GPv3A7AwpFp7MA==",
        "key-type": "rsa-encrypted"
        }
      ]
    name: key-file.json
---
request:
  body: |-
    --===============0358967777610717572==
    Content-Type: application/http
    MIME-Version: 1.0
    Content-Transfer-Encoding: binary
    Content-ID: <fc132838-4054-4968-b731-f99fa11773a8+0>

    GET /compute/v1/projects/fake-project/zones/us-east1-b/instances/a2?alt=json HTTP/1.1
    Content-Type: application/json
    MIME-Version: 1.0
    user-agent: x_Tw5K8nnjoRAqULM9PFAC2b
    accept: application/json
    content-length: 0
    accept-encoding: gzip, deflate
    Host: www.googleapis.com


    --===============0358967777610717572==--
  headers:
    content-type: multipart/mixed; boundary="===============0358967777610717572=="
  method: POST
  uri: https://www.googleapis.com/batch/compute/v1
---
response:
  content:
  - |
    --batch_aYZb40_7Ims_AADDT3X45lM
    Content-Type: application/http
    Content-ID: <response-fc132838-4054-4968-b731-f99fa11773a8+0>
    
    HTTP/1.1 200 OK
    ETag: "9-5NfnC1jwDHrZ87A_AuCkdDc60/B8izYF2OHnw-6Y4LL_ThRQxDnac"
    Content-Type: application/json; charset=UTF-8
    Date: Tue, 31 Oct 2017 18:43:38 GMT
    Expires: Tue, 31 Oct 2017 18:43:38 GMT
    Cache-Control: private, max-age=0
    Content-Length: 2506
    
  - json:
      canIpForward: false
      cpuPlatform: Intel Haswell
      creationTimestamp: '2017-10-31T10:55:16.449-07:00'
      deletionProtection: false
      disks:
      - autoDelete: true
        boot: true
        deviceName: a2
        index: 0
        interface: SCSI
        kind: compute#attachedDisk
        licenses:
        - http://www.googleapis.com/compute/v1/projects/bct-dev-global-images/global/licenses/debian-8-jessie
        mode: READ_WRITE
        source: http://www.googleapis.com/compute/v1/projects/fake-project/zones/us-east1-b/disks/a2
        type: PERSISTENT
      id: '2363104829734455276'
      kind: compute#instance
      labelFingerprint: 42WmSpB8rSM=
      machineType: http://www.googleapis.com/compute/v1/projects/fake-project/zones/us-east1-b/machineTypes/n1-standard-1
      metadata:
        fingerprint: ZLAM-rrHB7Q=
        kind: compute#metadata
      name: a2
      networkInterfaces:
      - accessConfigs:
        - kind: compute#accessConfig
          name: external-nat
          natIP: 100.107.248.223
          type: ONE_TO_ONE_NAT
        kind: compute#networkInterface
        name: nic0
        network: http://www.googleapis.com/compute/v1/projects/fake-project/global/networks/default
        networkIP: 10.128.0.2
        subnetwork: http://www.googleapis.com/compute/v1/projects/fake-project/regions/us-east1/subnetworks/default
      scheduling:
        automaticRestart: true
        onHostMaintenance: MIGRATE
        preemptible: false
      selfLink: http://www.googleapis.com/compute/v1/projects/fake-project/zones/us-east1-b/instances/a2
      serviceAccounts:
      - email: 529254013417-compute@developer.gserviceaccount.com
        scopes:
        - https://www.googleapis.com/auth/cloud.useraccounts.readonly
        - https://www.googleapis.com/auth/devstorage.read_only
        - https://www.googleapis.com/auth/logging.write
        - https://www.googleapis.com/auth/monitoring.write
        - https://www.googleapis.com/auth/pubsub
        - https://www.googleapis.com/auth/service.management.readonly
        - https://www.googleapis.com/auth/servicecontrol
        - https://www.googleapis.com/auth/trace.append
      startRestricted: false
      status: RUNNING
      tags:
        fingerprint: 42WmSpB8rSM=
      zone: http://www.googleapis.com/compute/v1/projects/fake-project/zones/us-east1-b
  - |2

    
    --batch_aYZb40_7Ims_AADDT3X45lM--
  response:
    cache-control: no-cache, no-store, max-age=0, must-revalidate
    content-type: multipart/mixed; boundary=batch_aYZb40_7Ims_AADDT3X45lM
    date: Tue, 31 Oct 2017 18:43:38 GMT
    expires: Mon, 01 Jan 1990 00:00:00 GMT
    pragma: no-cache
    server: GSE
    status: '200'
    vary: Origin, X-Origin
    x-content-type-options: nosniff
    x-frame-options: SAMEORIGIN
    x-xss-protection: 1; mode=block
---
exception:
  message: |-
    Invalid key type [rsa-encrypted]: this feature is only allowed in the alpha and beta versions of this command..
    For information on proper key file format see: https://cloud.google.com/compute/docs/disks/customer-supplied-encryption#csek_key_file
  type: <class 'googlecloudsdk.api_lib.compute.csek_utils.BadKeyTypeException'>
---
output:
  stderr: |
    ERROR: (gcloud.compute.instances.start) Invalid key type [rsa-encrypted]: this feature is only allowed in the alpha and beta versions of this command..
    For information on proper key file format see: https://cloud.google.com/compute/docs/disks/customer-supplied-encryption#csek_key_file
