title: privateca certificates export test scenario
release_tracks: [BETA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- set_property: core/project foo
- execute:
  - command: |
      privateca certificates export cert --issuer ca --issuer-location us-west1 --output-file cert.pem
  - write_file: cert.pem
  - stderr: |-
      Exported certificate [projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/cert] to [cert.pem].
- execute:
  - command: |
      privateca certificates export my-cert --issuer ca --issuer-location us-west1 --include-chain --output-file cert.pem
  - write_file: cert.pem
  - stderr: |-
      Exported certificate [projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/my-cert] to [cert.pem].
actions:
- set_property:
    core/project: foo
- execute_command:
    command: |
      privateca certificates export cert --issuer ca --issuer-location us-west1 --output-file cert.pem
    events:
    - api_call:
        expect_request:
          uri: https://privateca.googleapis.com/v1beta1/projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/cert?alt=json
          method: GET
          body: null
        return_response:
          headers:
            status: '200'
          body:
            name: projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/cert
            pemCertificate: |-
              -----BEGIN CERTIFICATE-----
              MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
              MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
              a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
              dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
              MTkwOTA0MjMwNTE1WhcNNDcwMTIwMjMwNTE1WjB0MQswCQYDVQQGEwJDQTETMBEG
              A1UECAwKU29tZS1TdGF0ZTENMAsGA1UEBwwETGVhZjEfMB0GA1UECgwWTGVhZiBD
              ZXJ0IGluIFVuaXQgVGVzdDENMAsGA1UECwwETGVhZjERMA8GA1UEAwwIbGVhZi5j
              b20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCwgxbW4gZypGqAHVer
              aMbHsig7A29xb8FllK2uT0kTIIu869qMsLWVyBVr0TVB+8ubycTQzR49bNQ5QuUL
              wK19VVWf/r8dSA1COj2ZxeWpV3sWVB1cAPbqYKTSz+afoXWAPM04N47OW18Uu4dp
              Gqzoj2TW5VKkltagCuCP2jA6Cp+GQOH5sTpQ2d7YCO93Z6QqvdWUqYEMFU/Lo9M7
              6Vt3sFVpwrOLInQnuhct28T6puOb212kX+mCLsgrQmzf6NmxaElaaNMTHSXL2xRF
              hBSZFU1M5IzAi2h3AS3E5ulbEVgJkZsgN2yFDjCkV9XvlSWOtxBETrITCQU5fRGh
              2pxHAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAGr2foGrMdqJlb7Xc7vR1nDP125l
              pGUdf9W92tFJ2b/sbEw/Xhh5gfqaCcx8bcygBY82PIXnL7Pt5ahfRdihTR4Xkads
              miePA8Jk5pkNmXzhoNE9EbFAGEFUGKSfUJnngnt6FuHVpmTG5AwHLlkTJcFDuwQN
              ZfiOUm7lkebHJy8W+Fb7cBDzyxmcr/lHG1qsbYjaqlnTt/WjnRrsOYgSwdFXnP95
              3DCQvfQg6kvNZ2zj/1iIXDsQ0mYTTjNQzeWzlOF/CLL0mUk6xpSXY1HnW4Y7hREI
              hEJNcfJX6cLmq0XK+H3MgLtSB+6dTQ5TLISZwYYrAyHGdJDDu9DEsEZXgGZCZCdP
              mlBvmxoXlW9NFD9TBTD3M/txNg/UySLJjK/wxfaR/XXGnLv5PgYcHc2ajdZmArba
              aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
              uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
              SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
              rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
              y4+LpDFE2AxuNZ/x
              -----END CERTIFICATE-----
            pemCertificateChain:
            - |-
              -----BEGIN CERTIFICATE-----
              MIIBTjCB9aADAgECAgEBMAoGCCqGSM49BAMCMCYxJDAiBgNVBAMTG1VuaXRUZXN0
              OiBTZWxmLXNpZ25lZCBFQ0RTQTAgFw0xMDA4MDExNzAwMDBaGA8zMDEwMDgwMTE3
              MDAwMFowJjEkMCIGA1UEAxMbVW5pdFRlc3Q6IFNlbGYtc2lnbmVkIEVDRFNBMFkw
              EwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEN9VdYSWzSS6eRWF5+1LKaGBnfX7gV9/r
              hklpUtt+wW99lPWSH/uZFMwpuo/mZkNaLEmhkm9cM9SwBQDxnOUyY6MSMBAwDgYD
              VR0PAQH/BAQDAgIEMAoGCCqGSM49BAMCA0gAMEUCID/dNgLyTUSHN4eaFCUc2L3t
              yIKLqy1HdDQ8VakrOSCUAiEAoGoDcrlhiQE866/PnqWVM0S2sxwpQLYJ7F8Zjx9N
              3AM=
              -----END CERTIFICATE----
            - |-
              -----BEGIN CERTIFICATE-----
              MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
              MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
              a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
              dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
              aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
              uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
              SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
              rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
              y4+LpDFE2AxuNZ/x
              -----END CERTIFICATE-----
    - expect_file_written:
        path: cert.pem
        contents: |-
          -----BEGIN CERTIFICATE-----
          MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
          MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
          a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
          dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
          MTkwOTA0MjMwNTE1WhcNNDcwMTIwMjMwNTE1WjB0MQswCQYDVQQGEwJDQTETMBEG
          A1UECAwKU29tZS1TdGF0ZTENMAsGA1UEBwwETGVhZjEfMB0GA1UECgwWTGVhZiBD
          ZXJ0IGluIFVuaXQgVGVzdDENMAsGA1UECwwETGVhZjERMA8GA1UEAwwIbGVhZi5j
          b20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCwgxbW4gZypGqAHVer
          aMbHsig7A29xb8FllK2uT0kTIIu869qMsLWVyBVr0TVB+8ubycTQzR49bNQ5QuUL
          wK19VVWf/r8dSA1COj2ZxeWpV3sWVB1cAPbqYKTSz+afoXWAPM04N47OW18Uu4dp
          Gqzoj2TW5VKkltagCuCP2jA6Cp+GQOH5sTpQ2d7YCO93Z6QqvdWUqYEMFU/Lo9M7
          6Vt3sFVpwrOLInQnuhct28T6puOb212kX+mCLsgrQmzf6NmxaElaaNMTHSXL2xRF
          hBSZFU1M5IzAi2h3AS3E5ulbEVgJkZsgN2yFDjCkV9XvlSWOtxBETrITCQU5fRGh
          2pxHAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAGr2foGrMdqJlb7Xc7vR1nDP125l
          pGUdf9W92tFJ2b/sbEw/Xhh5gfqaCcx8bcygBY82PIXnL7Pt5ahfRdihTR4Xkads
          miePA8Jk5pkNmXzhoNE9EbFAGEFUGKSfUJnngnt6FuHVpmTG5AwHLlkTJcFDuwQN
          ZfiOUm7lkebHJy8W+Fb7cBDzyxmcr/lHG1qsbYjaqlnTt/WjnRrsOYgSwdFXnP95
          3DCQvfQg6kvNZ2zj/1iIXDsQ0mYTTjNQzeWzlOF/CLL0mUk6xpSXY1HnW4Y7hREI
          hEJNcfJX6cLmq0XK+H3MgLtSB+6dTQ5TLISZwYYrAyHGdJDDu9DEsEZXgGZCZCdP
          mlBvmxoXlW9NFD9TBTD3M/txNg/UySLJjK/wxfaR/XXGnLv5PgYcHc2ajdZmArba
          aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
          uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
          SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
          rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
          y4+LpDFE2AxuNZ/x
          -----END CERTIFICATE-----
    - expect_stderr: |-
        Exported certificate [projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/cert] to [cert.pem].
    - expect_exit:
        code: 0
- execute_command:
    command: |
      privateca certificates export my-cert --issuer ca --issuer-location us-west1 --include-chain --output-file cert.pem
    events:
    - api_call:
        expect_request:
          uri: https://privateca.googleapis.com/v1beta1/projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/my-cert?alt=json
          method: GET
          body: null
        return_response:
          headers:
            status: '200'
          body:
            name: projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/my-cert
            pemCertificate: |-
              -----BEGIN CERTIFICATE-----
              MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
              MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
              a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
              dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
              MTkwOTA0MjMwNTE1WhcNNDcwMTIwMjMwNTE1WjB0MQswCQYDVQQGEwJDQTETMBEG
              A1UECAwKU29tZS1TdGF0ZTENMAsGA1UEBwwETGVhZjEfMB0GA1UECgwWTGVhZiBD
              ZXJ0IGluIFVuaXQgVGVzdDENMAsGA1UECwwETGVhZjERMA8GA1UEAwwIbGVhZi5j
              b20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCwgxbW4gZypGqAHVer
              aMbHsig7A29xb8FllK2uT0kTIIu869qMsLWVyBVr0TVB+8ubycTQzR49bNQ5QuUL
              wK19VVWf/r8dSA1COj2ZxeWpV3sWVB1cAPbqYKTSz+afoXWAPM04N47OW18Uu4dp
              Gqzoj2TW5VKkltagCuCP2jA6Cp+GQOH5sTpQ2d7YCO93Z6QqvdWUqYEMFU/Lo9M7
              6Vt3sFVpwrOLInQnuhct28T6puOb212kX+mCLsgrQmzf6NmxaElaaNMTHSXL2xRF
              hBSZFU1M5IzAi2h3AS3E5ulbEVgJkZsgN2yFDjCkV9XvlSWOtxBETrITCQU5fRGh
              2pxHAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAGr2foGrMdqJlb7Xc7vR1nDP125l
              pGUdf9W92tFJ2b/sbEw/Xhh5gfqaCcx8bcygBY82PIXnL7Pt5ahfRdihTR4Xkads
              miePA8Jk5pkNmXzhoNE9EbFAGEFUGKSfUJnngnt6FuHVpmTG5AwHLlkTJcFDuwQN
              ZfiOUm7lkebHJy8W+Fb7cBDzyxmcr/lHG1qsbYjaqlnTt/WjnRrsOYgSwdFXnP95
              3DCQvfQg6kvNZ2zj/1iIXDsQ0mYTTjNQzeWzlOF/CLL0mUk6xpSXY1HnW4Y7hREI
              hEJNcfJX6cLmq0XK+H3MgLtSB+6dTQ5TLISZwYYrAyHGdJDDu9DEsEZXgGZCZCdP
              mlBvmxoXlW9NFD9TBTD3M/txNg/UySLJjK/wxfaR/XXGnLv5PgYcHc2ajdZmArba
              aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
              uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
              SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
              rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
              y4+LpDFE2AxuNZ/x
              -----END CERTIFICATE-----
            pemCertificateChain:
            - |-
              -----BEGIN CERTIFICATE-----
              MIIBTjCB9aADAgECAgEBMAoGCCqGSM49BAMCMCYxJDAiBgNVBAMTG1VuaXRUZXN0
              OiBTZWxmLXNpZ25lZCBFQ0RTQTAgFw0xMDA4MDExNzAwMDBaGA8zMDEwMDgwMTE3
              MDAwMFowJjEkMCIGA1UEAxMbVW5pdFRlc3Q6IFNlbGYtc2lnbmVkIEVDRFNBMFkw
              EwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEN9VdYSWzSS6eRWF5+1LKaGBnfX7gV9/r
              hklpUtt+wW99lPWSH/uZFMwpuo/mZkNaLEmhkm9cM9SwBQDxnOUyY6MSMBAwDgYD
              VR0PAQH/BAQDAgIEMAoGCCqGSM49BAMCA0gAMEUCID/dNgLyTUSHN4eaFCUc2L3t
              yIKLqy1HdDQ8VakrOSCUAiEAoGoDcrlhiQE866/PnqWVM0S2sxwpQLYJ7F8Zjx9N
              3AM=
              -----END CERTIFICATE----
            - |-
              -----BEGIN CERTIFICATE-----
              MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
              MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
              a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
              dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
              aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
              uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
              SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
              rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
              y4+LpDFE2AxuNZ/x
              -----END CERTIFICATE-----
    - expect_file_written:
        path: cert.pem
        contents: |-
          -----BEGIN CERTIFICATE-----
          MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
          MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
          a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
          dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
          MTkwOTA0MjMwNTE1WhcNNDcwMTIwMjMwNTE1WjB0MQswCQYDVQQGEwJDQTETMBEG
          A1UECAwKU29tZS1TdGF0ZTENMAsGA1UEBwwETGVhZjEfMB0GA1UECgwWTGVhZiBD
          ZXJ0IGluIFVuaXQgVGVzdDENMAsGA1UECwwETGVhZjERMA8GA1UEAwwIbGVhZi5j
          b20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCwgxbW4gZypGqAHVer
          aMbHsig7A29xb8FllK2uT0kTIIu869qMsLWVyBVr0TVB+8ubycTQzR49bNQ5QuUL
          wK19VVWf/r8dSA1COj2ZxeWpV3sWVB1cAPbqYKTSz+afoXWAPM04N47OW18Uu4dp
          Gqzoj2TW5VKkltagCuCP2jA6Cp+GQOH5sTpQ2d7YCO93Z6QqvdWUqYEMFU/Lo9M7
          6Vt3sFVpwrOLInQnuhct28T6puOb212kX+mCLsgrQmzf6NmxaElaaNMTHSXL2xRF
          hBSZFU1M5IzAi2h3AS3E5ulbEVgJkZsgN2yFDjCkV9XvlSWOtxBETrITCQU5fRGh
          2pxHAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAGr2foGrMdqJlb7Xc7vR1nDP125l
          pGUdf9W92tFJ2b/sbEw/Xhh5gfqaCcx8bcygBY82PIXnL7Pt5ahfRdihTR4Xkads
          miePA8Jk5pkNmXzhoNE9EbFAGEFUGKSfUJnngnt6FuHVpmTG5AwHLlkTJcFDuwQN
          ZfiOUm7lkebHJy8W+Fb7cBDzyxmcr/lHG1qsbYjaqlnTt/WjnRrsOYgSwdFXnP95
          3DCQvfQg6kvNZ2zj/1iIXDsQ0mYTTjNQzeWzlOF/CLL0mUk6xpSXY1HnW4Y7hREI
          hEJNcfJX6cLmq0XK+H3MgLtSB+6dTQ5TLISZwYYrAyHGdJDDu9DEsEZXgGZCZCdP
          mlBvmxoXlW9NFD9TBTD3M/txNg/UySLJjK/wxfaR/XXGnLv5PgYcHc2ajdZmArba
          aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
          uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
          SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
          rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
          y4+LpDFE2AxuNZ/x
          -----END CERTIFICATE-----
          -----BEGIN CERTIFICATE-----
          MIIBTjCB9aADAgECAgEBMAoGCCqGSM49BAMCMCYxJDAiBgNVBAMTG1VuaXRUZXN0
          OiBTZWxmLXNpZ25lZCBFQ0RTQTAgFw0xMDA4MDExNzAwMDBaGA8zMDEwMDgwMTE3
          MDAwMFowJjEkMCIGA1UEAxMbVW5pdFRlc3Q6IFNlbGYtc2lnbmVkIEVDRFNBMFkw
          EwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEN9VdYSWzSS6eRWF5+1LKaGBnfX7gV9/r
          hklpUtt+wW99lPWSH/uZFMwpuo/mZkNaLEmhkm9cM9SwBQDxnOUyY6MSMBAwDgYD
          VR0PAQH/BAQDAgIEMAoGCCqGSM49BAMCA0gAMEUCID/dNgLyTUSHN4eaFCUc2L3t
          yIKLqy1HdDQ8VakrOSCUAiEAoGoDcrlhiQE866/PnqWVM0S2sxwpQLYJ7F8Zjx9N
          3AM=
          -----END CERTIFICATE----
          -----BEGIN CERTIFICATE-----
          MIIEiDCCAnACFBIqqUoIQUU5RgXxiua8ISTU9YMcMA0GCSqGSIb3DQEBCwUAMIGM
          MQswCQYDVQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjERMA8GA1UEBwwIS2ly
          a2xhbmQxHTAbBgNVBAoMFEludGVybWVkaWF0ZSBDQSBJbmMuMRswGQYDVQQLDBJT
          dGlsbCBVbml0IFRlc3RpbmcxGTAXBgNVBAMMEGludGVybWVkaWF0ZS5jb20wHhcN
          aW+svhFsZ2biuAeCloOAOPlISg9Lr3ydTrUMZHQB3a7W42NEkcxdO4ab1FEArsVA
          uS1zHs1yhoRXtfNgyQ9zykxHlBgjXDZsFxfUuzJZa4t7VqtWgLeUXdewCBSaf63+
          SKOLgx8l6QnTHnUh5700ApIuoXBuaSqc6BfTl1nkQqUZEoGlcuFZqJXe2sWN1oDP
          rI7NPXRWJqTdNuSjUznzSMO+AsBcZBcYad1pjhWDNnW4n1UFoMpaIYzb6jZSedo9
          y4+LpDFE2AxuNZ/x
          -----END CERTIFICATE-----
    - expect_stderr: |-
        Exported certificate [projects/foo/locations/us-west1/certificateAuthorities/ca/certificates/my-cert] to [cert.pem].
    - expect_exit:
        code: 0
