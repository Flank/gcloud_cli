title: privateca certificates describe test scenario
release_tracks: [BETA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- set_property: core/project foo
- execute:
  - command: |
      privateca certificates describe projects/my-project/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
  - stdout: |
      certificateDescription:
        subjectDescription:
          commonName: describe_test
          hexSerialNumber: FFFFF
          lifetime: P30D
          notAfterTime: '2020-03-22T15:14:00.105-07:00'
          notBeforeTime: '2020-03-17T15:14:00.105-07:00'
          subject:
            organization: Google
      createTime: '2020-03-17T15:14:00.105-07:00'
      lifetime: P30D
      name: projects/my-project/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
      pemCertificate: pem_cert
      updateTime: '2020-04-17T15:14:00.105-07:00'
- execute:
  - command: |
      privateca certificates describe my-cert --issuer-location europe-west1 --issuer my-ca
  - stdout: |
      certificateDescription:
        configValues: {}
        publicKey:
          key: '000000010101'
          type: PEM_RSA_KEY
        subjectDescription:
          commonName: describe_test
          hexSerialNumber: FFFFF
          lifetime: P30D
          notAfterTime: '2020-03-22T15:14:00.105-07:00'
          notBeforeTime: '2020-03-17T15:14:00.105-07:00'
          subject:
            organization: Google
      createTime: '2020-03-17T15:14:00.105-07:00'
      lifetime: P30D
      name: projects/foo/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
      pemCertificate: pem_cert
      pemCertificateChain:
      - issuer_cert
      - root_cert
      revocationDetails:
        revocationState: SUPERSEDED
        revocationTime: '2020-04-17T15:14:00.105-07:00'
      updateTime: '2020-04-17T15:14:00.105-07:00'
- execute:
  - command: |
      privateca certificates describe my-cert --issuer-location europe-west1 --issuer my-ca --format "value(pem_certificate)"
  - stdout: |
      -----BEGIN CERTIFICATE-----
      MIIJQzCCCCugAwIBAgIRAKIcJXVYjGJ9CAAAAAAplycwDQYJKoZIhvcNAQELBQAw
      QjELMAkGA1UEBhMCVVMxHjAcBgNVBAoTFUdvb2dsZSBUcnVzdCBTZXJ2aWNlczET
      MBEGA1UEAxMKR1RTIENBIDFPMTAeFw0yMDAxMTQwOTM1MjdaFw0yMDA0MDcwOTM1
      MjdaMGYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH
      Ew1Nb3VudGFpbiBWaWV3MRMwEQYDVQQKEwpHb29nbGUgTExDMRUwEwYDVQQDDAwq
      Lmdvb2dsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATdWr+ILeQyLiU0
      2UmkQO37Gnz29ofQdjynP+CaHhIwVojsPfCZQZ5Y0mvt1Xi3Jyw5MgjuqU1KFukF
      HFGfHG+Co4IG2TCCBtUwDgYDVR0PAQH/BAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUF
      BwMBMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFEenI/AmQd0onFKp6z+RdbgN3G7j
      MB8GA1UdIwQYMBaAFJjR+G4Q68+b7GCfGJAboOt9Cf0rMGQGCCsGAQUFBwEBBFgw
      VjAnBggrBgEFBQcwAYYbaHR0cDovL29jc3AucGtpLmdvb2cvZ3RzMW8xMCsGCCsG
      AQUFBzAChh9odHRwOi8vcGtpLmdvb2cvZ3NyMi9HVFMxTzEuY3J0MIIEnQYDVR0R
      BIIElDCCBJCCDCouZ29vZ2xlLmNvbYINKi5hbmRyb2lkLmNvbYIWKi5hcHBlbmdp
      bmUuZ29vZ2xlLmNvbYISKi5jbG91ZC5nb29nbGUuY29tghgqLmNyb3dkc291cmNl
      Lmdvb2dsZS5jb22CBiouZy5jb4IOKi5nY3AuZ3Z0Mi5jb22CESouZ2NwY2RuLmd2
      dDEuY29tggoqLmdncGh0LmNugg4qLmdrZWNuYXBwcy5jboIWKi5nb29nbGUtYW5h
      bHl0aWNzLmNvbYILKi5nb29nbGUuY2GCCyouZ29vZ2xlLmNsgg4qLmdvb2dsZS5j
      by5pboIOKi5nb29nbGUuY28uanCCDiouZ29vZ2xlLmNvLnVrgg8qLmdvb2dsZS5j
      b20uYXKCDyouZ29vZ2xlLmNvbS5hdYIPKi5nb29nbGUuY29tLmJygg8qLmdvb2ds
      ZS5jb20uY2+CDyouZ29vZ2xlLmNvbS5teIIPKi5nb29nbGUuY29tLnRygg8qLmdv
      b2dsZS5jb20udm6CCyouZ29vZ2xlLmRlggsqLmdvb2dsZS5lc4ILKi5nb29nbGUu
      ZnKCCyouZ29vZ2xlLmh1ggsqLmdvb2dsZS5pdIILKi5nb29nbGUubmyCCyouZ29v
      Z2xlLnBsggsqLmdvb2dsZS5wdIISKi5nb29nbGVhZGFwaXMuY29tgg8qLmdvb2ds
      ZWFwaXMuY26CESouZ29vZ2xlY25hcHBzLmNughQqLmdvb2dsZWNvbW1lcmNlLmNv
      bYIRKi5nb29nbGV2aWRlby5jb22CDCouZ3N0YXRpYy5jboINKi5nc3RhdGljLmNv
      bYISKi5nc3RhdGljY25hcHBzLmNuggoqLmd2dDEuY29tggoqLmd2dDIuY29tghQq
      Lm1ldHJpYy5nc3RhdGljLmNvbYIMKi51cmNoaW4uY29tghAqLnVybC5nb29nbGUu
      Y29tghMqLndlYXIuZ2tlY25hcHBzLmNughYqLnlvdXR1YmUtbm9jb29raWUuY29t
      gg0qLnlvdXR1YmUuY29tghYqLnlvdXR1YmVlZHVjYXRpb24uY29tghEqLnlvdXR1
      YmVraWRzLmNvbYIHKi55dC5iZYILKi55dGltZy5jb22CGmFuZHJvaWQuY2xpZW50
      cy5nb29nbGUuY29tggthbmRyb2lkLmNvbYIbZGV2ZWxvcGVyLmFuZHJvaWQuZ29v
      Z2xlLmNughxkZXZlbG9wZXJzLmFuZHJvaWQuZ29vZ2xlLmNuggRnLmNvgghnZ3Bo
      dC5jboIMZ2tlY25hcHBzLmNuggZnb28uZ2yCFGdvb2dsZS1hbmFseXRpY3MuY29t
      ggpnb29nbGUuY29tgg9nb29nbGVjbmFwcHMuY26CEmdvb2dsZWNvbW1lcmNlLmNv
      bYIYc291cmNlLmFuZHJvaWQuZ29vZ2xlLmNuggp1cmNoaW4uY29tggp3d3cuZ29v
      Lmdsggh5b3V0dS5iZYILeW91dHViZS5jb22CFHlvdXR1YmVlZHVjYXRpb24uY29t
      gg95b3V0dWJla2lkcy5jb22CBXl0LmJlMCEGA1UdIAQaMBgwCAYGZ4EMAQICMAwG
      CisGAQQB1nkCBQMwLwYDVR0fBCgwJjAkoCKgIIYeaHR0cDovL2NybC5wa2kuZ29v
      Zy9HVFMxTzEuY3JsMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHYAsh4FzIuizYog
      Todm+Su5iiUgZ2va+nDnsklTLe+LkF4AAAFvo59pBQAABAMARzBFAiBFpd4FTZMo
      W1sT7O2VzMd9TLLuAnKopLaplRNOc0jcvgIhAMPsFiCFzKH5c/0gmF/cKI0JL38e
      Z3OCy1hTzDfaS1P0AHUAXqdz+d9WwOe1Nkh90EngMnqRmgyEoRIShBh1loFxRVgA
      AAFvo59o/QAABAMARjBEAiBtLK58ejiTxW1iQa8aAeOKD0vRGh0UPjRFAuWRL4ti
      VwIgZKRx6dmq9lcOJqSxipEOLn5f2Ns6PNklC0GRGv8Duy0wDQYJKoZIhvcNAQEL
      BQADggEBAHs2A70p9sTJQI+6IbDnrvLun7OzUHLOiTiBNYt8uYEkJK7tJnuEBokg
      VLzGwyRlhtEgXYJIZttq7o3LthKc9BHHsj1d/Q8Lq1Mw/UfwRoKENrZBXlF+/4XX
      ux8KA6+dG7n8jcGSxwOZhPRDKsstNEOdXD4rN32pI2iYRcf9Vidg3fP4GrdS+Kfu
      KcF9qlqcg0x0D5m1CnAFe/12QLiOH6SM4CIXVXpeG6CUKYLWJ5VoHcNZJJttThCw
      s5U/uohHAyLaUTaQtzkaXJ7PQms538GD5AXwakLm1q+x8A67VWx36fMv7PXXh2fR
      MVu83sJV3ww6XiSs4LL/31e+jKZ78Cc=
      -----END CERTIFICATE-----
- set_property: privateca/location us-central1
- execute:
  - command: |
      privateca certificates describe my-cert --issuer my-ca
  - stdout: |-
      .*name: projects/foo/locations/us-central1/certificateAuthorities/my-ca/certificates/my-cert.*
      $
actions:
- set_property:
    core/project: foo
- execute_command:
    command: |
      privateca certificates describe projects/my-project/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
    events:
    - api_call:
        expect_request:
          uri: https://privateca.googleapis.com/v1beta1/projects/my-project/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            status: '200'
          body: |-
            {
              "name": "projects/my-project/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert",
              "pemCertificate": "pem_cert",
              "certificateDescription" : {
                "subjectDescription": {
                  "subject" : {
                      "organization": "Google"
                  },
                  "commonName": "describe_test",
                  "hexSerialNumber": "FFFFF",
                  "lifetime": "2592000s",
                  "notBeforeTime": "2020-03-17T15:14:00.105-07:00",
                  "notAfterTime": "2020-03-22T15:14:00.105-07:00"
                }
              },
              "createTime": "2020-03-17T15:14:00.105-07:00",
              "updateTime": "2020-04-17T15:14:00.105-07:00",
              "lifetime": "2592000s"
            }
    - expect_stdout: |
        certificateDescription:
          subjectDescription:
            commonName: describe_test
            hexSerialNumber: FFFFF
            lifetime: P30D
            notAfterTime: '2020-03-22T15:14:00.105-07:00'
            notBeforeTime: '2020-03-17T15:14:00.105-07:00'
            subject:
              organization: Google
        createTime: '2020-03-17T15:14:00.105-07:00'
        lifetime: P30D
        name: projects/my-project/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
        pemCertificate: pem_cert
        updateTime: '2020-04-17T15:14:00.105-07:00'
    - expect_exit:
        code: 0
- execute_command:
    command: |
      privateca certificates describe my-cert --issuer-location europe-west1 --issuer my-ca
    events:
    - api_call:
        expect_request:
          uri: https://privateca.googleapis.com/v1beta1/projects/foo/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            status: '200'
          body: |-
            {
              "name": "projects/foo/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert",
              "pemCertificate": "pem_cert",
              "certificateDescription" : {
                "subjectDescription": {
                  "subject" : {
                      "organization": "Google"
                  },
                  "commonName": "describe_test",
                  "hexSerialNumber": "FFFFF",
                  "lifetime": "2592000s",
                  "notBeforeTime": "2020-03-17T15:14:00.105-07:00",
                  "notAfterTime": "2020-03-22T15:14:00.105-07:00"
                },
                "configValues": {},
                "publicKey" : {
                  "type": "PEM_RSA_KEY",
                  "key": "000000010101"
                }
              },
              "revocationDetails": {
                "revocationState": "SUPERSEDED",
                "revocationTime": "2020-04-17T15:14:00.105-07:00"
              },
              "pemCertificateChain": ["issuer_cert", "root_cert"],
              "createTime": "2020-03-17T15:14:00.105-07:00",
              "updateTime": "2020-04-17T15:14:00.105-07:00",
              "lifetime": "2592000s"
            }
    - expect_stdout: |
        certificateDescription:
          configValues: {}
          publicKey:
            key: '000000010101'
            type: PEM_RSA_KEY
          subjectDescription:
            commonName: describe_test
            hexSerialNumber: FFFFF
            lifetime: P30D
            notAfterTime: '2020-03-22T15:14:00.105-07:00'
            notBeforeTime: '2020-03-17T15:14:00.105-07:00'
            subject:
              organization: Google
        createTime: '2020-03-17T15:14:00.105-07:00'
        lifetime: P30D
        name: projects/foo/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
        pemCertificate: pem_cert
        pemCertificateChain:
        - issuer_cert
        - root_cert
        revocationDetails:
          revocationState: SUPERSEDED
          revocationTime: '2020-04-17T15:14:00.105-07:00'
        updateTime: '2020-04-17T15:14:00.105-07:00'
    - expect_exit:
        code: 0
- execute_command:
    command: |
      privateca certificates describe my-cert --issuer-location europe-west1 --issuer my-ca --format "value(pem_certificate)"
    events:
    - api_call:
        expect_request:
          uri: https://privateca.googleapis.com/v1beta1/projects/foo/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            status: '200'
          body:
            name: projects/foo/locations/europe-west1/certificateAuthorities/my-ca/certificates/my-cert
            pem_certificate: |-
              -----BEGIN CERTIFICATE-----
              MIIJQzCCCCugAwIBAgIRAKIcJXVYjGJ9CAAAAAAplycwDQYJKoZIhvcNAQELBQAw
              QjELMAkGA1UEBhMCVVMxHjAcBgNVBAoTFUdvb2dsZSBUcnVzdCBTZXJ2aWNlczET
              MBEGA1UEAxMKR1RTIENBIDFPMTAeFw0yMDAxMTQwOTM1MjdaFw0yMDA0MDcwOTM1
              MjdaMGYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH
              Ew1Nb3VudGFpbiBWaWV3MRMwEQYDVQQKEwpHb29nbGUgTExDMRUwEwYDVQQDDAwq
              Lmdvb2dsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATdWr+ILeQyLiU0
              2UmkQO37Gnz29ofQdjynP+CaHhIwVojsPfCZQZ5Y0mvt1Xi3Jyw5MgjuqU1KFukF
              HFGfHG+Co4IG2TCCBtUwDgYDVR0PAQH/BAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUF
              BwMBMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFEenI/AmQd0onFKp6z+RdbgN3G7j
              MB8GA1UdIwQYMBaAFJjR+G4Q68+b7GCfGJAboOt9Cf0rMGQGCCsGAQUFBwEBBFgw
              VjAnBggrBgEFBQcwAYYbaHR0cDovL29jc3AucGtpLmdvb2cvZ3RzMW8xMCsGCCsG
              AQUFBzAChh9odHRwOi8vcGtpLmdvb2cvZ3NyMi9HVFMxTzEuY3J0MIIEnQYDVR0R
              BIIElDCCBJCCDCouZ29vZ2xlLmNvbYINKi5hbmRyb2lkLmNvbYIWKi5hcHBlbmdp
              bmUuZ29vZ2xlLmNvbYISKi5jbG91ZC5nb29nbGUuY29tghgqLmNyb3dkc291cmNl
              Lmdvb2dsZS5jb22CBiouZy5jb4IOKi5nY3AuZ3Z0Mi5jb22CESouZ2NwY2RuLmd2
              dDEuY29tggoqLmdncGh0LmNugg4qLmdrZWNuYXBwcy5jboIWKi5nb29nbGUtYW5h
              bHl0aWNzLmNvbYILKi5nb29nbGUuY2GCCyouZ29vZ2xlLmNsgg4qLmdvb2dsZS5j
              by5pboIOKi5nb29nbGUuY28uanCCDiouZ29vZ2xlLmNvLnVrgg8qLmdvb2dsZS5j
              b20uYXKCDyouZ29vZ2xlLmNvbS5hdYIPKi5nb29nbGUuY29tLmJygg8qLmdvb2ds
              ZS5jb20uY2+CDyouZ29vZ2xlLmNvbS5teIIPKi5nb29nbGUuY29tLnRygg8qLmdv
              b2dsZS5jb20udm6CCyouZ29vZ2xlLmRlggsqLmdvb2dsZS5lc4ILKi5nb29nbGUu
              ZnKCCyouZ29vZ2xlLmh1ggsqLmdvb2dsZS5pdIILKi5nb29nbGUubmyCCyouZ29v
              Z2xlLnBsggsqLmdvb2dsZS5wdIISKi5nb29nbGVhZGFwaXMuY29tgg8qLmdvb2ds
              ZWFwaXMuY26CESouZ29vZ2xlY25hcHBzLmNughQqLmdvb2dsZWNvbW1lcmNlLmNv
              bYIRKi5nb29nbGV2aWRlby5jb22CDCouZ3N0YXRpYy5jboINKi5nc3RhdGljLmNv
              bYISKi5nc3RhdGljY25hcHBzLmNuggoqLmd2dDEuY29tggoqLmd2dDIuY29tghQq
              Lm1ldHJpYy5nc3RhdGljLmNvbYIMKi51cmNoaW4uY29tghAqLnVybC5nb29nbGUu
              Y29tghMqLndlYXIuZ2tlY25hcHBzLmNughYqLnlvdXR1YmUtbm9jb29raWUuY29t
              gg0qLnlvdXR1YmUuY29tghYqLnlvdXR1YmVlZHVjYXRpb24uY29tghEqLnlvdXR1
              YmVraWRzLmNvbYIHKi55dC5iZYILKi55dGltZy5jb22CGmFuZHJvaWQuY2xpZW50
              cy5nb29nbGUuY29tggthbmRyb2lkLmNvbYIbZGV2ZWxvcGVyLmFuZHJvaWQuZ29v
              Z2xlLmNughxkZXZlbG9wZXJzLmFuZHJvaWQuZ29vZ2xlLmNuggRnLmNvgghnZ3Bo
              dC5jboIMZ2tlY25hcHBzLmNuggZnb28uZ2yCFGdvb2dsZS1hbmFseXRpY3MuY29t
              ggpnb29nbGUuY29tgg9nb29nbGVjbmFwcHMuY26CEmdvb2dsZWNvbW1lcmNlLmNv
              bYIYc291cmNlLmFuZHJvaWQuZ29vZ2xlLmNuggp1cmNoaW4uY29tggp3d3cuZ29v
              Lmdsggh5b3V0dS5iZYILeW91dHViZS5jb22CFHlvdXR1YmVlZHVjYXRpb24uY29t
              gg95b3V0dWJla2lkcy5jb22CBXl0LmJlMCEGA1UdIAQaMBgwCAYGZ4EMAQICMAwG
              CisGAQQB1nkCBQMwLwYDVR0fBCgwJjAkoCKgIIYeaHR0cDovL2NybC5wa2kuZ29v
              Zy9HVFMxTzEuY3JsMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHYAsh4FzIuizYog
              Todm+Su5iiUgZ2va+nDnsklTLe+LkF4AAAFvo59pBQAABAMARzBFAiBFpd4FTZMo
              W1sT7O2VzMd9TLLuAnKopLaplRNOc0jcvgIhAMPsFiCFzKH5c/0gmF/cKI0JL38e
              Z3OCy1hTzDfaS1P0AHUAXqdz+d9WwOe1Nkh90EngMnqRmgyEoRIShBh1loFxRVgA
              AAFvo59o/QAABAMARjBEAiBtLK58ejiTxW1iQa8aAeOKD0vRGh0UPjRFAuWRL4ti
              VwIgZKRx6dmq9lcOJqSxipEOLn5f2Ns6PNklC0GRGv8Duy0wDQYJKoZIhvcNAQEL
              BQADggEBAHs2A70p9sTJQI+6IbDnrvLun7OzUHLOiTiBNYt8uYEkJK7tJnuEBokg
              VLzGwyRlhtEgXYJIZttq7o3LthKc9BHHsj1d/Q8Lq1Mw/UfwRoKENrZBXlF+/4XX
              ux8KA6+dG7n8jcGSxwOZhPRDKsstNEOdXD4rN32pI2iYRcf9Vidg3fP4GrdS+Kfu
              KcF9qlqcg0x0D5m1CnAFe/12QLiOH6SM4CIXVXpeG6CUKYLWJ5VoHcNZJJttThCw
              s5U/uohHAyLaUTaQtzkaXJ7PQms538GD5AXwakLm1q+x8A67VWx36fMv7PXXh2fR
              MVu83sJV3ww6XiSs4LL/31e+jKZ78Cc=
              -----END CERTIFICATE-----
    - expect_stdout: |
        -----BEGIN CERTIFICATE-----
        MIIJQzCCCCugAwIBAgIRAKIcJXVYjGJ9CAAAAAAplycwDQYJKoZIhvcNAQELBQAw
        QjELMAkGA1UEBhMCVVMxHjAcBgNVBAoTFUdvb2dsZSBUcnVzdCBTZXJ2aWNlczET
        MBEGA1UEAxMKR1RTIENBIDFPMTAeFw0yMDAxMTQwOTM1MjdaFw0yMDA0MDcwOTM1
        MjdaMGYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH
        Ew1Nb3VudGFpbiBWaWV3MRMwEQYDVQQKEwpHb29nbGUgTExDMRUwEwYDVQQDDAwq
        Lmdvb2dsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATdWr+ILeQyLiU0
        2UmkQO37Gnz29ofQdjynP+CaHhIwVojsPfCZQZ5Y0mvt1Xi3Jyw5MgjuqU1KFukF
        HFGfHG+Co4IG2TCCBtUwDgYDVR0PAQH/BAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUF
        BwMBMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFEenI/AmQd0onFKp6z+RdbgN3G7j
        MB8GA1UdIwQYMBaAFJjR+G4Q68+b7GCfGJAboOt9Cf0rMGQGCCsGAQUFBwEBBFgw
        VjAnBggrBgEFBQcwAYYbaHR0cDovL29jc3AucGtpLmdvb2cvZ3RzMW8xMCsGCCsG
        AQUFBzAChh9odHRwOi8vcGtpLmdvb2cvZ3NyMi9HVFMxTzEuY3J0MIIEnQYDVR0R
        BIIElDCCBJCCDCouZ29vZ2xlLmNvbYINKi5hbmRyb2lkLmNvbYIWKi5hcHBlbmdp
        bmUuZ29vZ2xlLmNvbYISKi5jbG91ZC5nb29nbGUuY29tghgqLmNyb3dkc291cmNl
        Lmdvb2dsZS5jb22CBiouZy5jb4IOKi5nY3AuZ3Z0Mi5jb22CESouZ2NwY2RuLmd2
        dDEuY29tggoqLmdncGh0LmNugg4qLmdrZWNuYXBwcy5jboIWKi5nb29nbGUtYW5h
        bHl0aWNzLmNvbYILKi5nb29nbGUuY2GCCyouZ29vZ2xlLmNsgg4qLmdvb2dsZS5j
        by5pboIOKi5nb29nbGUuY28uanCCDiouZ29vZ2xlLmNvLnVrgg8qLmdvb2dsZS5j
        b20uYXKCDyouZ29vZ2xlLmNvbS5hdYIPKi5nb29nbGUuY29tLmJygg8qLmdvb2ds
        ZS5jb20uY2+CDyouZ29vZ2xlLmNvbS5teIIPKi5nb29nbGUuY29tLnRygg8qLmdv
        b2dsZS5jb20udm6CCyouZ29vZ2xlLmRlggsqLmdvb2dsZS5lc4ILKi5nb29nbGUu
        ZnKCCyouZ29vZ2xlLmh1ggsqLmdvb2dsZS5pdIILKi5nb29nbGUubmyCCyouZ29v
        Z2xlLnBsggsqLmdvb2dsZS5wdIISKi5nb29nbGVhZGFwaXMuY29tgg8qLmdvb2ds
        ZWFwaXMuY26CESouZ29vZ2xlY25hcHBzLmNughQqLmdvb2dsZWNvbW1lcmNlLmNv
        bYIRKi5nb29nbGV2aWRlby5jb22CDCouZ3N0YXRpYy5jboINKi5nc3RhdGljLmNv
        bYISKi5nc3RhdGljY25hcHBzLmNuggoqLmd2dDEuY29tggoqLmd2dDIuY29tghQq
        Lm1ldHJpYy5nc3RhdGljLmNvbYIMKi51cmNoaW4uY29tghAqLnVybC5nb29nbGUu
        Y29tghMqLndlYXIuZ2tlY25hcHBzLmNughYqLnlvdXR1YmUtbm9jb29raWUuY29t
        gg0qLnlvdXR1YmUuY29tghYqLnlvdXR1YmVlZHVjYXRpb24uY29tghEqLnlvdXR1
        YmVraWRzLmNvbYIHKi55dC5iZYILKi55dGltZy5jb22CGmFuZHJvaWQuY2xpZW50
        cy5nb29nbGUuY29tggthbmRyb2lkLmNvbYIbZGV2ZWxvcGVyLmFuZHJvaWQuZ29v
        Z2xlLmNughxkZXZlbG9wZXJzLmFuZHJvaWQuZ29vZ2xlLmNuggRnLmNvgghnZ3Bo
        dC5jboIMZ2tlY25hcHBzLmNuggZnb28uZ2yCFGdvb2dsZS1hbmFseXRpY3MuY29t
        ggpnb29nbGUuY29tgg9nb29nbGVjbmFwcHMuY26CEmdvb2dsZWNvbW1lcmNlLmNv
        bYIYc291cmNlLmFuZHJvaWQuZ29vZ2xlLmNuggp1cmNoaW4uY29tggp3d3cuZ29v
        Lmdsggh5b3V0dS5iZYILeW91dHViZS5jb22CFHlvdXR1YmVlZHVjYXRpb24uY29t
        gg95b3V0dWJla2lkcy5jb22CBXl0LmJlMCEGA1UdIAQaMBgwCAYGZ4EMAQICMAwG
        CisGAQQB1nkCBQMwLwYDVR0fBCgwJjAkoCKgIIYeaHR0cDovL2NybC5wa2kuZ29v
        Zy9HVFMxTzEuY3JsMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHYAsh4FzIuizYog
        Todm+Su5iiUgZ2va+nDnsklTLe+LkF4AAAFvo59pBQAABAMARzBFAiBFpd4FTZMo
        W1sT7O2VzMd9TLLuAnKopLaplRNOc0jcvgIhAMPsFiCFzKH5c/0gmF/cKI0JL38e
        Z3OCy1hTzDfaS1P0AHUAXqdz+d9WwOe1Nkh90EngMnqRmgyEoRIShBh1loFxRVgA
        AAFvo59o/QAABAMARjBEAiBtLK58ejiTxW1iQa8aAeOKD0vRGh0UPjRFAuWRL4ti
        VwIgZKRx6dmq9lcOJqSxipEOLn5f2Ns6PNklC0GRGv8Duy0wDQYJKoZIhvcNAQEL
        BQADggEBAHs2A70p9sTJQI+6IbDnrvLun7OzUHLOiTiBNYt8uYEkJK7tJnuEBokg
        VLzGwyRlhtEgXYJIZttq7o3LthKc9BHHsj1d/Q8Lq1Mw/UfwRoKENrZBXlF+/4XX
        ux8KA6+dG7n8jcGSxwOZhPRDKsstNEOdXD4rN32pI2iYRcf9Vidg3fP4GrdS+Kfu
        KcF9qlqcg0x0D5m1CnAFe/12QLiOH6SM4CIXVXpeG6CUKYLWJ5VoHcNZJJttThCw
        s5U/uohHAyLaUTaQtzkaXJ7PQms538GD5AXwakLm1q+x8A67VWx36fMv7PXXh2fR
        MVu83sJV3ww6XiSs4LL/31e+jKZ78Cc=
        -----END CERTIFICATE-----
    - expect_exit:
        code: 0
- set_property:
    privateca/location: us-central1
- execute_command:
    command: |
      privateca certificates describe my-cert --issuer my-ca
    events:
    - api_call:
        expect_request:
          uri: https://privateca.googleapis.com/v1beta1/projects/foo/locations/us-central1/certificateAuthorities/my-ca/certificates/my-cert?alt=json
          method: GET
          body: null
        return_response:
          headers:
            status: '200'
          body:
            name: projects/foo/locations/us-central1/certificateAuthorities/my-ca/certificates/my-cert
    - expect_stdout:
        matches: |
          .*name: projects/foo/locations/us-central1/certificateAuthorities/my-ca/certificates/my-cert.*
    - expect_exit:
        code: 0
