title: assured operations describe test
release_tracks: [BETA, ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: assured operations describe organizations/919698206570/locations/us-central1/operations/94e835f0-8cba-4721-9414-048b3ebd5dea
  - stderr: |
      Using endpoint [https://us-central1-assuredworkloads.googleapis.com/]
  - stdout: |
      done: true
      metadata:
        '@type': type.googleapis.com/google.cloud.assuredworkloads.v1beta1.CreateWorkloadOperationMetadata
        complianceRegime: FEDRAMP_MODERATE
        createTime: '2020-08-26T16:24:11.422669Z'
        displayName: TO-BE-DELETED
        parent: organizations/919698206570/locations/us-central1
      name: organizations/919698206570/locations/us-central1/operations/94e835f0-8cba-4721-9414-048b3ebd5dea
      response:
        '@type': type.googleapis.com/google.cloud.assuredworkloads.v1beta1.Workload
        complianceRegime: FEDRAMP_MODERATE
        createTime: '2020-08-26T16:24:24.078Z'
        displayName: TO-BE-DELETED
        etag: '-1150853528'
        labels:
          labelkey1: labelvalue1
          labelkey2: labelvalue2
        name: organizations/919698206570/locations/us-central1/workloads/00-56ffd0cb-0957-4a3f-86f9-c68
        resources:
        - resourceId: '704802444953'
        - resourceId: '896942721851'
actions:
- execute_command:
    command: assured operations describe organizations/919698206570/locations/us-central1/operations/94e835f0-8cba-4721-9414-048b3ebd5dea
    events:
    - expect_stderr: |
        Using endpoint [https://us-central1-assuredworkloads.googleapis.com/]
    - api_call:
        expect_request:
          uri: https://us-central1-assuredworkloads.googleapis.com/v1beta1/organizations/919698206570/locations/us-central1/operations/94e835f0-8cba-4721-9414-048b3ebd5dea?alt=json
          method: GET
          body: null
        return_response:
          headers:
            status: '200'
          body: |
            {
              "name": "organizations/919698206570/locations/us-central1/operations/94e835f0-8cba-4721-9414-048b3ebd5dea",
              "metadata": {
                "@type": "type.googleapis.com/google.cloud.assuredworkloads.v1beta1.CreateWorkloadOperationMetadata",
                "createTime": "2020-08-26T16:24:11.422669Z",
                "displayName": "TO-BE-DELETED",
                "parent": "organizations/919698206570/locations/us-central1",
                "complianceRegime": "FEDRAMP_MODERATE"
              },
              "done": true,
              "response": {
                "@type": "type.googleapis.com/google.cloud.assuredworkloads.v1beta1.Workload",
                "name": "organizations/919698206570/locations/us-central1/workloads/00-56ffd0cb-0957-4a3f-86f9-c68",
                "displayName": "TO-BE-DELETED",
                "resources": [
                  {
                    "resourceId": "704802444953"
                  },
                  {
                    "resourceId": "896942721851"
                  }
                ],
                "complianceRegime": "FEDRAMP_MODERATE",
                "createTime": "2020-08-26T16:24:24.078Z",
                "etag": "-1150853528",
                "labels": {
                  "labelkey1": "labelvalue1",
                  "labelkey2": "labelvalue2"
                }
              }
            }
    - expect_stdout: |
        done: true
        metadata:
          '@type': type.googleapis.com/google.cloud.assuredworkloads.v1beta1.CreateWorkloadOperationMetadata
          complianceRegime: FEDRAMP_MODERATE
          createTime: '2020-08-26T16:24:11.422669Z'
          displayName: TO-BE-DELETED
          parent: organizations/919698206570/locations/us-central1
        name: organizations/919698206570/locations/us-central1/operations/94e835f0-8cba-4721-9414-048b3ebd5dea
        response:
          '@type': type.googleapis.com/google.cloud.assuredworkloads.v1beta1.Workload
          complianceRegime: FEDRAMP_MODERATE
          createTime: '2020-08-26T16:24:24.078Z'
          displayName: TO-BE-DELETED
          etag: '-1150853528'
          labels:
            labelkey1: labelvalue1
            labelkey2: labelvalue2
          name: organizations/919698206570/locations/us-central1/workloads/00-56ffd0cb-0957-4a3f-86f9-c68
          resources:
          - resourceId: '704802444953'
          - resourceId: '896942721851'
    - expect_exit:
        code: 0
