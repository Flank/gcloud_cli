title: assured workloads describe test
release_tracks: [BETA, ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: assured workloads describe organizations/919698206570/locations/us-central1/workloads/00-fdf72683-8e1a-4a27-a82e-716
  - stderr: |
      Using endpoint [https://us-central1-assuredworkloads.googleapis.com/]
  - stdout: |
      complianceRegime: IL4
      createTime: '2020-08-25T12:26:58.506Z'
      displayName: test 1
      etag: '1002407346'
      labels:
        goog-aw-external-identifier: test2
      name: organizations/919698206570/locations/us-central1/workloads/00-fdf72683-8e1a-4a27-a82e-716
      resources:
      - resourceId: '651510076480'
      - resourceId: '1089740956679'
actions:
- execute_command:
    command: assured workloads describe organizations/919698206570/locations/us-central1/workloads/00-fdf72683-8e1a-4a27-a82e-716
    events:
    - expect_stderr: |
        Using endpoint [https://us-central1-assuredworkloads.googleapis.com/]
    - api_call:
        expect_request:
          uri: https://us-central1-assuredworkloads.googleapis.com/v1beta1/organizations/919698206570/locations/us-central1/workloads/00-fdf72683-8e1a-4a27-a82e-716?alt=json
          method: GET
          body: null
        return_response:
          headers:
            status: '200'
          body: |
            {
              "name": "organizations/919698206570/locations/us-central1/workloads/00-fdf72683-8e1a-4a27-a82e-716",
              "displayName": "test 1",
              "resources": [
                {
                  "resourceId": "651510076480"
                },
                {
                  "resourceId": "1089740956679"
                }
              ],
              "complianceRegime": "IL4",
              "createTime": "2020-08-25T12:26:58.506Z",
              "etag": "1002407346",
              "labels": {
                "goog-aw-external-identifier": "test2"
              }
            }
    - expect_stdout: |
        complianceRegime: IL4
        createTime: '2020-08-25T12:26:58.506Z'
        displayName: test 1
        etag: '1002407346'
        labels:
          goog-aw-external-identifier: test2
        name: organizations/919698206570/locations/us-central1/workloads/00-fdf72683-8e1a-4a27-a82e-716
        resources:
        - resourceId: '651510076480'
        - resourceId: '1089740956679'
    - expect_exit:
        code: 0
