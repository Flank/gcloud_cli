title: dataproc metastore describe operation test scenario
release_tracks: [ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: |
      metastore operations describe foo --location us-central1
  - stdout: |
      done: true
      metadata:
        '@type': type.googleapis.com/google.cloud.metastore.v1alpha.OperationMetadata
        apiVersion: v1alpha
        createTime: '2020-08-13T03:56:33.089306251Z'
        endTime: '2020-08-13T03:57:05.857310372Z'
        requestedCancellation: false
        target: projects/metastore-dogfood-cp/locations/us-east4/services/test-gcloud
        verb: update
      name: projects/metastore-dogfood-cp/locations/us-east4/operations/operation-1597290993055-5acba4a3e76ba-00b74a10-03607bbf
      response:
        '@type': type.googleapis.com/google.cloud.metastore.v1alpha.Service
        artifactGcsUri: gs://gcs-bucket-test-gcloud-341b4d76-4d9e-4a64-978b-841621553716
        createTime: '2020-08-13T01:05:42.497876264Z'
        endpointUri: thrift://10.222.64.24:9083
        hiveMetastoreConfig:
          configOverrides:
            hive.metastore.warehouse.dir: gs://gcs-bucket-test-gcloud-341b4d76-4d9e-4a64-978b-841621553716/hive-warehouse
          version: 2.3.6
        name: projects/metastore-dogfood-cp/locations/us-east4/services/test-gcloud
        network: projects/metastore-dogfood-cp/global/networks/wuhaotian
        port: 9083
        state: ACTIVE
        stateMessage: The service is ready to use
        tier: ENTERPRISE
        updateTime: '2020-08-13T03:56:33.090899991Z'
actions:
- execute_command:
    command: |
      metastore operations describe foo --location us-central1
    events:
    - api_call:
        expect_request:
          uri: https://metastore.googleapis.com/v1alpha/projects/fake-project/locations/us-central1/operations/foo?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          status: 200
          headers: {}
          body: |
            {
              "name": "projects/metastore-dogfood-cp/locations/us-east4/operations/operation-1597290993055-5acba4a3e76ba-00b74a10-03607bbf",
              "metadata": {
                "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.OperationMetadata",
                "createTime": "2020-08-13T03:56:33.089306251Z",
                "endTime": "2020-08-13T03:57:05.857310372Z",
                "target": "projects/metastore-dogfood-cp/locations/us-east4/services/test-gcloud",
                "verb": "update",
                "requestedCancellation": false,
                "apiVersion": "v1alpha"
              },
              "done": true,
              "response": {
                "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.Service",
                "name": "projects/metastore-dogfood-cp/locations/us-east4/services/test-gcloud",
                "createTime": "2020-08-13T01:05:42.497876264Z",
                "updateTime": "2020-08-13T03:56:33.090899991Z",
                "hiveMetastoreConfig": {
                  "version": "2.3.6",
                  "configOverrides": {
                    "hive.metastore.warehouse.dir": "gs://gcs-bucket-test-gcloud-341b4d76-4d9e-4a64-978b-841621553716/hive-warehouse"
                  }
                },
                "network": "projects/metastore-dogfood-cp/global/networks/wuhaotian",
                "endpointUri": "thrift://10.222.64.24:9083",
                "port": 9083,
                "state": "ACTIVE",
                "stateMessage": "The service is ready to use",
                "artifactGcsUri": "gs://gcs-bucket-test-gcloud-341b4d76-4d9e-4a64-978b-841621553716",
                "tier": "ENTERPRISE"
              }
            }
    - expect_stdout: |
        done: true
        metadata:
          '@type': type.googleapis.com/google.cloud.metastore.v1alpha.OperationMetadata
          apiVersion: v1alpha
          createTime: '2020-08-13T03:56:33.089306251Z'
          endTime: '2020-08-13T03:57:05.857310372Z'
          requestedCancellation: false
          target: projects/metastore-dogfood-cp/locations/us-east4/services/test-gcloud
          verb: update
        name: projects/metastore-dogfood-cp/locations/us-east4/operations/operation-1597290993055-5acba4a3e76ba-00b74a10-03607bbf
        response:
          '@type': type.googleapis.com/google.cloud.metastore.v1alpha.Service
          artifactGcsUri: gs://gcs-bucket-test-gcloud-341b4d76-4d9e-4a64-978b-841621553716
          createTime: '2020-08-13T01:05:42.497876264Z'
          endpointUri: thrift://10.222.64.24:9083
          hiveMetastoreConfig:
            configOverrides:
              hive.metastore.warehouse.dir: gs://gcs-bucket-test-gcloud-341b4d76-4d9e-4a64-978b-841621553716/hive-warehouse
            version: 2.3.6
          name: projects/metastore-dogfood-cp/locations/us-east4/services/test-gcloud
          network: projects/metastore-dogfood-cp/global/networks/wuhaotian
          port: 9083
          state: ACTIVE
          stateMessage: The service is ready to use
          tier: ENTERPRISE
          updateTime: '2020-08-13T03:56:33.090899991Z'
    - expect_exit:
        code: 0
