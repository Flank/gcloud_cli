title: dataproc metastore describe locations test scenario
release_tracks: [ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: |
      metastore locations describe us-central1
  - stdout: |
      locationId: us-central1
      metadata:
        '@type': type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata
        supportedHiveMetastoreVersions:
        - version: 1.2.2
        - version: 2.2.0
        - isDefault: true
          version: 2.3.6
        - version: 3.1.2
      name: projects/fake-project/locations/us-central1
actions:
- execute_command:
    command: |
      metastore locations describe us-central1
    events:
    - api_call:
        expect_request:
          uri: https://metastore.googleapis.com/v1alpha/projects/fake-project/locations/us-central1?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          status: 200
          headers: {}
          body: |
            {
              "name": "projects/fake-project/locations/us-central1",
              "metadata": {
                "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata",
                "supportedHiveMetastoreVersions": [
                  {
                    "version": "1.2.2"
                  },
                  {
                    "version": "2.2.0"
                  },
                  {
                    "version": "2.3.6",
                    "isDefault": true
                  },
                  {
                    "version": "3.1.2"
                  }
                ]
              },
              "locationId": "us-central1"
            }
    - expect_stdout: |
        locationId: us-central1
        metadata:
          '@type': type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata
          supportedHiveMetastoreVersions:
          - version: 1.2.2
          - version: 2.2.0
          - isDefault: true
            version: 2.3.6
          - version: 3.1.2
        name: projects/fake-project/locations/us-central1
    - expect_exit:
        code: 0
