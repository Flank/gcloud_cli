title: dataproc metastore list locations test scenario
release_tracks: [ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: |
      metastore locations list --project foo
  - stdout: |
      LOCATION_NAME         PROJECT
      asia-northeast1       foo
      australia-southeast1  foo
      europe-west2          foo
      us-central1           foo
      us-east4              foo
actions:
- execute_command:
    command: |
      metastore locations list --project foo
    events:
    - api_call:
        expect_request:
          uri: https://metastore.googleapis.com/v1alpha/projects/foo/locations?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          status: 200
          headers: {}
          body: |
            {
              "locations": [
                {
                  "name": "projects/foo/locations/asia-northeast1",
                  "metadata": {
                    "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata",
                    "supportedHiveMetastoreVersions": [
                      {
                        "version": "1.2.2"
                      },
                      {
                        "version": "2.2.0"
                      },
                      {
                        "version": "2.3.6",
                        "isDefault": true
                      },
                      {
                        "version": "3.1.2"
                      }
                    ]
                  },
                  "locationId": "asia-northeast1"
                },
                {
                  "name": "projects/foo/locations/australia-southeast1",
                  "metadata": {
                    "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata",
                    "supportedHiveMetastoreVersions": [
                      {
                        "version": "1.2.2"
                      },
                      {
                        "version": "2.2.0"
                      },
                      {
                        "version": "2.3.6",
                        "isDefault": true
                      },
                      {
                        "version": "3.1.2"
                      }
                    ]
                  },
                  "locationId": "australia-southeast1"
                },
                {
                  "name": "projects/foo/locations/europe-west2",
                  "metadata": {
                    "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata",
                    "supportedHiveMetastoreVersions": [
                      {
                        "version": "1.2.2"
                      },
                      {
                        "version": "2.2.0"
                      },
                      {
                        "version": "2.3.6",
                        "isDefault": true
                      },
                      {
                        "version": "3.1.2"
                      }
                    ]
                  },
                  "locationId": "europe-west2"
                },
                {
                  "name": "projects/foo/locations/us-central1",
                  "metadata": {
                    "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata",
                    "supportedHiveMetastoreVersions": [
                      {
                        "version": "1.2.2"
                      },
                      {
                        "version": "2.2.0"
                      },
                      {
                        "version": "2.3.6",
                        "isDefault": true
                      },
                      {
                        "version": "3.1.2"
                      }
                    ]
                  },
                  "locationId": "us-central1"
                },
                {
                  "name": "projects/foo/locations/us-east4",
                  "metadata": {
                    "@type": "type.googleapis.com/google.cloud.metastore.v1alpha.LocationMetadata",
                    "supportedHiveMetastoreVersions": [
                      {
                        "version": "1.2.2"
                      },
                      {
                        "version": "2.2.0"
                      },
                      {
                        "version": "2.3.6",
                        "isDefault": true
                      },
                      {
                        "version": "3.1.2"
                      }
                    ]
                  },
                  "locationId": "us-east4"
                }
              ]
            }
    - expect_stdout: |
        LOCATION_NAME         PROJECT
        asia-northeast1       foo
        australia-southeast1  foo
        europe-west2          foo
        us-central1           foo
        us-east4              foo
    - expect_exit:
        code: 0
