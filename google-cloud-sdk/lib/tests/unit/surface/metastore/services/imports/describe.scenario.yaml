title: dataproc metastore describe a metadata import test scenario
release_tracks: [ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: |
      metastore services imports describe foo --service bar --location us-central1
  - stdout: |
      createTime: '2020-08-20T00:21:59.430131088Z'
      databaseDump:
        databaseType: MYSQL
        gcsUri: gs://test-gcloud/sql_import_target/hive_import_2_3_6_3M
      name: projects/metastore-dogfood-cp/locations/us-central1/services/test-gcloud2/metadataImports/test-import
      state: SUCCEEDED
      updateTime: '2020-08-20T00:28:52.313683501Z'
actions:
- execute_command:
    command: |
      metastore services imports describe foo --service bar --location us-central1
    events:
    - api_call:
        expect_request:
          uri: https://metastore.googleapis.com/v1alpha/projects/fake-project/locations/us-central1/services/bar/metadataImports/foo?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          status: 200
          headers: {}
          body: |
            {
              "name": "projects/metastore-dogfood-cp/locations/us-central1/services/test-gcloud2/metadataImports/test-import",
              "createTime": "2020-08-20T00:21:59.430131088Z",
              "updateTime": "2020-08-20T00:28:52.313683501Z",
              "state": "SUCCEEDED",
              "databaseDump": {
                "databaseType": "MYSQL",
                "gcsUri": "gs://test-gcloud/sql_import_target/hive_import_2_3_6_3M"
              }
            }
    - expect_stdout: |
        createTime: '2020-08-20T00:21:59.430131088Z'
        databaseDump:
          databaseType: MYSQL
          gcsUri: gs://test-gcloud/sql_import_target/hive_import_2_3_6_3M
        name: projects/metastore-dogfood-cp/locations/us-central1/services/test-gcloud2/metadataImports/test-import
        state: SUCCEEDED
        updateTime: '2020-08-20T00:28:52.313683501Z'
    - expect_exit:
        code: 0
