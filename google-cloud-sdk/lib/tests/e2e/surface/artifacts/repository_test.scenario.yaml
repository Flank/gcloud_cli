title: artifacts repositories roundtrip
release_tracks: [BETA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: artifacts repositories create $$ar-repo$$ --repository-format=docker
      --location=us-east1 --description="My test repo"
  - stderr: |
      Create request issued for: [$$ar-repo$$]
  - progress_tracker:
    - message: Waiting for operation [$$operation$$] to complete
    - status: SUCCESS
  - stderr: |
      Created repository [$$ar-repo$$].
- execute:
  - command: artifacts repositories describe $$ar-repo$$ --location=us-east1
  - stderr: |
      Encryption: Google-managed key
  - stdout: |-
      createTime: .*
      description: My test repo
      format: DOCKER
      name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$
      updateTime: .*
      $
- execute:
  - command: artifacts repositories list --filter="$$ar-repo$$" --format="text(AR.name.basename())"
      --flatten="AR[]" --location=us-east1
  - stderr: ^Listing items under project cloud-sdk-integration-testing..*$
- execute:
  - command: artifacts repositories delete $$ar-repo$$ --location=us-east1
  - prompt:
    - message: You are about to delete repository [$$ar-repo$$]
    - input: y
  - stderr: |
      Delete request issued for: [$$ar-repo$$]
  - progress_tracker:
    - message: Waiting for operation [$$operation$$] to complete
    - status: SUCCESS
  - stderr: |
      Deleted repository [$$ar-repo$$].
actions:
- generate_resource_id:
    reference: ar-repo
    prefix: ar-repo

- execute_command:
    command: artifacts repositories create $$ar-repo$$ --repository-format=docker
      --location=us-east1 --description="My test repo"
    events:
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '4775'
            content-type: application/json; charset=UTF-8
          body:
            locations:
            - name: projects/cloud-sdk-integration-testing/locations/asia-south1
              labels:
                cloud.googleapis.com/region: asia-south1
              locationId: asia-south1
            - name: projects/cloud-sdk-integration-testing/locations/asia-southeast1
              labels:
                cloud.googleapis.com/region: asia-southeast1
              locationId: asia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west6
              labels:
                cloud.googleapis.com/region: europe-west6
              locationId: europe-west6
            - name: projects/cloud-sdk-integration-testing/locations/southamerica-east1
              labels:
                cloud.googleapis.com/region: southamerica-east1
              locationId: southamerica-east1
            - name: projects/cloud-sdk-integration-testing/locations/us-east4
              labels:
                cloud.googleapis.com/region: us-east4
              locationId: us-east4
            - name: projects/cloud-sdk-integration-testing/locations/australia-southeast1
              labels:
                cloud.googleapis.com/region: australia-southeast1
              locationId: australia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west4
              labels:
                cloud.googleapis.com/region: europe-west4
              locationId: europe-west4
            - name: projects/cloud-sdk-integration-testing/locations/us
              labels:
                cloud.googleapis.com/region: us
              locationId: us
            - name: projects/cloud-sdk-integration-testing/locations/us-central1
              labels:
                cloud.googleapis.com/region: us-central1
              locationId: us-central1
            - name: projects/cloud-sdk-integration-testing/locations/us-west2
              labels:
                cloud.googleapis.com/region: us-west2
              locationId: us-west2
            - name: projects/cloud-sdk-integration-testing/locations/asia
              labels:
                cloud.googleapis.com/region: asia
              locationId: asia
            - name: projects/cloud-sdk-integration-testing/locations/asia-east2
              labels:
                cloud.googleapis.com/region: asia-east2
              locationId: asia-east2
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast1
              labels:
                cloud.googleapis.com/region: asia-northeast1
              locationId: asia-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast2
              labels:
                cloud.googleapis.com/region: asia-northeast2
              locationId: asia-northeast2
            - name: projects/cloud-sdk-integration-testing/locations/europe-north1
              labels:
                cloud.googleapis.com/region: europe-north1
              locationId: europe-north1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west1
              labels:
                cloud.googleapis.com/region: europe-west1
              locationId: europe-west1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west2
              labels:
                cloud.googleapis.com/region: europe-west2
              locationId: europe-west2
            - name: projects/cloud-sdk-integration-testing/locations/us-west1
              labels:
                cloud.googleapis.com/region: us-west1
              locationId: us-west1
            - name: projects/cloud-sdk-integration-testing/locations/asia-east1
              labels:
                cloud.googleapis.com/region: asia-east1
              locationId: asia-east1
            - name: projects/cloud-sdk-integration-testing/locations/europe
              labels:
                cloud.googleapis.com/region: europe
              locationId: europe
            - name: projects/cloud-sdk-integration-testing/locations/europe-west3
              labels:
                cloud.googleapis.com/region: europe-west3
              locationId: europe-west3
            - name: projects/cloud-sdk-integration-testing/locations/northamerica-northeast1
              labels:
                cloud.googleapis.com/region: northamerica-northeast1
              locationId: northamerica-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/us-east1
              labels:
                cloud.googleapis.com/region: us-east1
              locationId: us-east1
          status: 200
    - api_call:
        poll_operation: true
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations/us-east1/repositories?alt=json&repositoryId=$$ar-repo$$
          method: POST
          headers: {}
          body:
            json:
              description: My test repo
              format: DOCKER
              name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$
        return_response:
          headers:
            cache-control: private
            content-length: '237'
            content-type: application/json; charset=UTF-8
          body:
            name: projects/cloud-sdk-integration-testing/locations/us-east1/operations/2dd94a89-ffb6-4632-a20a-94607492e858
            metadata:
              '@type': type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata
          status: 200
    - expect_stderr: |
        Create request issued for: [$$ar-repo$$]
    - expect_progress_tracker:
        message: Waiting for operation [$$operation$$] to complete
        status: SUCCESS
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '265'
            content-type: application/json; charset=UTF-8
          body:
            name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$
            format: DOCKER
            description: My test repo
            createTime: '2020-10-14T23:36:05.753267Z'
            updateTime: '2020-10-14T23:36:05.753267Z'
          status: 200
    - expect_stderr: |
        Created repository [$$ar-repo$$].
    - expect_exit:
        code: 0
- execute_command:
    command: artifacts repositories describe $$ar-repo$$ --location=us-east1
    events:
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '4775'
            content-type: application/json; charset=UTF-8
          body:
            locations:
            - name: projects/cloud-sdk-integration-testing/locations/us-central1
              labels:
                cloud.googleapis.com/region: us-central1
              locationId: us-central1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west4
              labels:
                cloud.googleapis.com/region: europe-west4
              locationId: europe-west4
            - name: projects/cloud-sdk-integration-testing/locations/europe-west6
              labels:
                cloud.googleapis.com/region: europe-west6
              locationId: europe-west6
            - name: projects/cloud-sdk-integration-testing/locations/us
              labels:
                cloud.googleapis.com/region: us
              locationId: us
            - name: projects/cloud-sdk-integration-testing/locations/europe-west1
              labels:
                cloud.googleapis.com/region: europe-west1
              locationId: europe-west1
            - name: projects/cloud-sdk-integration-testing/locations/southamerica-east1
              labels:
                cloud.googleapis.com/region: southamerica-east1
              locationId: southamerica-east1
            - name: projects/cloud-sdk-integration-testing/locations/us-east1
              labels:
                cloud.googleapis.com/region: us-east1
              locationId: us-east1
            - name: projects/cloud-sdk-integration-testing/locations/us-west1
              labels:
                cloud.googleapis.com/region: us-west1
              locationId: us-west1
            - name: projects/cloud-sdk-integration-testing/locations/asia
              labels:
                cloud.googleapis.com/region: asia
              locationId: asia
            - name: projects/cloud-sdk-integration-testing/locations/asia-southeast1
              labels:
                cloud.googleapis.com/region: asia-southeast1
              locationId: asia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe
              labels:
                cloud.googleapis.com/region: europe
              locationId: europe
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast1
              labels:
                cloud.googleapis.com/region: asia-northeast1
              locationId: asia-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast2
              labels:
                cloud.googleapis.com/region: asia-northeast2
              locationId: asia-northeast2
            - name: projects/cloud-sdk-integration-testing/locations/europe-north1
              labels:
                cloud.googleapis.com/region: europe-north1
              locationId: europe-north1
            - name: projects/cloud-sdk-integration-testing/locations/australia-southeast1
              labels:
                cloud.googleapis.com/region: australia-southeast1
              locationId: australia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west2
              labels:
                cloud.googleapis.com/region: europe-west2
              locationId: europe-west2
            - name: projects/cloud-sdk-integration-testing/locations/europe-west3
              labels:
                cloud.googleapis.com/region: europe-west3
              locationId: europe-west3
            - name: projects/cloud-sdk-integration-testing/locations/northamerica-northeast1
              labels:
                cloud.googleapis.com/region: northamerica-northeast1
              locationId: northamerica-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/us-east4
              labels:
                cloud.googleapis.com/region: us-east4
              locationId: us-east4
            - name: projects/cloud-sdk-integration-testing/locations/asia-east1
              labels:
                cloud.googleapis.com/region: asia-east1
              locationId: asia-east1
            - name: projects/cloud-sdk-integration-testing/locations/asia-east2
              labels:
                cloud.googleapis.com/region: asia-east2
              locationId: asia-east2
            - name: projects/cloud-sdk-integration-testing/locations/asia-south1
              labels:
                cloud.googleapis.com/region: asia-south1
              locationId: asia-south1
            - name: projects/cloud-sdk-integration-testing/locations/us-west2
              labels:
                cloud.googleapis.com/region: us-west2
              locationId: us-west2
          status: 200
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '265'
            content-type: application/json; charset=UTF-8
          body:
            name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$
            format: DOCKER
            description: My test repo
            createTime: '2020-10-14T23:36:05.753267Z'
            updateTime: '2020-10-14T23:36:05.753267Z'
          status: 200
    - expect_stderr: |
        Encryption: Google-managed key
    - expect_stdout:
        matches: |
          createTime: .*
          description: My test repo
          format: DOCKER
          name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$
          updateTime: .*
    - expect_exit:
        code: 0
- execute_command:
    command: artifacts repositories list --filter="$$ar-repo$$" --format="text(AR.name.basename())"
      --flatten="AR[]" --location=us-east1
    events:
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '4775'
            content-type: application/json; charset=UTF-8
          body:
            locations:
            - name: projects/cloud-sdk-integration-testing/locations/europe-north1
              labels:
                cloud.googleapis.com/region: europe-north1
              locationId: europe-north1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west3
              labels:
                cloud.googleapis.com/region: europe-west3
              locationId: europe-west3
            - name: projects/cloud-sdk-integration-testing/locations/asia-east1
              labels:
                cloud.googleapis.com/region: asia-east1
              locationId: asia-east1
            - name: projects/cloud-sdk-integration-testing/locations/asia-east2
              labels:
                cloud.googleapis.com/region: asia-east2
              locationId: asia-east2
            - name: projects/cloud-sdk-integration-testing/locations/europe-west4
              labels:
                cloud.googleapis.com/region: europe-west4
              locationId: europe-west4
            - name: projects/cloud-sdk-integration-testing/locations/northamerica-northeast1
              labels:
                cloud.googleapis.com/region: northamerica-northeast1
              locationId: northamerica-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/us
              labels:
                cloud.googleapis.com/region: us
              locationId: us
            - name: projects/cloud-sdk-integration-testing/locations/us-east1
              labels:
                cloud.googleapis.com/region: us-east1
              locationId: us-east1
            - name: projects/cloud-sdk-integration-testing/locations/us-east4
              labels:
                cloud.googleapis.com/region: us-east4
              locationId: us-east4
            - name: projects/cloud-sdk-integration-testing/locations/asia-southeast1
              labels:
                cloud.googleapis.com/region: asia-southeast1
              locationId: asia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/australia-southeast1
              labels:
                cloud.googleapis.com/region: australia-southeast1
              locationId: australia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west2
              labels:
                cloud.googleapis.com/region: europe-west2
              locationId: europe-west2
            - name: projects/cloud-sdk-integration-testing/locations/us-central1
              labels:
                cloud.googleapis.com/region: us-central1
              locationId: us-central1
            - name: projects/cloud-sdk-integration-testing/locations/us-west1
              labels:
                cloud.googleapis.com/region: us-west1
              locationId: us-west1
            - name: projects/cloud-sdk-integration-testing/locations/us-west2
              labels:
                cloud.googleapis.com/region: us-west2
              locationId: us-west2
            - name: projects/cloud-sdk-integration-testing/locations/asia
              labels:
                cloud.googleapis.com/region: asia
              locationId: asia
            - name: projects/cloud-sdk-integration-testing/locations/europe
              labels:
                cloud.googleapis.com/region: europe
              locationId: europe
            - name: projects/cloud-sdk-integration-testing/locations/asia-south1
              labels:
                cloud.googleapis.com/region: asia-south1
              locationId: asia-south1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west1
              labels:
                cloud.googleapis.com/region: europe-west1
              locationId: europe-west1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west6
              labels:
                cloud.googleapis.com/region: europe-west6
              locationId: europe-west6
            - name: projects/cloud-sdk-integration-testing/locations/southamerica-east1
              labels:
                cloud.googleapis.com/region: southamerica-east1
              locationId: southamerica-east1
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast1
              labels:
                cloud.googleapis.com/region: asia-northeast1
              locationId: asia-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast2
              labels:
                cloud.googleapis.com/region: asia-northeast2
              locationId: asia-northeast2
          status: 200
    - expect_stderr:
        matches: ^Listing items under project cloud-sdk-integration-testing..*
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations/us-east1/repositories?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '2673'
            content-type: application/json; charset=UTF-8
          body:
            repositories:
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200615-225434-0m6y
              format: DOCKER
              description: My test repo
              createTime: '2020-06-15T22:54:35.739766Z'
              updateTime: '2020-06-15T22:54:35.739766Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200615-225438-uut8
              format: DOCKER
              description: My test repo
              createTime: '2020-06-15T22:54:39.135909Z'
              updateTime: '2020-06-15T22:54:39.135909Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200615-225441-0894
              format: DOCKER
              description: My test repo
              createTime: '2020-06-15T22:54:42.193400Z'
              updateTime: '2020-06-15T22:54:42.193400Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200615-225512-sky3
              format: DOCKER
              description: My test repo
              createTime: '2020-06-15T22:55:15.078435Z'
              updateTime: '2020-06-15T22:55:15.078435Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200615-225515-1n3t
              format: DOCKER
              description: My test repo
              createTime: '2020-06-15T22:55:17.807993Z'
              updateTime: '2020-06-15T22:55:17.807993Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200615-225517-2v06
              format: DOCKER
              description: My test repo
              createTime: '2020-06-15T22:55:20.114557Z'
              updateTime: '2020-06-15T22:55:20.114557Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200708-124745-4db5
              format: DOCKER
              description: My test repo
              createTime: '2020-07-08T12:47:46.727995Z'
              updateTime: '2020-07-08T12:47:46.727995Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/ar-repo-20200715-001322-n5p0
              format: DOCKER
              description: My test repo
              createTime: '2020-07-15T00:13:22.800997Z'
              updateTime: '2020-07-15T00:13:22.800997Z'
            - name: projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$
              format: DOCKER
              description: My test repo
              createTime: '2020-10-14T23:36:05.753267Z'
              updateTime: '2020-10-14T23:36:05.753267Z'
          status: 200
    - expect_exit:
        code: 0
- execute_command:
    command: artifacts repositories delete $$ar-repo$$ --location=us-east1
    cleanup_for: ar-repo
    events:
    - expect_prompt_continue:
        message: You are about to delete repository [$$ar-repo$$]
        user_input: y
    - api_call:
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '4775'
            content-type: application/json; charset=UTF-8
          body:
            locations:
            - name: projects/cloud-sdk-integration-testing/locations/australia-southeast1
              labels:
                cloud.googleapis.com/region: australia-southeast1
              locationId: australia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west4
              labels:
                cloud.googleapis.com/region: europe-west4
              locationId: europe-west4
            - name: projects/cloud-sdk-integration-testing/locations/northamerica-northeast1
              labels:
                cloud.googleapis.com/region: northamerica-northeast1
              locationId: northamerica-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/us
              labels:
                cloud.googleapis.com/region: us
              locationId: us
            - name: projects/cloud-sdk-integration-testing/locations/us-east1
              labels:
                cloud.googleapis.com/region: us-east1
              locationId: us-east1
            - name: projects/cloud-sdk-integration-testing/locations/us-east4
              labels:
                cloud.googleapis.com/region: us-east4
              locationId: us-east4
            - name: projects/cloud-sdk-integration-testing/locations/asia-southeast1
              labels:
                cloud.googleapis.com/region: asia-southeast1
              locationId: asia-southeast1
            - name: projects/cloud-sdk-integration-testing/locations/europe
              labels:
                cloud.googleapis.com/region: europe
              locationId: europe
            - name: projects/cloud-sdk-integration-testing/locations/europe-west2
              labels:
                cloud.googleapis.com/region: europe-west2
              locationId: europe-west2
            - name: projects/cloud-sdk-integration-testing/locations/us-central1
              labels:
                cloud.googleapis.com/region: us-central1
              locationId: us-central1
            - name: projects/cloud-sdk-integration-testing/locations/us-west1
              labels:
                cloud.googleapis.com/region: us-west1
              locationId: us-west1
            - name: projects/cloud-sdk-integration-testing/locations/us-west2
              labels:
                cloud.googleapis.com/region: us-west2
              locationId: us-west2
            - name: projects/cloud-sdk-integration-testing/locations/asia
              labels:
                cloud.googleapis.com/region: asia
              locationId: asia
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast2
              labels:
                cloud.googleapis.com/region: asia-northeast2
              locationId: asia-northeast2
            - name: projects/cloud-sdk-integration-testing/locations/asia-south1
              labels:
                cloud.googleapis.com/region: asia-south1
              locationId: asia-south1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west1
              labels:
                cloud.googleapis.com/region: europe-west1
              locationId: europe-west1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west6
              labels:
                cloud.googleapis.com/region: europe-west6
              locationId: europe-west6
            - name: projects/cloud-sdk-integration-testing/locations/southamerica-east1
              labels:
                cloud.googleapis.com/region: southamerica-east1
              locationId: southamerica-east1
            - name: projects/cloud-sdk-integration-testing/locations/asia-northeast1
              labels:
                cloud.googleapis.com/region: asia-northeast1
              locationId: asia-northeast1
            - name: projects/cloud-sdk-integration-testing/locations/asia-east2
              labels:
                cloud.googleapis.com/region: asia-east2
              locationId: asia-east2
            - name: projects/cloud-sdk-integration-testing/locations/europe-north1
              labels:
                cloud.googleapis.com/region: europe-north1
              locationId: europe-north1
            - name: projects/cloud-sdk-integration-testing/locations/europe-west3
              labels:
                cloud.googleapis.com/region: europe-west3
              locationId: europe-west3
            - name: projects/cloud-sdk-integration-testing/locations/asia-east1
              labels:
                cloud.googleapis.com/region: asia-east1
              locationId: asia-east1
          status: 200
    - api_call:
        poll_operation: true
        expect_request:
          uri: https://artifactregistry.googleapis.com/v1beta2/projects/cloud-sdk-integration-testing/locations/us-east1/repositories/$$ar-repo$$?alt=json
          method: DELETE
          headers: {}
          body: null
        return_response:
          headers:
            cache-control: private
            content-length: '237'
            content-type: application/json; charset=UTF-8
          body:
            name: projects/cloud-sdk-integration-testing/locations/us-east1/operations/9537e477-888a-4686-b455-0088db66be93
            metadata:
              '@type': type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata
          status: 200
    - expect_stderr: |
        Delete request issued for: [$$ar-repo$$]
    - expect_progress_tracker:
        message: Waiting for operation [$$operation$$] to complete
        status: SUCCESS
    - expect_stderr: |
        Deleted repository [$$ar-repo$$].
    - expect_exit:
        code: 0
