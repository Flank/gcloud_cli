title: hub features list scenario test
release_tracks: [ALPHA]
summary:
# This summary is generated by http://go/gcloud-scenario-tests on update and should not be edited.
- execute:
  - command: container hub features list
  - stdout: |
      NAME                          STATE
      authorizer                    ENABLED
      configmanagement              ENABLED
      metering                      ENABLED
      multiclusteringress           ENABLED
      multiclusterservicediscovery  ENABLED
actions:
- execute_command:
    command: container hub features list
    events:
    - api_call:
        expect_request:
          uri: https://gkehub.googleapis.com/v1alpha1/projects/cloud-sdk-integration-testing/locations/global/features?alt=json
          method: GET
          headers: {}
          body: null
        return_response:
          status: 200
          body:
            resources:
            - name: projects/cloud-sdk-integration-testing/locations/global/features/multiclusterservicediscovery
              featureState:
                lifecycleState: ENABLED
            - name: projects/cloud-sdk-integration-testing/locations/global/features/authorizer
              featureState:
                lifecycleState: ENABLED
            - name: projects/cloud-sdk-integration-testing/locations/global/features/configmanagement
              featureState:
                lifecycleState: ENABLED
            - name: projects/cloud-sdk-integration-testing/locations/global/features/metering
              featureState:
                lifecycleState: ENABLED
            - name: projects/cloud-sdk-integration-testing/locations/global/features/multiclusteringress
              featureState:
                lifecycleState: ENABLED
    - expect_stdout: |
        NAME                          STATE
        authorizer                    ENABLED
        configmanagement              ENABLED
        metering                      ENABLED
        multiclusteringress           ENABLED
        multiclusterservicediscovery  ENABLED
    - expect_exit:
        code: 0
