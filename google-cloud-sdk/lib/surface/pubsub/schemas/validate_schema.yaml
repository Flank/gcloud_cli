- release_tracks: [ALPHA, BETA]

  help_text:
    brief: Validate a Pub/Sub schema.
    description: |
      Validate a new Pub/Sub schema.
    examples: |
      To validate a PROTOCOL_BUFFER schema, run:

        $ {command} --definition="syntax = 'proto3'; message Message { optional string key = 1; }" --type=PROTOCOL_BUFFER

      To validate an equivalent AVRO schema, run:

        $ {command} --definition='{ "type": "record", "namespace": "my.ns", "name": "KeyMsg", "fields": [ { "name": "key", "type": "string" } ] }' --type=AVRO

  request:
    collection: pubsub.projects.schemas
    api_version: v1
    method: validate

  arguments:
    resource:
      help_text: |
        Parent Pub/Sub project in which to validate the schema.
      spec: !REF googlecloudsdk.command_lib.pubsub.resources:project
      is_parent_resource: true
    params:
    - arg_name: definition
      api_field: validateSchemaRequest.schema.definition
      required: true
      help_text: |
        Schema definition.
    - arg_name: type
      api_field: validateSchemaRequest.schema.type
      required: true
      help_text: |
        Type of the schema.
