
.TH "GCLOUD_PUBSUB_SUBSCRIPTIONS_CREATE" 1



.SH "NAME"
.HP
gcloud pubsub subscriptions create \- creates one or more Cloud Pub/Sub subscriptions



.SH "SYNOPSIS"
.HP
\f5gcloud pubsub subscriptions create\fR \fISUBSCRIPTION\fR [\fISUBSCRIPTION\fR\ ...] (\fB\-\-topic\fR=\fITOPIC\fR\ :\ \fB\-\-topic\-project\fR=\fITOPIC_PROJECT\fR) [\fB\-\-ack\-deadline\fR=\fIACK_DEADLINE\fR] [\fB\-\-enable\-message\-ordering\fR] [\fB\-\-expiration\-period\fR=\fIEXPIRATION_PERIOD\fR] [\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-message\-retention\-duration\fR=\fIMESSAGE_RETENTION_DURATION\fR] [\fB\-\-push\-auth\-service\-account\fR=\fISERVICE_ACCOUNT_EMAIL\fR] [\fB\-\-push\-auth\-token\-audience\fR=\fIOPTIONAL_AUDIENCE_OVERRIDE\fR] [\fB\-\-push\-endpoint\fR=\fIPUSH_ENDPOINT\fR] [\fB\-\-retain\-acked\-messages\fR] [\fB\-\-max\-delivery\-attempts\fR=\fIMAX_DELIVERY_ATTEMPTS\fR\ [\fB\-\-dead\-letter\-topic\fR=\fIDEAD_LETTER_TOPIC\fR\ :\ \fB\-\-dead\-letter\-topic\-project\fR=\fIDEAD_LETTER_TOPIC_PROJECT\fR]] [\fB\-\-max\-retry\-delay\fR=\fIMAX_RETRY_DELAY\fR\ \fB\-\-min\-retry\-delay\fR=\fIMIN_RETRY_DELAY\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

Creates one or more Cloud Pub/Sub subscriptions for a given topic. The new
subscription defaults to a PULL subscription unless a push endpoint is
specified.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m

Subscription resource \- One or more subscriptions to create. This represents a
Cloud resource. (NOTE) Some attributes are not given arguments in this group but
can be set in other ways. To set the [project] attribute: provide the argument
[subscription] on the command line with a fully specified name; provide the
argument [\-\-project] on the command line; set the property [core/project].
This must be specified.

.RS 2m
.TP 2m
\fISUBSCRIPTION\fR [\fISUBSCRIPTION\fR ...]
IDs of the subscriptions or fully qualified identifiers for the subscriptions.


.RE
.RE
.sp

.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m

Topic resource \- Name of the topic from which this subscription is receiving
messages. Each subscription is attached to a single topic. The arguments in this
group can be used to specify the attributes of this resource. This must be
specified.

.RS 2m
.TP 2m
\fB\-\-topic\fR=\fITOPIC\fR
ID of the topic or fully qualified identifier for the topic. This flag must be
specified if any of the other arguments in this group are specified.

.TP 2m
\fB\-\-topic\-project\fR=\fITOPIC_PROJECT\fR
Project ID of the Google Cloud Platform project for the topic.


.RE
.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-ack\-deadline\fR=\fIACK_DEADLINE\fR
The number of seconds the system will wait for a subscriber to acknowledge
receiving a message before re\-attempting delivery.

.TP 2m
\fB\-\-enable\-message\-ordering\fR
Whether to receive messages with the same ordering key in order. If set,
messages with the same ordering key are sent to subscribers in the order that
Pub/Sub receives them.

.TP 2m
\fB\-\-expiration\-period\fR=\fIEXPIRATION_PERIOD\fR
The subscription will expire if it is inactive for the given period. Valid
values are strings of the form INTEGER[UNIT], where UNIT is one of "s", "m",
"h", and "d" for seconds, minutes, hours, and days, respectively. If the unit is
omitted, seconds is assumed. This flag additionally accepts the special value
"never" to indicate that the subscription will never expire.

.TP 2m
\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to add.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m
\fB\-\-message\-retention\-duration\fR=\fIMESSAGE_RETENTION_DURATION\fR
How long to retain unacknowledged messages in the subscription's backlog, from
the moment a message is published. If \-\-retain\-acked\-messages is true, this
also configures the retention of acknowledged messages. The default value is 7
days, the minimum is 10 minutes, and the maximum is 7 days. Valid values are
strings of the form INTEGER[UNIT], where UNIT is one of "s", "m", "h", and "d"
for seconds, minutes, hours, and days, respectively. If the unit is omitted,
seconds is assumed.

.TP 2m
\fB\-\-push\-auth\-service\-account\fR=\fISERVICE_ACCOUNT_EMAIL\fR
Service account email used as the identity for the generated Open ID Connect
token for authenticated push.

.TP 2m
\fB\-\-push\-auth\-token\-audience\fR=\fIOPTIONAL_AUDIENCE_OVERRIDE\fR
Audience used in the generated Open ID Connect token for authenticated push. If
not specified, it will be set to the push\-endpoint.

.TP 2m
\fB\-\-push\-endpoint\fR=\fIPUSH_ENDPOINT\fR
A URL to use as the endpoint for this subscription. This will also automatically
set the subscription type to PUSH.

.TP 2m
\fB\-\-retain\-acked\-messages\fR
Whether or not to retain acknowledged messages. If true, messages are not
expunged from the subscription's backlog until they fall out of the
\-\-message\-retention\-duration window. Acknowledged messages are not retained
by default.

.TP 2m

Dead Letter Queue Options. The Cloud Pub/Sub service account associated with the
enclosing subscription's parent project (i.e.,
service\-{project_number}@gcp\-sa\-pubsub.iam.gserviceaccount.com) must have
permission to Publish() to this topic and Acknowledge() messages on this
subscription.

.RS 2m
.TP 2m
\fB\-\-max\-delivery\-attempts\fR=\fIMAX_DELIVERY_ATTEMPTS\fR
Maximum number of delivery attempts for any message. The value must be between 5
and 100. Defaults to 5. \f5\-\-dead\-letter\-topic\fR must also be specified.

.TP 2m

Dead letter topic resource \- Name of the topic to publish dead letter messages
to. The arguments in this group can be used to specify the attributes of this
resource.

.RS 2m
.TP 2m
\fB\-\-dead\-letter\-topic\fR=\fIDEAD_LETTER_TOPIC\fR
ID of the dead\-letter\-topic or fully qualified identifier for the
dead\-letter\-topic. This flag must be specified if any of the other arguments
in this group are specified.

.TP 2m
\fB\-\-dead\-letter\-topic\-project\fR=\fIDEAD_LETTER_TOPIC_PROJECT\fR
Project ID of the Google Cloud Platform project for the dead\-letter\-topic.

.RE
.RE
.sp
.TP 2m

Retry Policy Options. Retry policy specifies how Cloud Pub/Sub retries message
delivery for this subscription.

.RS 2m
.TP 2m
\fB\-\-max\-retry\-delay\fR=\fIMAX_RETRY_DELAY\fR
The maximum delay between consecutive deliveries of a given message. Value
should be between 0 and 600 seconds. Defaults to 10 seconds. Valid values are
strings of the form INTEGER[UNIT], where UNIT is one of "s", "m", "h", and "d"
for seconds, minutes, hours, and days, respectively. If the unit is omitted,
seconds is assumed.

.TP 2m
\fB\-\-min\-retry\-delay\fR=\fIMIN_RETRY_DELAY\fR
The minimum delay between consecutive deliveries of a given message. Value
should be between 0 and 600 seconds. Defaults to 10 seconds. Valid values are
strings of the form INTEGER[UNIT], where UNIT is one of "s", "m", "h", and "d"
for seconds, minutes, hours, and days, respectively. If the unit is omitted,
seconds is assumed.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "NOTES"

These variants are also available:

.RS 2m
$ gcloud alpha pubsub subscriptions create
$ gcloud beta pubsub subscriptions create
.RE

