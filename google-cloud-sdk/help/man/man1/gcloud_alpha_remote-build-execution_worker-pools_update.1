
.TH "GCLOUD_ALPHA_REMOTE\-BUILD\-EXECUTION_WORKER\-POOLS_UPDATE" 1



.SH "NAME"
.HP
gcloud alpha remote\-build\-execution worker\-pools update \- update a Remote Build Execution worker pool



.SH "SYNOPSIS"
.HP
\f5gcloud alpha remote\-build\-execution worker\-pools update\fR (\fIWORKERPOOL\fR\ :\ \fB\-\-instance\fR=\fIINSTANCE\fR) [\fB\-\-async\fR] [\fB\-\-channel\fR=\fICHANNEL\fR;\ default="current"] [\fB\-\-disk\-size\fR=\fIDISK_SIZE\fR] [\fB\-\-disk\-type\fR=\fIDISK_TYPE\fR] [\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR] [\fB\-\-max\-concurrent\-actions\fR=\fIMAX_CONCURRENT_ACTIONS\fR] [\fB\-\-min\-cpu\-platform\fR=\fIMIN_CPU_PLATFORM\fR] [\fB\-\-network\-access\fR=\fINETWORK_ACCESS\fR] [\fB\-\-reserved\fR] [\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-worker\-count\fR=\fIWORKER_COUNT\fR] [\fB\-\-clear\-accelerator\-config\fR\ |\ \fB\-\-accelerator\-count\fR=\fIACCELERATOR_COUNT\fR\ \fB\-\-accelerator\-type\fR=\fIACCELERATOR_TYPE\fR] [\fB\-\-clear\-autoscale\fR\ |\ \fB\-\-autoscale\-max\-size\fR=\fIAUTOSCALE_MAX_SIZE\fR\ \fB\-\-autoscale\-min\-size\fR=\fIAUTOSCALE_MIN_SIZE\fR] [\fB\-\-clear\-labels\fR\ |\ \fB\-\-remove\-labels\fR=[\fIKEY\fR,...]] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR Updates the configuration of a Remote Build Execution worker pool.
This can be used to change the size of the worker pool, change the type of
machine, or adjust the disk size of the worker VMs.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m

Workerpool resource \- Arguments and flags specifying the worker pool to update.
The arguments in this group can be used to specify the attributes of this
resource. (NOTE) Some attributes are not given arguments in this group but can
be set in other ways. To set the [project] attribute: provide the argument
[workerpool] on the command line with a fully specified name; provide the
argument [\-\-project] on the command line; set the property [core/project].
This must be specified.

.RS 2m
.TP 2m
\fIWORKERPOOL\fR
ID of the workerpool or fully qualified identifier for the workerpool. This
positional must be specified if any of the other arguments in this group are
specified.

.TP 2m
\fB\-\-instance\fR=\fIINSTANCE\fR
Instance name.


.RE
.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-async\fR
Return immediately, without waiting for the operation in progress to complete.

.TP 2m
\fB\-\-channel\fR=\fICHANNEL\fR; default="current"
The release channel of the worker pool.

.TP 2m
\fB\-\-disk\-size\fR=\fIDISK_SIZE\fR
Size of the disk, in Gb, for each worker. Defaults to 200Gb.

.TP 2m
\fB\-\-disk\-type\fR=\fIDISK_TYPE\fR
Type of persistent disk the worker VMs will use. Default is pd\-standard.
\fIDISK_TYPE\fR must be one of:

.RS 2m
.TP 2m
\fBpd\-ssd\fR
SSD persistent disk.

.TP 2m
\fBpd\-standard\fR
Standard persistent disk.

.RE
.sp


.TP 2m
\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR
The type of VM to use for each worker. To get a list of valid machine types, use
the following command:

$ gcloud compute machine\-types list

.TP 2m
\fB\-\-max\-concurrent\-actions\fR=\fIMAX_CONCURRENT_ACTIONS\fR
Maximum actions each worker VM can run concurrently.

.TP 2m
\fB\-\-min\-cpu\-platform\fR=\fIMIN_CPU_PLATFORM\fR
Minimum CPU platform for the workers. For more information see
https://cloud.google.com/compute/docs/cpu\-platforms.

.TP 2m
\fB\-\-network\-access\fR=\fINETWORK_ACCESS\fR
Level of network access available to the pool. \fINETWORK_ACCESS\fR must be one
of:

.RS 2m
.TP 2m
\fBprivate\fR
Workers can only connect to Google APIs and services.

.TP 2m
\fBpublic\fR
Workers can connect to the public internet.

.TP 2m
\fBrestricted\-private\fR
Workers can only connect to Google APIs that are reachable through
\f5restricted.googleapis.com\fR (\f5199.36.153.4/30\fR).

.RE
.sp


.TP 2m
\fB\-\-reserved\fR
Determines the type of VM to use. If set then reserved VMs are used, otherwise
preemptable VMs are used.

.TP 2m
\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to update. If a label exists its value is
modified, otherwise a new label is created.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m
\fB\-\-worker\-count\fR=\fIWORKER_COUNT\fR
Number of workers that should be in the worker pool.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-accelerator\-config\fR
Remove all accelerators from the VMs in the worker pool.

.TP 2m

Either both or none of accelerator\-count and accelerator\-type should be set.

.RS 2m
.TP 2m
\fB\-\-accelerator\-count\fR=\fIACCELERATOR_COUNT\fR
Number of the guest accelerator cards attached to each VM in the pool. This flag
must be specified if any of the other arguments in this group are specified.

.TP 2m
\fB\-\-accelerator\-type\fR=\fIACCELERATOR_TYPE\fR
Type of accelerator to attach to each VM in the pool, e.g. 'nvidia\-tesla\-k80'
for nVidia Tesla K80. Run \f5gcloud compute accelerator\-types list\fR to learn
about all available accelerator types. This flag must be specified if any of the
other arguments in this group are specified.

.RE
.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-autoscale\fR
Remove the autoscale settings.

.TP 2m

Either both or none of autoscale\-min\-size and autoscale\-max\-size should be
set.


.RS 2m
.TP 2m
\fB\-\-autoscale\-max\-size\fR=\fIAUTOSCALE_MAX_SIZE\fR
The maximal number of autoscale workers. Must be equal to or greater than
autoscale\-min\-size. This flag must be specified if any of the other arguments
in this group are specified.

.TP 2m
\fB\-\-autoscale\-min\-size\fR=\fIAUTOSCALE_MIN_SIZE\fR
The minimal number of autoscale workers. Must be greater than 0. This flag must
be specified if any of the other arguments in this group are specified.

.RE
.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-labels\fR
Remove all labels. If \f5\-\-update\-labels\fR is also specified then
\f5\-\-clear\-labels\fR is applied first.

For example, to remove all labels:

.RS 2m
$ gcloud alpha remote\-build\-execution worker\-pools update \e
  \-\-clear\-labels
.RE

To set the labels to exactly "foo" and "baz":

.RS 2m
$ gcloud alpha remote\-build\-execution worker\-pools update \e
  \-\-clear\-labels \-\-update\-labels foo=bar,baz=qux
.RE

.TP 2m
\fB\-\-remove\-labels\fR=[\fIKEY\fR,...]
List of label keys to remove. If a label does not exist it is silently ignored.
If \f5\-\-update\-labels\fR is also specified then \f5\-\-remove\-labels\fR is
applied first.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "API REFERENCE"

This command uses the \fBremotebuildexecution/v1alpha\fR API. The full
documentation for this API can be found at:
https://cloud.google.com/remote\-build\-execution/docs/



.SH "EXAMPLES"

The following command adjusts the nubmer of workers to 50 in a pool called
\'pool1' contained in the instance 'default_instance':

.RS 2m
$ gcloud alpha remote\-build\-execution worker\-pools update pool1 \e
    \-\-instance=default_instance \-\-worker\-count=50
.RE

The following command adjusts the configuration of the workers within the pool,
changing the machine type to standard 4 core machines with 500 GB disks.

.RS 2m
$ gcloud alpha remote\-build\-execution worker\-pools update pool1 \e
    \-\-instance=default_instance \-\-disk\-size=500 \e
    \-\-machine\-type=n1\-standard\-4
.RE



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
allowlist.

