
.TH "GCLOUD_BETA_SQL_INSTANCES_CREATE" 1



.SH "NAME"
.HP
gcloud beta sql instances create \- creates a new Cloud SQL instance



.SH "SYNOPSIS"
.HP
\f5gcloud beta sql instances create\fR \fIINSTANCE\fR [\fB\-\-activation\-policy\fR=\fIACTIVATION_POLICY\fR] [\fB\-\-[no\-]assign\-ip\fR] [\fB\-\-async\fR] [\fB\-\-authorized\-networks\fR=\fINETWORK\fR,[\fINETWORK\fR,...]] [\fB\-\-availability\-type\fR=\fIAVAILABILITY_TYPE\fR] [\fB\-\-no\-backup\fR] [\fB\-\-backup\-location\fR=\fIBACKUP_LOCATION\fR] [\fB\-\-backup\-start\-time\fR=\fIBACKUP_START_TIME\fR] [\fB\-\-collation\fR=\fICOLLATION\fR] [\fB\-\-cpu\fR=\fICPU\fR] [\fB\-\-database\-flags\fR=\fIFLAG\fR=\fIVALUE\fR,[\fIFLAG\fR=\fIVALUE\fR,...]] [\fB\-\-database\-version\fR=\fIDATABASE_VERSION\fR] [\fB\-\-deny\-maintenance\-period\-end\-date\fR=\fIDENY_MAINTENANCE_PERIOD_END_DATE\fR] [\fB\-\-deny\-maintenance\-period\-start\-date\fR=\fIDENY_MAINTENANCE_PERIOD_START_DATE\fR] [\fB\-\-deny\-maintenance\-period\-time\fR=\fIDENY_MAINTENANCE_PERIOD_TIME\fR] [\fB\-\-enable\-bin\-log\fR] [\fB\-\-enable\-point\-in\-time\-recovery\fR] [\fB\-\-failover\-replica\-name\fR=\fIFAILOVER_REPLICA_NAME\fR] [\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-maintenance\-release\-channel\fR=\fIMAINTENANCE_RELEASE_CHANNEL\fR] [\fB\-\-maintenance\-window\-day\fR=\fIMAINTENANCE_WINDOW_DAY\fR] [\fB\-\-maintenance\-window\-hour\fR=\fIMAINTENANCE_WINDOW_HOUR\fR] [\fB\-\-master\-instance\-name\fR=\fIMASTER_INSTANCE_NAME\fR] [\fB\-\-memory\fR=\fIMEMORY\fR] [\fB\-\-network\fR=\fINETWORK\fR] [\fB\-\-replica\-type\fR=\fIREPLICA_TYPE\fR] [\fB\-\-replication\fR=\fIREPLICATION\fR] [\fB\-\-require\-ssl\fR] [\fB\-\-root\-password\fR=\fIROOT_PASSWORD\fR] [\fB\-\-storage\-auto\-increase\fR] [\fB\-\-storage\-auto\-increase\-limit\fR=\fISTORAGE_AUTO_INCREASE_LIMIT\fR] [\fB\-\-storage\-size\fR=\fISTORAGE_SIZE\fR] [\fB\-\-storage\-type\fR=\fISTORAGE_TYPE\fR] [\fB\-\-tier\fR=\fITIER\fR,\ \fB\-t\fR\ \fITIER\fR] [\fB\-\-disk\-encryption\-key\fR=\fIDISK_ENCRYPTION_KEY\fR\ :\ \fB\-\-disk\-encryption\-key\-keyring\fR=\fIDISK_ENCRYPTION_KEY_KEYRING\fR\ \fB\-\-disk\-encryption\-key\-location\fR=\fIDISK_ENCRYPTION_KEY_LOCATION\fR\ \fB\-\-disk\-encryption\-key\-project\fR=\fIDISK_ENCRYPTION_KEY_PROJECT\fR] [\fB\-\-master\-dump\-file\-path\fR=\fIMASTER_DUMP_FILE_PATH\fR\ \fB\-\-master\-username\fR=\fIMASTER_USERNAME\fR\ :\ [\fB\-\-master\-ca\-certificate\-path\fR=\fIMASTER_CA_CERTIFICATE_PATH\fR\ :\ \fB\-\-client\-certificate\-path\fR=\fICLIENT_CERTIFICATE_PATH\fR\ \fB\-\-client\-key\-path\fR=\fICLIENT_KEY_PATH\fR]\ \fB\-\-master\-password\fR=\fIMASTER_PASSWORD\fR\ |\ \fB\-\-prompt\-for\-master\-password\fR] [\fB\-\-region\fR=\fIREGION\fR;\ default="us\-central"\ |\ \fB\-\-gce\-zone\fR=\fIGCE_ZONE\fR\ |\ \fB\-\-zone\fR=\fIZONE\fR] [\fB\-\-source\-ip\-address\fR=\fISOURCE_IP_ADDRESS\fR\ :\ \fB\-\-source\-port\fR=\fISOURCE_PORT\fR;\ default=3306] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(BETA)\fR Creates a new Cloud SQL instance.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fIINSTANCE\fR
Cloud SQL instance ID.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-activation\-policy\fR=\fIACTIVATION_POLICY\fR
Activation policy for this instance. This specifies when the instance should be
activated and is applicable only when the instance state is \f5RUNNABLE\fR. The
default is \f5on\-demand\fR. More information on activation policies can be
found here: https://cloud.google.com/sql/faq#activation_policy.
\fIACTIVATION_POLICY\fR must be one of: \fBalways\fR, \fBnever\fR,
\fBon\-demand\fR.

.TP 2m
\fB\-\-[no\-]assign\-ip\fR
Assign a public IP address to the instance. This is a public, externally
available IPv4 address that you can use to connect to your instance when
properly authorized. Use \-\-assign\-ip to enable a public IP and
\-\-no\-assign\-ip to disable it. Use \fB\-\-assign\-ip\fR to enable and
\fB\-\-no\-assign\-ip\fR to disable.

.TP 2m
\fB\-\-async\fR
Return immediately, without waiting for the operation in progress to complete.

.TP 2m
\fB\-\-authorized\-networks\fR=\fINETWORK\fR,[\fINETWORK\fR,...]
The list of external networks that are allowed to connect to the instance.
Specified in CIDR notation, also known as 'slash' notation (e.g.
192.168.100.0/24).

.TP 2m
\fB\-\-availability\-type\fR=\fIAVAILABILITY_TYPE\fR
Specifies level of availability. \fIAVAILABILITY_TYPE\fR must be one of:

.RS 2m
.TP 2m
\fBregional\fR
Provides high availability and is recommended for production instances; instance
automatically fails over to another zone within your selected region.
.TP 2m
\fBzonal\fR
Provides no failover capability. This is the default.
.RE
.sp


.TP 2m
\fB\-\-backup\fR
Enables daily backup. Enabled by default, use \fB\-\-no\-backup\fR to disable.

.TP 2m
\fB\-\-backup\-location\fR=\fIBACKUP_LOCATION\fR
Choose where to store your backups. Backups are stored in the closest
multi\-region location to you by default. Only customize if needed.

.TP 2m
\fB\-\-backup\-start\-time\fR=\fIBACKUP_START_TIME\fR
Start time of daily backups, specified in the 24 hour format \- HH:MM, in the
UTC timezone.

.TP 2m
\fB\-\-collation\fR=\fICOLLATION\fR
Cloud SQL server\-level collation setting, which specifies the set of rules for
comparing characters in a character set.

.TP 2m
\fB\-\-cpu\fR=\fICPU\fR
Whole number value indicating how many cores are desired in the machine. Both
\-\-cpu and \-\-memory must be specified if a custom machine type is desired,
and the \-\-tier flag must be omitted.

.TP 2m
\fB\-\-database\-flags\fR=\fIFLAG\fR=\fIVALUE\fR,[\fIFLAG\fR=\fIVALUE\fR,...]
Comma\-separated list of database flags to set on the instance. Use an equals
sign to separate flag name and value. Flags without values, like
skip_grant_tables, can be written out without a value after, e.g.,
\f5skip_grant_tables=\fR. Use on/off for booleans. View the Instance Resource
API for allowed flags. (e.g., \f5\-\-database\-flags
max_allowed_packet=55555,skip_grant_tables=,log_output=1\fR)

.TP 2m
\fB\-\-database\-version\fR=\fIDATABASE_VERSION\fR
The database engine type and version. If left unspecified, the API defaults will
be used. See the list of database versions at
https://cloud.google.com/sql/docs/mysql/admin\-api/v1beta4/instances#databaseVersion

.TP 2m
\fB\-\-deny\-maintenance\-period\-end\-date\fR=\fIDENY_MAINTENANCE_PERIOD_END_DATE\fR
Date when the deny maintenance period ends, that is ``2021\-01\-10".

.TP 2m
\fB\-\-deny\-maintenance\-period\-start\-date\fR=\fIDENY_MAINTENANCE_PERIOD_START_DATE\fR
Date when the deny maintenance period begins, that is ``2020\-11\-01".

.TP 2m
\fB\-\-deny\-maintenance\-period\-time\fR=\fIDENY_MAINTENANCE_PERIOD_TIME\fR
Time when the deny maintenance period starts or ends, that is ``05:00:00".

.TP 2m
\fB\-\-enable\-bin\-log\fR
Allows for data recovery from a specific point in time, down to a fraction of a
second. Must have automatic backups enabled to use. Make sure storage can
support at least 7 days of logs.

.TP 2m
\fB\-\-enable\-point\-in\-time\-recovery\fR
Allows for data recovery from a specific point in time, down to a fraction of a
second, via write\-ahead logs. Must have automatic backups enabled to use. Make
sure storage can support at least 7 days of logs.

.TP 2m
\fB\-\-failover\-replica\-name\fR=\fIFAILOVER_REPLICA_NAME\fR
Also create a failover replica with the specified name.

.TP 2m
\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to add.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m
\fB\-\-maintenance\-release\-channel\fR=\fIMAINTENANCE_RELEASE_CHANNEL\fR
Which channel's updates to apply during the maintenance window. If not
specified, Cloud SQL chooses the timing of updates to your instance.
\fIMAINTENANCE_RELEASE_CHANNEL\fR must be one of:

.RS 2m
.TP 2m
\fBpreview\fR
Preview updates release prior to production updates. You may wish to use the
preview channel for dev/test applications so that you can preview their
compatibility with your application prior to the production release.
.TP 2m
\fBproduction\fR
Production updates are stable and recommended for applications in production.
.RE
.sp


.TP 2m
\fB\-\-maintenance\-window\-day\fR=\fIMAINTENANCE_WINDOW_DAY\fR
Day of week for maintenance window, in UTC time zone.
\fIMAINTENANCE_WINDOW_DAY\fR must be one of: \fBSUN\fR, \fBMON\fR, \fBTUE\fR,
\fBWED\fR, \fBTHU\fR, \fBFRI\fR, \fBSAT\fR.

.TP 2m
\fB\-\-maintenance\-window\-hour\fR=\fIMAINTENANCE_WINDOW_HOUR\fR
Hour of day for maintenance window, in UTC time zone.

.TP 2m
\fB\-\-master\-instance\-name\fR=\fIMASTER_INSTANCE_NAME\fR
Name of the instance which will act as master in the replication setup. The
newly created instance will be a read replica of the specified master instance.

.TP 2m
\fB\-\-memory\fR=\fIMEMORY\fR
Whole number value indicating how much memory is desired in the machine. A size
unit should be provided (eg. 3072MiB or 9GiB) \- if no units are specified, GiB
is assumed. Both \-\-cpu and \-\-memory must be specified if a custom machine
type is desired, and the \-\-tier flag must be omitted.

.TP 2m
\fB\-\-network\fR=\fINETWORK\fR
Network in the current project that the instance will be part of. To specify
using a network with a shared VPC, use the full URL of the network. For an
example host project, 'testproject', and shared network, 'testsharednetwork',
this would be of the
form:\f5\-\-network\fR=\f5projects/testproject/global/networks/testsharednetwork\fR

.TP 2m
\fB\-\-replica\-type\fR=\fIREPLICA_TYPE\fR
The type of replica to create. \fIREPLICA_TYPE\fR must be one of: \fBREAD\fR,
\fBFAILOVER\fR.

.TP 2m
\fB\-\-replication\fR=\fIREPLICATION\fR
Type of replication this instance uses. The default is synchronous.
\fIREPLICATION\fR must be one of: \fBsynchronous\fR, \fBasynchronous\fR.

.TP 2m
\fB\-\-require\-ssl\fR
Specified if users connecting over IP must use SSL.

.TP 2m
\fB\-\-root\-password\fR=\fIROOT_PASSWORD\fR
Root Cloud SQL user's password.

.TP 2m
\fB\-\-storage\-auto\-increase\fR
Storage size can be increased, but it cannot be decreased; storage increases are
permanent for the life of the instance. With this setting enabled, a spike in
storage requirements can result in permanently increased storage costs for your
instance. However, if an instance runs out of available space, it can result in
the instance going offline, dropping existing connections. This setting is
enabled by default.

.TP 2m
\fB\-\-storage\-auto\-increase\-limit\fR=\fISTORAGE_AUTO_INCREASE_LIMIT\fR
Allows you to set a maximum storage capacity, in GB. Automatic increases to your
capacity will stop once this limit has been reached. Default capacity is
\fBunlimited\fR.

.TP 2m
\fB\-\-storage\-size\fR=\fISTORAGE_SIZE\fR
Amount of storage allocated to the instance. Must be an integer number of GB.
The default is 10GB. Information on storage limits can be found here:
https://cloud.google.com/sql/docs/quotas#storage_limits

.TP 2m
\fB\-\-storage\-type\fR=\fISTORAGE_TYPE\fR
The storage type for the instance. The default is SSD. \fISTORAGE_TYPE\fR must
be one of: \fBSSD\fR, \fBHDD\fR.

.TP 2m
\fB\-\-tier\fR=\fITIER\fR, \fB\-t\fR \fITIER\fR
The tier for this instance. For Second Generation instances, TIER is the
instance's machine type (e.g., db\-n1\-standard\-1). For PostgreSQL instances,
only shared\-core machine types (e.g., db\-f1\-micro) apply. A complete list of
tiers is available here: https://cloud.google.com/sql/pricing.

.TP 2m

Key resource \- The Cloud KMS (Key Management Service) cryptokey that will be
used to protect the instance. The 'Compute Engine Service Agent' service account
must hold permission 'Cloud KMS CryptoKey Encrypter/Decrypter'. The arguments in
this group can be used to specify the attributes of this resource.

.RS 2m
.TP 2m
\fB\-\-disk\-encryption\-key\fR=\fIDISK_ENCRYPTION_KEY\fR
ID of the key or fully qualified identifier for the key. This flag must be
specified if any of the other arguments in this group are specified.

.TP 2m
\fB\-\-disk\-encryption\-key\-keyring\fR=\fIDISK_ENCRYPTION_KEY_KEYRING\fR
The KMS keyring of the key.

.TP 2m
\fB\-\-disk\-encryption\-key\-location\fR=\fIDISK_ENCRYPTION_KEY_LOCATION\fR
The Cloud location for the key.

.TP 2m
\fB\-\-disk\-encryption\-key\-project\fR=\fIDISK_ENCRYPTION_KEY_PROJECT\fR
The Cloud project for the key.

.RE
.sp
.TP 2m

Options for creating an internal replica of an external data source.

.RS 2m
.TP 2m
\fB\-\-master\-dump\-file\-path\fR=\fIMASTER_DUMP_FILE_PATH\fR
Path to the MySQL dump file in Google Cloud Storage from which the seed import
is made. The URI is in the form gs://bucketName/fileName. Compressed gzip files
(.gz) are also supported. This flag must be specified if any of the other
arguments in this group are specified.

.TP 2m
\fB\-\-master\-username\fR=\fIMASTER_USERNAME\fR
Name of the replication user on the external data source. This flag must be
specified if any of the other arguments in this group are specified.

.TP 2m

Client and server credentials.

.RS 2m
.TP 2m
\fB\-\-master\-ca\-certificate\-path\fR=\fIMASTER_CA_CERTIFICATE_PATH\fR
Path to a file containing the X.509v3 (RFC5280) PEM encoded certificate of the
CA that signed the external data source's certificate. This flag must be
specified if any of the other arguments in this group are specified.

.TP 2m

Client credentials.

.RS 2m
.TP 2m
\fB\-\-client\-certificate\-path\fR=\fICLIENT_CERTIFICATE_PATH\fR
Path to a file containing the X.509v3 (RFC5280) PEM encoded certificate that
will be used by the replica to authenticate against the external data source.
This flag must be specified if any of the other arguments in this group are
specified.

.TP 2m
\fB\-\-client\-key\-path\fR=\fICLIENT_KEY_PATH\fR
Path to a file containing the unencrypted PKCS#1 or PKCS#8 PEM encoded private
key associated with the clientCertificate. This flag must be specified if any of
the other arguments in this group are specified.

.RE
.RE
.sp
.TP 2m

Password group. At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-master\-password\fR=\fIMASTER_PASSWORD\fR
Password of the replication user on the external data source.

.TP 2m
\fB\-\-prompt\-for\-master\-password\fR
Prompt for the password of the replication user on the external data source. The
password is all typed characters up to but not including the RETURN or ENTER
key.

.RE
.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-region\fR=\fIREGION\fR; default="us\-central"
Regional location (e.g. asia\-east1, us\-east1). See the full list of regions at
https://cloud.google.com/sql/docs/instance\-locations.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-gce\-zone\fR=\fIGCE_ZONE\fR
(DEPRECATED) Preferred Compute Engine zone (e.g. us\-central1\-a,
us\-central1\-b, etc.).

Flag \f5\-\-gce\-zone\fR is deprecated and will be removed by release 255.0.0.
Use \f5\-\-zone\fR instead.

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR
Preferred Compute Engine zone (e.g. us\-central1\-a, us\-central1\-b, etc.).

.RE
.RE
.sp
.TP 2m

Options for creating a wrapper for an external data source.

.RS 2m
.TP 2m
\fB\-\-source\-ip\-address\fR=\fISOURCE_IP_ADDRESS\fR
Public IP address used to connect to and replicate from the external data
source. This flag must be specified if any of the other arguments in this group
are specified.

.TP 2m
\fB\-\-source\-port\fR=\fISOURCE_PORT\fR; default=3306
Port number used to connect to and replicate from the external data source.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "EXAMPLES"

To create a MySQL 5.7 instance with ID \f5\fIprod\-instance\fR\fR and machine
type \f5\fIdb\-n1\-standard\-1\fR\fR, in the region \f5\fIus\-central1\fR\fR (a
zone will be auto\-assigned), where the 'root' user has its password set to
\f5\fIpassword123\fR\fR, run:

.RS 2m
$ gcloud beta sql instances create prod\-instance \e
    \-\-database\-version=MYSQL_5_7 \-\-tier=db\-n1\-standard\-1 \e
    \-\-region=us\-central1 \-\-root\-password=password123
.RE

To create a Postgres 9.6 instance with ID \f5\fIprod\-instance\fR\fR that has 2
CPUs, 8 GiB of RAM, and is in the zone \f5\fIus\-central1\-a\fR\fR, where the
\'postgres' user has its password set to \f5\fIpassword123\fR\fR, run:

.RS 2m
$ gcloud beta sql instances create prod\-instance \e
    \-\-database\-version=POSTGRES_9_6 \-\-cpu=2 \-\-memory=8GiB \e
    \-\-zone=us\-central1\-a \-\-root\-password=password123
.RE

To create a SQL Server 2017 Express instance with ID \f5\fIprod\-instance\fR\fR
that has 2 CPUs, 3840MiB of RAM, and is in the zone \f5\fIus\-central1\-a\fR\fR,
where the 'sqlserver' user has its password set to \f5\fIpassword123\fR\fR, run:

.RS 2m
$ gcloud beta sql instances create prod\-instance \e
    \-\-database\-version=SQLSERVER_2017_EXPRESS \-\-cpu=2 \e
    \-\-memory=3840MiB \-\-zone=us\-central1\-a \e
    \-\-root\-password=password123
.RE



.SH "NOTES"

This command is currently in BETA and may change without notice. These variants
are also available:

.RS 2m
$ gcloud sql instances create
$ gcloud alpha sql instances create
.RE

