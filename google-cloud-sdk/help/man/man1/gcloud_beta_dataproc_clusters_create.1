
.TH "GCLOUD_BETA_DATAPROC_CLUSTERS_CREATE" 1



.SH "NAME"
.HP
gcloud beta dataproc clusters create \- create a cluster



.SH "SYNOPSIS"
.HP
\f5gcloud beta dataproc clusters create\fR \fINAME\fR [\fB\-\-no\-address\fR] [\fB\-\-async\fR] [\fB\-\-bucket\fR=\fIBUCKET\fR] [\fB\-\-initialization\-action\-timeout\fR=\fITIMEOUT\fR;\ default="10m"] [\fB\-\-initialization\-actions\fR=\fICLOUD_STORAGE_URI\fR,[...]] [\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-master\-accelerator\fR=[\fItype\fR=\fITYPE\fR,[\fIcount\fR=\fICOUNT\fR],...]] [\fB\-\-master\-boot\-disk\-size\fR=\fIMASTER_BOOT_DISK_SIZE\fR] [\fB\-\-master\-boot\-disk\-type\fR=\fIMASTER_BOOT_DISK_TYPE\fR] [\fB\-\-master\-machine\-type\fR=\fIMASTER_MACHINE_TYPE\fR] [\fB\-\-master\-min\-cpu\-platform\fR=\fIPLATFORM\fR] [\fB\-\-max\-idle\fR=\fIMAX_IDLE\fR] [\fB\-\-metadata\fR=\fIKEY\fR=\fIVALUE\fR,[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-num\-master\-local\-ssds\fR=\fINUM_MASTER_LOCAL_SSDS\fR] [\fB\-\-num\-masters\fR=\fINUM_MASTERS\fR] [\fB\-\-num\-worker\-local\-ssds\fR=\fINUM_WORKER_LOCAL_SSDS\fR] [\fB\-\-preemptible\-worker\-boot\-disk\-size\fR=\fIPREEMPTIBLE_WORKER_BOOT_DISK_SIZE\fR] [\fB\-\-preemptible\-worker\-boot\-disk\-type\fR=\fIPREEMPTIBLE_WORKER_BOOT_DISK_TYPE\fR] [\fB\-\-properties\fR=[\fIPREFIX\fR:\fIPROPERTY\fR=\fIVALUE\fR,...]] [\fB\-\-region\fR=\fIREGION\fR] [\fB\-\-scopes\fR=\fISCOPE\fR,[\fISCOPE\fR,...]] [\fB\-\-service\-account\fR=\fISERVICE_ACCOUNT\fR] [\fB\-\-tags\fR=\fITAG\fR,[\fITAG\fR,...]] [\fB\-\-worker\-accelerator\fR=[\fItype\fR=\fITYPE\fR,[\fIcount\fR=\fICOUNT\fR],...]] [\fB\-\-worker\-boot\-disk\-size\fR=\fIWORKER_BOOT_DISK_SIZE\fR] [\fB\-\-worker\-boot\-disk\-type\fR=\fIWORKER_BOOT_DISK_TYPE\fR] [\fB\-\-worker\-machine\-type\fR=\fIWORKER_MACHINE_TYPE\fR] [\fB\-\-worker\-min\-cpu\-platform\fR=\fIPLATFORM\fR] [\fB\-\-zone\fR=\fIZONE\fR,\ \fB\-z\fR\ \fIZONE\fR] [\fB\-\-expiration\-time\fR=\fIEXPIRATION_TIME\fR\ |\ \fB\-\-max\-age\fR=\fIMAX_AGE\fR] [\fB\-\-image\fR=\fIIMAGE\fR\ |\ \fB\-\-image\-version\fR=\fIVERSION\fR] [\fB\-\-network\fR=\fINETWORK\fR\ |\ \fB\-\-subnet\fR=\fISUBNET\fR] [\fB\-\-single\-node\fR\ |\ \fB\-\-num\-preemptible\-workers\fR=\fINUM_PREEMPTIBLE_WORKERS\fR\ \fB\-\-num\-workers\fR=\fINUM_WORKERS\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(BETA)\fR Create a cluster.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fINAME\fR
The name of this cluster.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-no\-address\fR
If provided, the instances in the cluster will not be assigned external IP
addresses.

Note: Dataproc VMs need access to the Dataproc API. This can be achieved without
external IP addresses using Private Google Access
(https://cloud.google.com/compute/docs/private\-google\-access).

.TP 2m
\fB\-\-async\fR
Display information about the operation in progress, without waiting for the
operation to complete.

.TP 2m
\fB\-\-bucket\fR=\fIBUCKET\fR
The Google Cloud Storage bucket to use with the Google Cloud Storage connector.
A bucket is auto created when this parameter is not specified.

.TP 2m
\fB\-\-initialization\-action\-timeout\fR=\fITIMEOUT\fR; default="10m"
The maximum duration of each initialization action. See $ gcloud topic datetimes
for information on duration formats.

.TP 2m
\fB\-\-initialization\-actions\fR=\fICLOUD_STORAGE_URI\fR,[...]
A list of Google Cloud Storage URIs of executables to run on each node in the
cluster.

.TP 2m
\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
A list of label KEY=VALUE pairs to add.

.TP 2m
\fB\-\-master\-accelerator\fR=[\fItype\fR=\fITYPE\fR,[\fIcount\fR=\fICOUNT\fR],...]
Attaches accelerators (e.g. GPUs) to the master instance(s).

.RS 2m
.TP 2m
\fBtype\fR
The specific type (e.g. nvidia\-tesla\-k80 for nVidia Tesla K80) of accelerator
to attach to the instances. Use 'gcloud compute accelerator\-types list' to
learn about all available accelerator types.

.TP 2m
\fBcount\fR
The number of pieces of the accelerator to attach to each of the instances. The
default value is 1.

.RE
.sp
.TP 2m
\fB\-\-master\-boot\-disk\-size\fR=\fIMASTER_BOOT_DISK_SIZE\fR
The size of the boot disk. The value must be a whole number followed by a size
unit of \f5\fIKB\fR\fR for kilobyte, \f5\fIMB\fR\fR for megabyte, \f5\fIGB\fR\fR
for gigabyte, or \f5\fITB\fR\fR for terabyte. For example, \f5\fI10GB\fR\fR will
produce a 10 gigabyte disk. The minimum size a boot disk can have is 10 GB. Disk
size must be a multiple of 1 GB.

.TP 2m
\fB\-\-master\-boot\-disk\-type\fR=\fIMASTER_BOOT_DISK_TYPE\fR
The type of the boot disk. The value must be \f5\fIpd\-standard\fR\fR or
\f5\fIpd\-ssd\fR\fR.

.TP 2m
\fB\-\-master\-machine\-type\fR=\fIMASTER_MACHINE_TYPE\fR
The type of machine to use for the master. Defaults to server\-specified.

.TP 2m
\fB\-\-master\-min\-cpu\-platform\fR=\fIPLATFORM\fR
When specified, the VM will be scheduled on host with specified CPU architecture
or a newer one. To list available CPU platforms in given zone, run:

.RS 2m
$ gcloud beta compute zones describe ZONE
.RE

CPU platform selection is available only in selected zones; zones that allow CPU
platform selection will have an \f5availableCpuPlatforms\fR field that contains
the list of available CPU platforms for that zone.

You can find more information online:
https://cloud.google.com/compute/docs/instances/specify\-min\-cpu\-platform

.TP 2m
\fB\-\-max\-idle\fR=\fIMAX_IDLE\fR
The duration before cluster is auto\-deleted after last job completes, such as
"2h" or "1d". See $ gcloud topic datetimes for information on duration formats.

.TP 2m
\fB\-\-metadata\fR=\fIKEY\fR=\fIVALUE\fR,[\fIKEY\fR=\fIVALUE\fR,...]
Metadata to be made available to the guest operating system running on the
instances

.TP 2m
\fB\-\-num\-master\-local\-ssds\fR=\fINUM_MASTER_LOCAL_SSDS\fR
The number of local SSDs to attach to the master in a cluster.

.TP 2m
\fB\-\-num\-masters\fR=\fINUM_MASTERS\fR
The number of master nodes in the cluster.


.TS
tab(,);
lB lB
l l.
Number of Masters,Cluster Mode
1,Standard
3,High Availability
.TE

.TP 2m
\fB\-\-num\-worker\-local\-ssds\fR=\fINUM_WORKER_LOCAL_SSDS\fR
The number of local SSDs to attach to each worker in a cluster.

.TP 2m
\fB\-\-preemptible\-worker\-boot\-disk\-size\fR=\fIPREEMPTIBLE_WORKER_BOOT_DISK_SIZE\fR
The size of the boot disk. The value must be a whole number followed by a size
unit of \f5\fIKB\fR\fR for kilobyte, \f5\fIMB\fR\fR for megabyte, \f5\fIGB\fR\fR
for gigabyte, or \f5\fITB\fR\fR for terabyte. For example, \f5\fI10GB\fR\fR will
produce a 10 gigabyte disk. The minimum size a boot disk can have is 10 GB. Disk
size must be a multiple of 1 GB.

.TP 2m
\fB\-\-preemptible\-worker\-boot\-disk\-type\fR=\fIPREEMPTIBLE_WORKER_BOOT_DISK_TYPE\fR
The type of the boot disk. The value must be \f5\fIpd\-standard\fR\fR or
\f5\fIpd\-ssd\fR\fR.

.TP 2m
\fB\-\-properties\fR=[\fIPREFIX\fR:\fIPROPERTY\fR=\fIVALUE\fR,...]
Specifies configuration properties for installed packages, such as Hadoop and
Spark.

Properties are mapped to configuration files by specifying a prefix, such as
"core:io.serializations". The following are supported prefixes and their
mappings:


.TS
tab(,);
lB lB
l l.
Prefix,File,Purpose of file
capacity\-scheduler,capacity\-scheduler.xml,Hadoop YARN Capacity Scheduler configuration
core,core\-site.xml,Hadoop general configuration
distcp,distcp\-default.xml,Hadoop Distributed Copy configuration
hadoop\-env,hadoop\-env.sh,Hadoop specific environment variables
hdfs,hdfs\-site.xml,Hadoop HDFS configuration
hive,hive\-site.xml,Hive configuration
mapred,mapred\-site.xml,Hadoop MapReduce configuration
mapred\-env,mapred\-env.sh,Hadoop MapReduce specific environment variables
pig,pig.properties,Pig configuration
spark,spark\-defaults.conf,Spark configuration
spark\-env,spark\-env.sh,Spark specific environment variables
yarn,yarn\-site.xml,Hadoop YARN configuration
yarn\-env,yarn\-env.sh,Hadoop YARN specific environment variables
.TE

See
https://cloud.google.com/dataproc/docs/concepts/configuring\-clusters/cluster\-properties
for more information.


.TP 2m
\fB\-\-region\fR=\fIREGION\fR
Specifies the Cloud Dataproc region to use. Each Cloud Dataproc region
constitutes an independent resource namespace constrained to deploying instances
into Google Compute Engine zones inside the region. The default value of
"global" is a special multi\-region namespace which is capable of deploying
instances into all Google Compute Engine zones globally, and is disjoint from
other Cloud Dataproc regions. Overrides the default \fBdataproc/region\fR
property value for this command invocation.

.TP 2m
\fB\-\-scopes\fR=\fISCOPE\fR,[\fISCOPE\fR,...]
Specifies scopes for the node instances. The project's default service account
is used. Multiple SCOPEs can specified, separated by commas. Examples:

.RS 2m
$ gcloud beta dataproc clusters create example\-cluster \e
    \-\-scopes https://www.googleapis.com/auth/bigtable.admin
.RE

.RS 2m
$ gcloud beta dataproc clusters create example\-cluster \e
    \-\-scopes sqlservice,bigquery
.RE

The following scopes necessary for the cluster to function properly are always
added, even if not explicitly specified:


.TS
tab(,);
lB lB
l l.
https://www.googleapis.com/auth/devstorage.read_write
https://www.googleapis.com/auth/logging.write
.TE

If this flag is not specified the following default scopes are also included:


.TS
tab(,);
lB lB
l l.
https://www.googleapis.com/auth/bigquery
https://www.googleapis.com/auth/bigtable.admin.table
https://www.googleapis.com/auth/bigtable.data
https://www.googleapis.com/auth/devstorage.full_control
.TE

If you want to enable all scopes use the 'cloud\-platform' scope.

SCOPE can be either the full URI of the scope or an alias. Available aliases
are:


.TS
tab(,);
lB lB
l l.
Alias,URI
bigquery,https://www.googleapis.com/auth/bigquery
cloud\-platform,https://www.googleapis.com/auth/cloud\-platform
cloud\-source\-repos,https://www.googleapis.com/auth/source.full_control
cloud\-source\-repos\-ro,https://www.googleapis.com/auth/source.read_only
compute\-ro,https://www.googleapis.com/auth/compute.readonly
compute\-rw,https://www.googleapis.com/auth/compute
datastore,https://www.googleapis.com/auth/datastore
default,https://www.googleapis.com/auth/devstorage.read_only
,https://www.googleapis.com/auth/logging.write
,https://www.googleapis.com/auth/monitoring.write
,https://www.googleapis.com/auth/pubsub
,https://www.googleapis.com/auth/service.management.readonly
,https://www.googleapis.com/auth/servicecontrol
,https://www.googleapis.com/auth/trace.append
gke\-default,https://www.googleapis.com/auth/devstorage.read_only
,https://www.googleapis.com/auth/logging.write
,https://www.googleapis.com/auth/monitoring
,https://www.googleapis.com/auth/service.management.readonly
,https://www.googleapis.com/auth/servicecontrol
,https://www.googleapis.com/auth/trace.append
logging\-write,https://www.googleapis.com/auth/logging.write
monitoring,https://www.googleapis.com/auth/monitoring
monitoring\-write,https://www.googleapis.com/auth/monitoring.write
pubsub,https://www.googleapis.com/auth/pubsub
service\-control,https://www.googleapis.com/auth/servicecontrol
service\-management,https://www.googleapis.com/auth/service.management.readonly
sql,https://www.googleapis.com/auth/sqlservice
sql\-admin,https://www.googleapis.com/auth/sqlservice.admin
storage\-full,https://www.googleapis.com/auth/devstorage.full_control
storage\-ro,https://www.googleapis.com/auth/devstorage.read_only
storage\-rw,https://www.googleapis.com/auth/devstorage.read_write
taskqueue,https://www.googleapis.com/auth/taskqueue
trace,https://www.googleapis.com/auth/trace.append
userinfo\-email,https://www.googleapis.com/auth/userinfo.email
.TE


DEPRECATION WARNING: 'https://www.googleapis.com/auth/sqlservice' account scope
and \f5sql\fR alias do not provide SQL instance management capabilities and have
been deprecated. Please, use 'https://www.googleapis.com/auth/sqlservice.admin'
or \f5sql\-admin\fR to manage your Google SQL Service instances.


.TP 2m
\fB\-\-service\-account\fR=\fISERVICE_ACCOUNT\fR
The Google Cloud IAM service account to be authenticated as.

.TP 2m
\fB\-\-tags\fR=\fITAG\fR,[\fITAG\fR,...]
Specifies a list of tags to apply to the instances for identifying the instances
to which network firewall rules will apply. See \fBgcloud compute
firewall\-rules create\fR(1) for more details.

To list instances with their respective status and tags, run:

.RS 2m
$ gcloud compute instances list \e
    \-\-format='table(name,status,tags.list())'
.RE

To list instances tagged with a specific tag, \f5tag1\fR, run:

.RS 2m
$ gcloud compute instances list \-\-filter='tags:tag1'
.RE

.TP 2m
\fB\-\-worker\-accelerator\fR=[\fItype\fR=\fITYPE\fR,[\fIcount\fR=\fICOUNT\fR],...]
Attaches accelerators (e.g. GPUs) to the worker instance(s).

Note: No accelerators will be attached to preemptible workers, because
preemptible VMs do not support accelerators.

.RS 2m
.TP 2m
\fBtype\fR
The specific type (e.g. nvidia\-tesla\-k80 for nVidia Tesla K80) of accelerator
to attach to the instances. Use 'gcloud compute accelerator\-types list' to
learn about all available accelerator types.

.TP 2m
\fBcount\fR
The number of pieces of the accelerator to attach to each of the instances. The
default value is 1.

.RE
.sp
.TP 2m
\fB\-\-worker\-boot\-disk\-size\fR=\fIWORKER_BOOT_DISK_SIZE\fR
The size of the boot disk. The value must be a whole number followed by a size
unit of \f5\fIKB\fR\fR for kilobyte, \f5\fIMB\fR\fR for megabyte, \f5\fIGB\fR\fR
for gigabyte, or \f5\fITB\fR\fR for terabyte. For example, \f5\fI10GB\fR\fR will
produce a 10 gigabyte disk. The minimum size a boot disk can have is 10 GB. Disk
size must be a multiple of 1 GB.

.TP 2m
\fB\-\-worker\-boot\-disk\-type\fR=\fIWORKER_BOOT_DISK_TYPE\fR
The type of the boot disk. The value must be \f5\fIpd\-standard\fR\fR or
\f5\fIpd\-ssd\fR\fR.

.TP 2m
\fB\-\-worker\-machine\-type\fR=\fIWORKER_MACHINE_TYPE\fR
The type of machine to use for workers. Defaults to server\-specified.

.TP 2m
\fB\-\-worker\-min\-cpu\-platform\fR=\fIPLATFORM\fR
When specified, the VM will be scheduled on host with specified CPU architecture
or a newer one. To list available CPU platforms in given zone, run:

.RS 2m
$ gcloud beta compute zones describe ZONE
.RE

CPU platform selection is available only in selected zones; zones that allow CPU
platform selection will have an \f5availableCpuPlatforms\fR field that contains
the list of available CPU platforms for that zone.

You can find more information online:
https://cloud.google.com/compute/docs/instances/specify\-min\-cpu\-platform

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR, \fB\-z\fR \fIZONE\fR
The compute zone (e.g. us\-central1\-a) for the cluster. If empty, and
\-\-region is set to a value other than 'global', the server will pick a zone in
the region. Overrides the default \fBcompute/zone\fR property value for this
command invocation.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-expiration\-time\fR=\fIEXPIRATION_TIME\fR
The time when cluster will be auto\-deleted, such as
"2017\-08\-29T18:52:51.142Z". See $ gcloud topic datetimes for information on
time formats.

.TP 2m
\fB\-\-max\-age\fR=\fIMAX_AGE\fR
The lifespan of the cluster before it is auto\-deleted, such as "2h" or "1d".
See $ gcloud topic datetimes for information on duration formats.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-image\fR=\fIIMAGE\fR
The full custom image URI or the custom image name that will be used to create a
cluster.

.TP 2m
\fB\-\-image\-version\fR=\fIVERSION\fR
The image version to use for the cluster. Defaults to the latest version.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-network\fR=\fINETWORK\fR
The Compute Engine network that the VM instances of the cluster will be part of.
This is mutually exclusive with \-\-subnet. If neither is specified, this
defaults to the "default" network.

.TP 2m
\fB\-\-subnet\fR=\fISUBNET\fR
Specifies the subnet that the cluster will be part of. This is mutally exclusive
with \-\-network.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-single\-node\fR
Create a single node cluster.

A single node cluster has all master and worker components. It cannot have any
separate worker nodes. If this flag is not specified, a cluster with separate
workers is created.

.TP 2m

Multi\-node cluster flags

.RS 2m
.TP 2m
\fB\-\-num\-preemptible\-workers\fR=\fINUM_PREEMPTIBLE_WORKERS\fR
The number of preemptible worker nodes in the cluster.

.TP 2m
\fB\-\-num\-workers\fR=\fINUM_WORKERS\fR
The number of worker nodes in the cluster. Defaults to server\-specified.


.RE
.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-configuration,
\-\-flatten, \-\-format, \-\-help, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "EXAMPLES"

To create a cluster, run:

.RS 2m
$ gcloud beta dataproc clusters create my_cluster
.RE



.SH "NOTES"

This command is currently in BETA and may change without notice. This variant is
also available:

.RS 2m
$ gcloud dataproc clusters create
.RE

