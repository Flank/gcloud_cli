
.TH "GCLOUD_ALPHA_DEPLOYMENT\-MANAGER_DEPLOYMENTS_CREATE" 1



.SH "NAME"
.HP
gcloud alpha deployment\-manager deployments create \- create a deployment



.SH "SYNOPSIS"
.HP
\f5gcloud alpha deployment\-manager deployments create\fR \fIDEPLOYMENT_NAME\fR (\fB\-\-composite\-type\fR=\fICOMPOSITE_TYPE\fR\ |\ \fB\-\-config\fR=\fICONFIG\fR\ |\ \fB\-\-template\fR=\fITEMPLATE\fR) [\fB\-\-create\-policy\fR=\fICREATE_POLICY\fR;\ default="create\-or\-acquire"] [\fB\-\-credential\fR=\fICREDENTIAL\fR] [\fB\-\-description\fR=\fIDESCRIPTION\fR] [\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-preview\fR] [\fB\-\-properties\fR=[\fIPROPERTIES\fR,...]] [\fB\-\-async\fR\ |\ \fB\-\-automatic\-rollback\-on\-error\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR This command inserts (creates) a new deployment based on a
provided config file.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fIDEPLOYMENT_NAME\fR
Deployment name.


.RE
.sp

.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m

Exactly one of these must be specified:

.RS 2m
.TP 2m
\fB\-\-composite\-type\fR=\fICOMPOSITE_TYPE\fR
Name of a composite type to deploy. For an example of creating and deploying a
composite type, see:
https://cloud.google.com/deployment\-manager/docs/configuration/templates/create\-composite\-types#examplecompositetype

.TP 2m
\fB\-\-config\fR=\fICONFIG\fR
Filename of a top\-level yaml config that specifies resources to deploy. For a
guide to creating a configuration, refer to
https://cloud.google.com/deployment\-manager/docs/configuration/create\-basic\-configuration

.TP 2m
\fB\-\-template\fR=\fITEMPLATE\fR
Filename of a top\-level jinja or python config template.


.RE
.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-create\-policy\fR=\fICREATE_POLICY\fR; default="create\-or\-acquire"
Create policy for resources that have changed in the update. \fICREATE_POLICY\fR
must be one of: \fBacquire\fR, \fBcreate\fR, \fBcreate\-or\-acquire\fR.

.TP 2m
\fB\-\-credential\fR=\fICREDENTIAL\fR
Set the default credential that Deployment Manager uses to call underlying APIs
of a deployment. Use PROJECT_DEFAULT to set deployment credential same as the
credential of its owning project. Use serviceAccount:email to set default
credential using provided service account.

.TP 2m
\fB\-\-description\fR=\fIDESCRIPTION\fR
Optional description of the deployment to insert.

.TP 2m
\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to add.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m
\fB\-\-preview\fR
Preview the requested create without actually instantiating the underlying
resources. (default=False)

.TP 2m
\fB\-\-properties\fR=[\fIPROPERTIES\fR,...]
A comma separated, key:value, map to be used when deploying a template file or
composite type directly.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-async\fR
Return immediately, without waiting for the operation in progress to complete.

.TP 2m
\fB\-\-automatic\-rollback\-on\-error\fR
If the create request results in a deployment with resource errors, delete that
deployment immediately after creation. (default=False)


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "EXAMPLES"

To create a new deployment from a top\-level YAML file, run:

.RS 2m
$ gcloud alpha deployment\-manager deployments create my\-deployment \e
    \-\-config=config.yaml \-\-description="My deployment"
.RE

To create a new deployment from a top\-level template file, run:

.RS 2m
$ gcloud deployment\-manager deployments create my\-deployment   \e
    \-\-template=template.{jinja|py}   \e
    \-\-properties="string\-key:'string\-value',integer\-key:12345"
.RE

To create a new deployment directly from a composite type, run:

.RS 2m
$ gcloud deployment\-manager deployments create my\-deployment   \e
    \-\-composite\-type=<project\-id>/composite:<type\-name>   \e
    \-\-properties="string\-key:'string\-value',integer\-key:12345"
.RE

To preview a deployment without actually creating resources, run:

.RS 2m
$ gcloud alpha deployment\-manager deployments create \e
    my\-new\-deployment \-\-config=config.yaml \-\-preview
.RE

To instantiate a deployment that has been previewed, issue an update command for
that deployment without specifying a config file.

More information is available at
https://cloud.google.com/deployment\-manager/docs/configuration/.



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
allowlist. These variants are also available:

.RS 2m
$ gcloud deployment\-manager deployments create
$ gcloud beta deployment\-manager deployments create
.RE

