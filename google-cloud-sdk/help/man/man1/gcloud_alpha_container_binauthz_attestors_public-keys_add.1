
.TH "GCLOUD_ALPHA_CONTAINER_BINAUTHZ_ATTESTORS_PUBLIC\-KEYS_ADD" 1



.SH "NAME"
.HP
gcloud alpha container binauthz attestors public\-keys add \- add a public key to an Attestor



.SH "SYNOPSIS"
.HP
\f5gcloud alpha container binauthz attestors public\-keys add\fR \fB\-\-attestor\fR=\fIATTESTOR\fR (\fB\-\-pgp\-public\-key\-file\fR=\fIPGP_PUBLIC_KEY_FILE\fR\ |\ (\fB\-\-keyversion\fR=\fIKEYVERSION\fR\ :\ \fB\-\-keyversion\-key\fR=\fIKEYVERSION_KEY\fR\ \fB\-\-keyversion\-keyring\fR=\fIKEYVERSION_KEYRING\fR\ \fB\-\-keyversion\-location\fR=\fIKEYVERSION_LOCATION\fR\ \fB\-\-keyversion\-project\fR=\fIKEYVERSION_PROJECT\fR)\ |\ \fB\-\-pkix\-public\-key\-algorithm\fR=\fIPKIX_PUBLIC_KEY_ALGORITHM\fR\ \fB\-\-pkix\-public\-key\-file\fR=\fIPKIX_PUBLIC_KEY_FILE\fR) [\fB\-\-comment\fR=\fICOMMENT\fR] [\fB\-\-public\-key\-id\-override\fR=\fIPUBLIC_KEY_ID_OVERRIDE\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m

Attestor resource \- The attestor to which the public key should be added. This
represents a Cloud resource. (NOTE) Some attributes are not given arguments in
this group but can be set in other ways. To set the [project] attribute: provide
the argument [\-\-attestor] on the command line with a fully specified name;
provide the argument [\-\-project] on the command line; set the property
[core/project]. This must be specified.

.RS 2m
.TP 2m
\fB\-\-attestor\fR=\fIATTESTOR\fR
ID of the attestor or fully qualified identifier for the attestor.

.RE
.sp
.TP 2m

Exactly one of these must be specified:

.RS 2m
.TP 2m

PGP key definition

.RS 2m
.TP 2m
\fB\-\-pgp\-public\-key\-file\fR=\fIPGP_PUBLIC_KEY_FILE\fR
The path to the file containing the ASCII\-armored PGP public key to add.

.RE
.sp
.TP 2m

Cloud KMS key definition

.RS 2m
.TP 2m

CryptoKeyVersion resource \- The Cloud KMS (Key Management Service)
CryptoKeyVersion whose public key will be added to the attestor. The arguments
in this group can be used to specify the attributes of this resource. This must
be specified.


.RS 2m
.TP 2m
\fB\-\-keyversion\fR=\fIKEYVERSION\fR
ID of the CryptoKeyVersion or fully qualified identifier for the
CryptoKeyVersion. This flag must be specified if any of the other arguments in
this group are specified.

.TP 2m
\fB\-\-keyversion\-key\fR=\fIKEYVERSION_KEY\fR
The key of the CryptoKeyVersion.

.TP 2m
\fB\-\-keyversion\-keyring\fR=\fIKEYVERSION_KEYRING\fR
The keyring of the CryptoKeyVersion.

.TP 2m
\fB\-\-keyversion\-location\fR=\fIKEYVERSION_LOCATION\fR
The location of the CryptoKeyVersion.

.TP 2m
\fB\-\-keyversion\-project\fR=\fIKEYVERSION_PROJECT\fR
The Cloud project for the CryptoKeyVersion.

.RE
.RE
.sp
.TP 2m

PKIX key definition

.RS 2m
.TP 2m
\fB\-\-pkix\-public\-key\-algorithm\fR=\fIPKIX_PUBLIC_KEY_ALGORITHM\fR
The signing algorithm of the associated key. This will be used to verify the
signatures associated with this key. \fIPKIX_PUBLIC_KEY_ALGORITHM\fR must be one
of: \fBecdsa\-p256\-sha256\fR, \fBecdsa\-p384\-sha384\fR,
\fBecdsa\-p521\-sha512\fR, \fBrsa\-pss\-2048\-sha256\fR,
\fBrsa\-pss\-3072\-sha256\fR, \fBrsa\-pss\-4096\-sha256\fR,
\fBrsa\-pss\-4096\-sha512\fR, \fBrsa\-sign\-pkcs1\-2048\-sha256\fR,
\fBrsa\-sign\-pkcs1\-3072\-sha256\fR, \fBrsa\-sign\-pkcs1\-4096\-sha256\fR,
\fBrsa\-sign\-pkcs1\-4096\-sha512\fR. This flag must be specified if any of the
other arguments in this group are specified.

.TP 2m
\fB\-\-pkix\-public\-key\-file\fR=\fIPKIX_PUBLIC_KEY_FILE\fR
The path to the file containing the PKIX public key to add. This flag must be
specified if any of the other arguments in this group are specified.


.RE
.RE
.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-comment\fR=\fICOMMENT\fR
The comment describing the public key.

.TP 2m
\fB\-\-public\-key\-id\-override\fR=\fIPUBLIC_KEY_ID_OVERRIDE\fR
If provided, the ID to replace the default API\-generated one. All IDs must be
valid URIs as defined by RFC 3986 (https://tools.ietf.org/html/rfc3986).

When creating Attestations to be verified by this key, one must always provide
this custom ID as the public key ID.


.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "EXAMPLES"

To add a new KMS public key to an existing Attestor \f5my_attestor\fR:

.RS 2m
$ gcloud alpha container binauthz attestors public\-keys add \e
    \-\-attestor=my_attestor \e
    \-\-keyversion\-project=foo \e
    \-\-keyversion\-location=us\-west1 \e
    \-\-keyversion\-keyring=aring \e
    \-\-keyversion\-key=akey \e
    \-\-keyversion=1
.RE

To add a new PGP public key to an existing Attestor \f5my_attestor\fR:

.RS 2m
$ gcloud alpha container binauthz attestors public\-keys add \e
    \-\-attestor=my_attestor \e
    \-\-pgp\-public\-key\-file=my_key.pub
.RE



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
whitelist. These variants are also available:

.RS 2m
$ gcloud container binauthz attestors public\-keys add
$ gcloud beta container binauthz attestors public\-keys add
.RE

