
.TH "GCLOUD_ALPHA_CONTAINER_BUILDS_SUBMIT" 1



.SH "NAME"
.HP
gcloud alpha container builds submit \- submit a build using the Google Container Builder service



.SH "SYNOPSIS"
.HP
\f5gcloud alpha container builds submit\fR [[\fISOURCE\fR]\ \fB\-\-no\-source\fR] (\fB\-\-config\fR=\fICONFIG\fR\ |\ \fB\-\-tag\fR=\fITAG\fR,\ \fB\-t\fR\ \fITAG\fR) [\fB\-\-async\fR] [\fB\-\-disk\-size\fR=\fIDISK_SIZE\fR] [\fB\-\-gcs\-log\-dir\fR=\fIGCS_LOG_DIR\fR] [\fB\-\-gcs\-source\-staging\-dir\fR=\fIGCS_SOURCE_STAGING_DIR\fR] [\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR] [\fB\-\-substitutions\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-timeout\fR=\fITIMEOUT\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR Submit a build using the Google Container Builder service.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
[\fISOURCE\fR]
The source directory on local disk or tarball in Google Cloud Storage or disk to
use for this build. If source is a local directory this command skips files
specified in the \f5.gcloudignore\fR file (see \f5$ gcloud topic gcloudignore\fR
for more information). If a .gitignore file is present in the local source
directory, gcloud will use a Git\-compatible .gcloudignore file that respects
your .gitignore\-ed files. The global .gitignore is not respected.

.TP 2m
\fB\-\-no\-source\fR
Specify that no source should be uploaded with this build.


.RE
.RE
.sp

.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m

Exactly one of these must be specified:

.RS 2m
.TP 2m
\fB\-\-config\fR=\fICONFIG\fR
The .yaml or .json file to use for build configuration.

.TP 2m
\fB\-\-tag\fR=\fITAG\fR, \fB\-t\fR \fITAG\fR
The tag to use with a "docker build" image creation. The Container Builder
service will run a remote "docker build \-t $TAG .", where $TAG is the tag
provided by this flag. The tag must be in the gcr.io/* or *.gcr.io/* namespaces.


.RE
.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-async\fR
Display information about the operation in progress, without waiting for the
operation to complete.

.TP 2m
\fB\-\-disk\-size\fR=\fIDISK_SIZE\fR
Machine disk size (GB) to run the build.

.TP 2m
\fB\-\-gcs\-log\-dir\fR=\fIGCS_LOG_DIR\fR
Directory in Google Cloud Storage to hold build logs. If not set,
\f5gs://<project num>.cloudbuild\-logs.googleusercontent.com/\fR will be created
and used.

.TP 2m
\fB\-\-gcs\-source\-staging\-dir\fR=\fIGCS_SOURCE_STAGING_DIR\fR
Directory in Google Cloud Storage to stage a copy of the source used for the
build. If the bucket does not exist, it will be created. If not set,
\f5gs://<project id>_cloudbuild/source\fR is used.

.TP 2m
\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR
Machine type used to run the build. \fIMACHINE_TYPE\fR must be one of:
\fBn1\-highcpu\-32\fR, \fBn1\-highcpu\-8\fR.

.TP 2m
\fB\-\-substitutions\fR=[\fIKEY\fR=\fIVALUE\fR,...]
Parameters to be substituted in the build specification.

For example (using some nonsensical substitution keys; all keys must begin with
an underscore):

.RS 2m
$ gcloud container builds submit . \e
    \-\-config config.yaml \e
    \-\-substitutions _FAVORITE_COLOR=blue,_NUM_CANDIES=10
.RE

This will result in a build where every occurrence of \f5${_FAVORITE_COLOR}\fR
in certain fields is replaced by "blue", and similarly for \f5${_NUM_CANDIES}\fR
and "10".

Only the following built\-in variables can be specified with the
\f5\-\-substitutions\fR flag: REPO_NAME, BRANCH_NAME, TAG_NAME, REVISION_ID,
COMMIT_SHA, SHORT_SHA.

For more details, see:
https://cloud.google.com/container\-builder/docs/api/build\-requests#substitutions

.TP 2m
\fB\-\-timeout\fR=\fITIMEOUT\fR
Maximum time a build can last before it is failed as "TIMEOUT", written as a
duration (eg "2h15m5s" is two hours, fifteen minutes, and five seconds). If no
unit is specified, seconds is assumed (eg "10" is 10 seconds). Overrides the
default \fBcontainer/build_timeout\fR property value for this command
invocation.


.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-configuration,
\-\-flatten, \-\-format, \-\-help, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "NOTES"

You can also run a build locally using the separate component: \f5gcloud
components install container\-builder\-local\fR.

This command is currently in ALPHA and may change without notice. Usually, users
of ALPHA commands and flags need to apply for access, agree to applicable terms,
and have their projects whitelisted. Contact Google or sign up on a product's
page for ALPHA access. Product pages can be found at
https://cloud.google.com/products/. These variants are also available:

.RS 2m
$ gcloud container builds submit
$ gcloud beta container builds submit
.RE

