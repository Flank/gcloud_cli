
.TH "GCLOUD_ALPHA_COMPUTE_INSTANCE\-GROUPS_MANAGED_UPDATE" 1



.SH "NAME"
.HP
gcloud alpha compute instance\-groups managed update \- update Google Compute Engine managed instance groups



.SH "SYNOPSIS"
.HP
\f5gcloud alpha compute instance\-groups managed update\fR \fINAME\fR [\fB\-\-add\-stateful\-disks\fR=\fIDEVICE_NAME\fR,[\fIDEVICE_NAME\fR,...]] [\fB\-\-instance\-redistribution\-type\fR=\fITYPE\fR] [\fB\-\-remove\-stateful\-disks\fR=\fIDEVICE_NAME\fR,[\fIDEVICE_NAME\fR,...]] [\fB\-\-stateful\-names\fR] [\fB\-\-clear\-autohealing\fR\ |\ \fB\-\-initial\-delay\fR=\fIINITIAL_DELAY\fR\ \fB\-\-health\-check\fR=\fIHEALTH_CHECK\fR\ |\ \fB\-\-http\-health\-check\fR=\fIHTTP_HEALTH_CHECK\fR\ |\ \fB\-\-https\-health\-check\fR=\fIHTTPS_HEALTH_CHECK\fR] [\fB\-\-region\fR=\fIREGION\fR\ |\ \fB\-\-zone\fR=\fIZONE\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR \fBgcloud alpha compute instance\-groups managed update\fR allows
you to specify or modify the StatefulPolicy and AutoHealingPolicy for an
existing managed instance group.

Stateful Policy defines what stateful resources should be preserved for the
group. When instances in the group are removed or recreated, those stateful
properties are always applied to them. This command allows you to change the
preserved resources by adding more disks or removing existing disks and allows
you to turn on and off preserving instance names.

When updating the AutoHealingPolicy, you may specify the health check, initial
delay, or both. If the field is unspecified, its value won't be modified. If
\f5\-\-health\-check\fR is specified, the health check will be used to monitor
the health of your application. Whenever the health check signal for the
instance becomes \f5UNHEALTHY\fR, the autohealing action (\f5RECREATE\fR) on an
instance will be performed.

If no health check is specified, the instance autohealing will be triggered by
the instance status only (i.e. the autohealing action (\f5RECREATE\fR) on an
instance will be performed if \f5instance.status\fR is not \f5RUNNING\fR).



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fINAME\fR
Name of the managed instance group to update.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-add\-stateful\-disks\fR=\fIDEVICE_NAME\fR,[\fIDEVICE_NAME\fR,...]
Add more disks to be considered stateful by the instance group. Usually, the
managed instance group deletes disks when deleting instances; however, in the
case of stateful disks, these disks are detached from the deleted instance and
attached to new instances the managed instance group creates.

.TP 2m
\fB\-\-instance\-redistribution\-type\fR=\fITYPE\fR
Specify type of instance redistribution policy. Instance redistribution type
gives possibility to enable or disable automatic instance redistribution between
zones to its target distribution. Target distribution is a state of regional
managed instance group where all instances are spread out equally between all
target zones.

Instance redistribution type may be specified for non\-autoscaled regional
managed instance group only. By default it is set to PROACTIVE.

The following types are available:

.RS 2m
.IP "\(em" 2m
NONE \- managed instance group will not take any action to bring instances to
its target distribution.

.IP "\(em" 2m
PROACTIVE \- managed instance group will actively converge all instances between
zones to its target distribution.

.RE
.RE
.sp
\fITYPE\fR must be one of: \fBNONE\fR, \fBPROACTIVE\fR.

.RS 2m
.TP 2m
\fB\-\-remove\-stateful\-disks\fR=\fIDEVICE_NAME\fR,[\fIDEVICE_NAME\fR,...]
Stop considering the disks stateful by the instance group.

.TP 2m
\fB\-\-stateful\-names\fR
Enable stateful names of instances. Whenever instances with those names are
restarted or recreated, they will have the same names as before. Use
\-\-no\-stateful\-names to disable stateful names.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-autohealing\fR
Clears all autohealing policy fields for the managed instance group.

.TP 2m
\fB\-\-initial\-delay\fR=\fIINITIAL_DELAY\fR
Specifies the length of the period during which the instance is known to be
initializing and should not be autohealed even if unhealthy. This value cannot
be greater than 1 hour. See $ gcloud topic datetimes for information on duration
formats.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-health\-check\fR=\fIHEALTH_CHECK\fR
Name of the health check to operate on.

.TP 2m
\fB\-\-http\-health\-check\fR=\fIHTTP_HEALTH_CHECK\fR
(DEPRECATED) Specifies the HTTP health check object used for autohealing
instances in this group.

HttpHealthCheck is deprecated. Use \-\-health\-check instead.

.TP 2m
\fB\-\-https\-health\-check\fR=\fIHTTPS_HEALTH_CHECK\fR
(DEPRECATED) Specifies the HTTPS health check object used for autohealing
instances in this group.

HttpsHealthCheck is deprecated. Use \-\-health\-check instead.

.RE
.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-region\fR=\fIREGION\fR
Region of the managed instance group to update. If not specified, you may be
prompted to select a region.

A list of regions can be fetched by running:

.RS 2m
$ gcloud compute regions list
.RE

Overrides the default \fBcompute/region\fR property value for this command
invocation.

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR
Zone of the managed instance group to update. If not specified, you may be
prompted to select a zone.

A list of zones can be fetched by running:

.RS 2m
$ gcloud compute zones list
.RE

Overrides the default \fBcompute/zone\fR property value for this command
invocation.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-configuration,
\-\-flags\-file, \-\-flatten, \-\-format, \-\-help, \-\-log\-http, \-\-project,
\-\-quiet, \-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$
gcloud help\fR for details.



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you will have to apply for early access and have your projects registered on the
API whitelist to use it. To do so, contact Support at
https://cloud.google.com/support/.

