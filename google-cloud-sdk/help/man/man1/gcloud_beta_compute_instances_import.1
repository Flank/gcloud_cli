
.TH "GCLOUD_BETA_COMPUTE_INSTANCES_IMPORT" 1



.SH "NAME"
.HP
gcloud beta compute instances import \- create Compute Engine virtual machine instances from virtual appliance in OVA/OVF format



.SH "SYNOPSIS"
.HP
\f5gcloud beta compute instances import\fR \fIINSTANCE_NAME\fR \fB\-\-source\-uri\fR=\fISOURCE_URI\fR [\fB\-\-async\fR] [\fB\-\-can\-ip\-forward\fR] [\fB\-\-deletion\-protection\fR] [\fB\-\-description\fR=\fIDESCRIPTION\fR] [\fB\-\-no\-guest\-environment\fR] [\fB\-\-hostname\fR=\fIHOSTNAME\fR] [\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-log\-location\fR=\fILOG_LOCATION\fR] [\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR] [\fB\-\-network\fR=\fINETWORK\fR] [\fB\-\-network\-tier\fR=\fINETWORK_TIER\fR] [\fB\-\-os\fR=\fIOS\fR] [\fB\-\-private\-network\-ip\fR=\fIPRIVATE_NETWORK_IP\fR] [\fB\-\-no\-restart\-on\-failure\fR] [\fB\-\-subnet\fR=\fISUBNET\fR] [\fB\-\-tags\fR=\fITAG\fR,[\fITAG\fR,...]] [\fB\-\-timeout\fR=\fITIMEOUT\fR;\ default="2h"] [\fB\-\-zone\fR=\fIZONE\fR] [\fB\-\-custom\-cpu\fR=\fICUSTOM_CPU\fR\ \fB\-\-custom\-memory\fR=\fICUSTOM_MEMORY\fR\ :\ \fB\-\-custom\-extensions\fR\ \fB\-\-custom\-vm\-type\fR=\fICUSTOM_VM_TYPE\fR] [\fB\-\-node\fR=\fINODE\fR\ |\ \fB\-\-node\-affinity\-file\fR=\fINODE_AFFINITY_FILE\fR\ |\ \fB\-\-node\-group\fR=\fINODE_GROUP\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(BETA)\fR \fBgcloud beta compute instances import\fR creates Compute Engine
virtual machine instances from virtual appliance in OVA/OVF format.

Importing OVF involves:
.RS 2m
.IP "\(bu" 2m
Unpacking OVF package (if in OVA format) to Cloud Storage.
.IP "\(bu" 2m
Import disks from OVF to Compute Engine.
.IP "\(bu" 2m
Translate the boot disk to make it bootable in Compute Engine.
.IP "\(bu" 2m
Create a VM instance using OVF metadata and imported disks and boot it.
.RE
.sp

OVF import tool requires Cloud Build to be enabled. See
https://cloud.google.com/compute/docs/import/import\-ovf\-files#enable\-cloud\-build
Virtual machine instances, images and disks in Compute engine and files stored
on Cloud Storage incur charges. See
https://cloud.google.com/compute/docs/images/importing\-virtual\-disks#resource_cleanup.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fIINSTANCE_NAME\fR
Name of the instance to import. For details on valid instance names, refer to
the criteria documented under the field 'name' at:
https://cloud.google.com/compute/docs/reference/rest/v1/instances


.RE
.sp

.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m
\fB\-\-source\-uri\fR=\fISOURCE_URI\fR
Cloud Storage path to one of: OVF descriptor OVA file Directory with OVF package


.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-async\fR
Return immediately, without waiting for the operation in progress to complete.

.TP 2m
\fB\-\-can\-ip\-forward\fR
If provided, allows the instances to send and receive packets with non\-matching
destination or source IP addresses.

.TP 2m
\fB\-\-deletion\-protection\fR
Enables deletion protection for the instance.

.TP 2m
\fB\-\-description\fR=\fIDESCRIPTION\fR
Specifies a textual description of the instances.

.TP 2m
\fB\-\-guest\-environment\fR
The guest environment will be installed on the instance. Enabled by default, use
\fB\-\-no\-guest\-environment\fR to disable.

.TP 2m
\fB\-\-hostname\fR=\fIHOSTNAME\fR
Specify the hostname of the instance to be imported. The specified hostname must
be RFC1035 compliant. If hostname is not specified, the default hostname is
[INSTANCE_NAME].c.[PROJECT_ID].internal when using the global DNS, and
[INSTANCE_NAME].[ZONE].c.[PROJECT_ID].internal when using zonal DNS.

.TP 2m
\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to add.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m
\fB\-\-log\-location\fR=\fILOG_LOCATION\fR
Directory in Cloud Storage to hold build logs. If not set, \f5gs://<project
num>.cloudbuild\-logs.googleusercontent.com/\fR is created and used.

.TP 2m
\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR
Specifies the machine type used for the instances. To get a list of available
machine types, run 'gcloud compute machine\-types list'. If unspecified, the
default type is n1\-standard\-1.

.TP 2m
\fB\-\-network\fR=\fINETWORK\fR
Specifies the network that the instances will be part of. If \-\-subnet is also
specified subnet must be a subnetwork of network specified by \-\-network. If
neither is specified, this defaults to the "default" network.

.TP 2m
\fB\-\-network\-tier\fR=\fINETWORK_TIER\fR
Specifies the network tier that will be used to configure the instance.
\f5\fINETWORK_TIER\fR\fR must be one of: \f5PREMIUM\fR, \f5STANDARD\fR. The
default value is \f5PREMIUM\fR.

.TP 2m
\fB\-\-os\fR=\fIOS\fR
Specifies the OS of the image being imported. \fIOS\fR must be one of:
\fBcentos\-6\fR, \fBcentos\-7\fR, \fBcentos\-8\fR, \fBdebian\-8\fR,
\fBdebian\-9\fR, \fBopensuse\-15\fR, \fBrhel\-6\fR, \fBrhel\-6\-byol\fR,
\fBrhel\-7\fR, \fBrhel\-7\-byol\fR, \fBrhel\-8\fR, \fBrhel\-8\-byol\fR,
\fBsles\-12\-byol\fR, \fBsles\-15\-byol\fR, \fBubuntu\-1404\fR,
\fBubuntu\-1604\fR, \fBubuntu\-1804\fR, \fBubuntu\-2004\fR,
\fBwindows\-10\-x64\-byol\fR, \fBwindows\-10\-x86\-byol\fR,
\fBwindows\-2008r2\fR, \fBwindows\-2008r2\-byol\fR, \fBwindows\-2012\fR,
\fBwindows\-2012\-byol\fR, \fBwindows\-2012r2\fR, \fBwindows\-2012r2\-byol\fR,
\fBwindows\-2016\fR, \fBwindows\-2016\-byol\fR, \fBwindows\-2019\fR,
\fBwindows\-2019\-byol\fR, \fBwindows\-7\-x64\-byol\fR,
\fBwindows\-7\-x86\-byol\fR, \fBwindows\-8\-x64\-byol\fR,
\fBwindows\-8\-x86\-byol\fR.

.TP 2m
\fB\-\-private\-network\-ip\fR=\fIPRIVATE_NETWORK_IP\fR
Specifies the RFC1918 IP to assign to the instance. The IP should be in the
subnet or legacy network IP range.

.TP 2m
\fB\-\-restart\-on\-failure\fR
The instances will be restarted if they are terminated by Compute Engine. This
does not affect terminations performed by the user. Enabled by default, use
\fB\-\-no\-restart\-on\-failure\fR to disable.

.TP 2m
\fB\-\-subnet\fR=\fISUBNET\fR
Specifies the subnet that the instances will be part of. If \-\-network is also
specified subnet must be a subnetwork of network specified by \-\-network.

.TP 2m
\fB\-\-tags\fR=\fITAG\fR,[\fITAG\fR,...]
Specifies a list of tags to apply to the instance. These tags allow network
firewall rules and routes to be applied to specified VM instances. See \fBgcloud
compute firewall\-rules create\fR(1) for more details.

To read more about configuring network tags, read this guide:
https://cloud.google.com/vpc/docs/add\-remove\-network\-tags

To list instances with their respective status and tags, run:

.RS 2m
$ gcloud compute instances list \e
    \-\-format='table(name,status,tags.list())'
.RE

To list instances tagged with a specific tag, \f5tag1\fR, run:

.RS 2m
$ gcloud compute instances list \-\-filter='tags:tag1'
.RE

.TP 2m
\fB\-\-timeout\fR=\fITIMEOUT\fR; default="2h"
Maximum time a build can last before it fails as "TIMEOUT". For example,
specifying \f52h\fR fails the process after 2 hours. See $ gcloud topic
datetimes for information about duration formats.

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR
Zone of the instance to import. If not specified and the
\f5\fIcompute/zone\fR\fR property isn't set, you may be prompted to select a
zone.

To avoid prompting when this flag is omitted, you can set the
\f5\fIcompute/zone\fR\fR property:

.RS 2m
$ gcloud config set compute/zone ZONE
.RE

A list of zones can be fetched by running:

.RS 2m
$ gcloud compute zones list
.RE

To unset the property, run:

.RS 2m
$ gcloud config unset compute/zone
.RE

Alternatively, the zone can be stored in the environment variable
\f5\fICLOUDSDK_COMPUTE_ZONE\fR\fR.

.TP 2m

Custom machine type extensions.

.RS 2m
.TP 2m
\fB\-\-custom\-cpu\fR=\fICUSTOM_CPU\fR
A whole number value indicating how many cores are desired in the custom machine
type. This flag must be specified if any of the other arguments in this group
are specified.

.TP 2m
\fB\-\-custom\-memory\fR=\fICUSTOM_MEMORY\fR
A whole number value indicating how much memory is desired in the custom machine
type. A size unit should be provided (eg. 3072MB or 9GB) \- if no units are
specified, GB is assumed. This flag must be specified if any of the other
arguments in this group are specified.

.TP 2m
\fB\-\-custom\-extensions\fR
Use the extended custom machine type.

.TP 2m
\fB\-\-custom\-vm\-type\fR=\fICUSTOM_VM_TYPE\fR
Specifies VM type. n1 \- VMs with CPU platforms Skylake and older, n2 \- VMs
with CPU platform Cascade Lake. n2 offers flexible sizing from 2 to 80 vCPUs,
and 1 to 640GBs of memory. It also features a number of performance enhancements
including exposing a more accurate NUMA topology to the guest OS. The default is
\f5n1\fR.

.RE
.sp
.TP 2m

Sole Tenancy. At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-node\fR=\fINODE\fR
The name of the node to schedule this instance on.

.TP 2m
\fB\-\-node\-affinity\-file\fR=\fINODE_AFFINITY_FILE\fR
The JSON/YAML file containing the configuration of desired nodes onto which this
instance could be scheduled. These rules filter the nodes according to their
node affinity labels. A node's affinity labels come from the node template of
the group the node is in.

The file should contain a list of a JSON/YAML objects with the following fields:

.TP 2m
\fBkey\fR
Corresponds to the node affinity label keys of the Node resource.
.TP 2m
\fBoperator\fR
Specifies the node selection type. Must be one of: \f5IN\fR: Requires Compute
Engine to seek for matched nodes. \f5NOT_IN\fR: Requires Compute Engine to avoid
certain nodes.
.TP 2m
\fBvalues\fR
Optional. A list of values which correspond to the node affinity label values of
the Node resource.

.TP 2m
\fB\-\-node\-group\fR=\fINODE_GROUP\fR
The name of the node group to schedule this instance on.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "EXAMPLES"

To import an OVF package from Cloud Storage into a VM named \f5my\-instance\fR,
run:

.RS 2m
$ gcloud beta compute instances import my\-instance \e
    \-\-source\-uri=gs://my\-bucket/my\-dir
.RE



.SH "NOTES"

This command is currently in BETA and may change without notice. These variants
are also available:

.RS 2m
$ gcloud compute instances import
$ gcloud alpha compute instances import
.RE

