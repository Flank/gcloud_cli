
.TH "GCLOUD_ALPHA_FILESTORE_INSTANCES_UPDATE" 1



.SH "NAME"
.HP
gcloud alpha filestore instances update \- update a Cloud Filestore instance in the current project



.SH "SYNOPSIS"
.HP
\f5gcloud alpha filestore instances update\fR (\fIINSTANCE\fR\ :\ \fB\-\-zone\fR=\fIZONE\fR) [\fB\-\-async\fR] [\fB\-\-description\fR=\fIDESCRIPTION\fR] [\fB\-\-file\-share\fR=[\fIcapacity\fR=\fICAPACITY\fR],[\fIname\fR=\fINAME\fR],[\fInfs\-export\-options\fR=\fINFS\-EXPORT\-OPTIONS\fR],[\fIsource\-snapshot\fR=\fISOURCE\-SNAPSHOT\fR],[\fIsource\-snapshot\-region\fR=\fISOURCE\-SNAPSHOT\-REGION\fR]] [\fB\-\-location\fR=\fILOCATION\fR] [\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-clear\-labels\fR\ |\ \fB\-\-remove\-labels\fR=[\fIKEY\fR,...]] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR Update a Cloud Filestore instance.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m

Instance resource \- The instance to update. The arguments in this group can be
used to specify the attributes of this resource. (NOTE) Some attributes are not
given arguments in this group but can be set in other ways. To set the [project]
attribute: provide the argument [instance] on the command line with a fully
specified name; provide the argument [\-\-project] on the command line; set the
property [core/project]. This must be specified.

.RS 2m
.TP 2m
\fIINSTANCE\fR
ID of the instance or fully qualified identifier for the instance. This
positional must be specified if any of the other arguments in this group are
specified.

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR
The zone of the instance.


.RE
.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-async\fR
Return immediately, without waiting for the operation in progress to complete.

.TP 2m
\fB\-\-description\fR=\fIDESCRIPTION\fR
A description of the Cloud Filestore instance.

.TP 2m
\fB\-\-file\-share\fR=[\fIcapacity\fR=\fICAPACITY\fR],[\fIname\fR=\fINAME\fR],[\fInfs\-export\-options\fR=\fINFS\-EXPORT\-OPTIONS\fR],[\fIsource\-snapshot\fR=\fISOURCE\-SNAPSHOT\fR],[\fIsource\-snapshot\-region\fR=\fISOURCE\-SNAPSHOT\-REGION\fR]
File share configuration for an instance. Specifying both \f5name\fR and
\f5capacity\fR is required.

.RS 2m
.TP 2m
\fBcapacity\fR
The desired size of the volume in GB or TB units. If no size unit is specified,
GB is assumed. Acceptable instance sizes for each tier are as follows:
.RS 2m
.IP "\(bu" 2m
BASIC_HDD: 1TB\-63.9TB in 1GB increments or its multiples.
.IP "\(bu" 2m
BASIC_SSD: 2.5TB\-63.9TB in 1GB increments or its multiples.
.IP "\(bu" 2m
HIGH_SCALE_SSD: 60TB\-320TB in 10TB increments or its multiples.

.RE
.sp
.TP 2m
\fBname\fR
The desired logical name of the volume.

.TP 2m
\fBnfs\-export\-options\fR
The NfsExportOptions for the Cloud Filestore instance file share. Configuring
NfsExportOptions is optional. Use the \f5\-\-flags\-file\fR flag to specify the
path to a JSON or YAML configuration file that contains the required
NfsExportOptions flags.

.TP 2m
\fBip\-ranges\fR
A list of IPv4 addresses or CIDR ranges that are allowed to mount the file
share. IPv4 addresses format: {octet 1}.{octet 2}.{octet 3}.{octet 4}. CIDR
range format: {octet 1}.{octet 2}.{octet 3}.{octet 4}/{mask size}. Overlapping
IP ranges, even across NfsExportOptions, are not allowed and will return an
error. The limit of IP ranges/addresses for each FileShareConfig among all
NfsExportOptions is 64 per instance.

.TP 2m
\fBaccess\-mode\fR
The type of access allowed for the specified IP\-addresses or CIDR ranges.
READ_ONLY: Allows only read requests on the exported file share. READ_WRITE:
Allows both read and write requests on the exported file share. The default
setting is READ_WRITE.

.TP 2m
\fBsquash\-mode\fR
Enables or disables root squash for the specified IP addresses or CIDR ranges.
NO_ROOT_SQUASH: Disables root squash to allow root access on the exported file
share. ROOT_SQUASH. Enables root squash to remove root access on the exported
file share. The default setting is NO_ROOT_SQUASH.

.TP 2m
\fBanon_uid\fR
An integer that represents the user ID of anonymous users. Anon_uid may only be
set when squash_mode is set to ROOT_SQUASH. If NO_ROOT_SQUASH is specified, an
error will be returned. The default value is 65534.

.TP 2m
\fBanon_gid\fR
An integer that represents the group ID of anonymous groups. Anon_gid may only
be set when squash_mode is set to ROOT_SQUASH. If NO_ROOT_SQUASH is specified,
an error will be returned. The default value is 65534.

.TP 2m
\fBsource\-snapshot\fR
The name of the snapshot to restore from. Supported for BASIC instances only.

.TP 2m
\fBsource\-snapshot\-region\fR
The region of the source snapshot. If unspecified, it is assumed that the
Filestore snapshot is local and instance\-zone will be used.

.RE
.sp
.TP 2m
\fB\-\-location\fR=\fILOCATION\fR
(DEPRECATED) Location of the Cloud Filestore instance.

The \f5\-\-location\fR flag is deprecated. Use \f5\-\-zone\fR.

.TP 2m
\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to update. If a label exists its value is
modified, otherwise a new label is created.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-labels\fR
Remove all labels. If \f5\-\-update\-labels\fR is also specified then
\f5\-\-clear\-labels\fR is applied first.

For example, to remove all labels:

.RS 2m
$ gcloud alpha filestore instances update \-\-clear\-labels
.RE

To set the labels to exactly "foo" and "baz":

.RS 2m
$ gcloud alpha filestore instances update \-\-clear\-labels \e
  \-\-update\-labels foo=bar,baz=qux
.RE

.TP 2m
\fB\-\-remove\-labels\fR=[\fIKEY\fR,...]
List of label keys to remove. If a label does not exist it is silently ignored.
If \f5\-\-update\-labels\fR is also specified then \f5\-\-remove\-labels\fR is
applied first.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "EXAMPLES"

The following command updates the Cloud Filestore instance NAME to change the
description to "A new description."

.RS 2m
$ gcloud alpha filestore instances update NAME \e
    \-\-description="A new description."
.RE

The following command updates a Cloud Filestore instance named NAME to add the
label "key1=value1" and remove any metadata with the label "key2".

.RS 2m
$ gcloud alpha filestore instances update NAME \e
    \-\-update\-labels=key1=value1 \-\-remove\-labels=key2
.RE

.RS 2m
$ gcloud alpha filestore instances update NAME \-\-zone=ZONE \e
    \-\-flags\-file=FILE_PATH
.RE

Example json configuration file:.RS 2m
{
"\-\-file\-share":
{
  "capacity": "102400",
  "name": "my_vol",
  "nfs\-export\-options": [
    {
      "access\-mode": "READ_WRITE",
      "ip\-ranges": [
        "10.0.0.0/29",
        "10.2.0.0/29"
      ],
      "squash\-mode": "ROOT_SQUASH",
      "anon_uid": 1003,
      "anon_gid": 1003
    },
     {
      "access\-mode": "READ_ONLY",
      "ip\-ranges": [
        "192.168.0.0/24"
      ],
      "squash\-mode": "NO_ROOT_SQUASH"
    }
  ],
}
}

.RE


The following command updates a Cloud Filestore instance named NAME to change
the capacity to CAPACITY..RS 2m
$ gcloud alpha filestore instances update NAME \e
    \-\-project=PROJECT_ID \-\-zone=ZONE    \e
    \-\-file\-share=name=VOLUME_NAME,capacity=CAPACITY

.RE



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
whitelist. These variants are also available:

.RS 2m
$ gcloud filestore instances update
$ gcloud beta filestore instances update
.RE

