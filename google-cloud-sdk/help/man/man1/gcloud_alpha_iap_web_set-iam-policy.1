
.TH "GCLOUD_ALPHA_IAP_WEB_SET\-IAM\-POLICY" 1



.SH "NAME"
.HP
gcloud alpha iap web set\-iam\-policy \- set the IAM policy for an IAP IAM resource



.SH "SYNOPSIS"
.HP
\f5gcloud alpha iap web set\-iam\-policy\fR \fIPOLICY_FILE\fR [\fB\-\-resource\-type\fR=\fIRESOURCE_TYPE\fR\ \fB\-\-service\fR=\fISERVICE\fR\ \fB\-\-version\fR=\fIVERSION\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR This command replaces the existing IAM policy for an IAP IAM
resource, given a file encoded in JSON or YAML that contains the IAM policy. If
the given policy file specifies an "etag" value, then the replacement will
succeed only if the policy already in place matches that etag. (An etag obtained
via $ gcloud alpha iap web get\-iam\-policy will prevent the replacement if the
policy for the resource has been subsequently updated.) A policy file that does
not contain an etag value will replace any existing policy for the resource.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fIPOLICY_FILE\fR
JSON or YAML file containing the IAM policy.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-resource\-type\fR=\fIRESOURCE_TYPE\fR
Resource type of the IAP IAM resource. \fIRESOURCE_TYPE\fR must be one of:
\fBapp\-engine\fR, \fBbackend\-services\fR.

.TP 2m
\fB\-\-service\fR=\fISERVICE\fR
Service name.

.TP 2m
\fB\-\-version\fR=\fIVERSION\fR
Service version. Should only be specified with
\f5\-\-resource\-type=app\-engine\fR.


.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "EXAMPLES"

To set the IAM policy for the web accesses to the IAP protected resources within
the active project, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE
.RE

To set the IAM policy for the web accesses to the IAP protected resources within
a project, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE \e
    \-\-project=PROJECT_ID
.RE

To set the IAM policy for the web accesses to the IAP protected resources within
an App Engine application, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE \e
    \-\-resource\-type=app\-engine
.RE

To set the IAM policy for the web accesses to the IAP protected resources within
an App Engine service, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE \e
    \-\-resource\-type=app\-engine
    \-\-service=SERVICE_ID
.RE

To set the IAM policy for the web accesses to the IAP protected resources within
an App Engine service version, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE \e
    \-\-resource\-type=app\-engine
    \-\-service=SERVICE_ID \-\-version=VERSION
.RE

To set the IAM policy for the web accesses to the IAP protected resources within
all backend services, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE \e
    \-\-resource\-type=backend\-services
.RE

To set the IAM policy for the web accesses to the IAP protected resources within
a backend service, run:

.RS 2m
$ gcloud alpha iap web set\-iam\-policy POLICY_FILE \e
    \-\-resource\-type=backend\-services
    \-\-service=SERVICE_ID
.RE



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you will have to apply for early access and have your projects registered on the
API whitelist to use it. To do so, contact Support at
https://cloud.google.com/support/.

