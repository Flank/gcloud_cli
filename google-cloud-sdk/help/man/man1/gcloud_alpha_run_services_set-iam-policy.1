
.TH "GCLOUD_ALPHA_RUN_SERVICES_SET\-IAM\-POLICY" 1



.SH "NAME"
.HP
gcloud alpha run services set\-iam\-policy \- set the IAM policy for a service



.SH "SYNOPSIS"
.HP
\f5gcloud alpha run services set\-iam\-policy\fR (\fISERVICE\fR\ :\ \fB\-\-region\fR=\fIREGION\fR) \fIPOLICY_FILE\fR [\fB\-\-platform\fR=\fIPLATFORM\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR This command replaces the existing IAM policy for a service, given
a service and a file encoded in JSON or YAML that contains the IAM policy. If
the given policy file specifies an "etag" value, then the replacement will
succeed only if the policy already in place matches that etag. (An etag obtain
via \f5get\-iam\-policy\fR will prevent the replacement if the policy for the
service has been subsequently updated.) A policy file that does not contain an
etag value will replace any existing policy for the service.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m

Service resource \- The service for which to set the IAM policy. The arguments
in this group can be used to specify the attributes of this resource. (NOTE)
Some attributes are not given arguments in this group but can be set in other
ways. To set the [project] attribute: provide the argument [service] on the
command line with a fully specified name; set the property [core/project];
provide the argument [\-\-project] on the command line. This must be specified.

.RS 2m
.TP 2m
\fISERVICE\fR
ID of the service or fully qualified identifier for the service. This positional
must be specified if any of the other arguments in this group are specified.

.TP 2m
\fB\-\-region\fR=\fIREGION\fR
The Cloud Run region.

.RE
.sp
.TP 2m
\fIPOLICY_FILE\fR
Path to a local JSON or YAML formatted file containing a valid policy.

The output of the \f5get\-iam\-policy\fR command is a valid file, as is any JSON
or YAML file conforming to the structure of a Policy
(https://cloud.google.com/iam/reference/rest/v1/Policy).


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-platform\fR=\fIPLATFORM\fR
Target platform for running commands. \fIPLATFORM\fR must be one of:

.RS 2m
.TP 2m
\fBgke\fR
Cloud Run on Google Kubernetes Engine. This platform is not supported by this
command.

.TP 2m
\fBkubernetes\fR
Use a Knative\-compatible kubernetes cluster. This platform is not supported by
this command.

.TP 2m
\fBmanaged\fR
Fully managed version of Cloud Run. Use with the \f5\-\-region\fR flag or set
the [run/region] property to specify a Cloud Run region.

.RE
.sp



.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "API REFERENCE"

This command uses the \fBrun/v1alpha1\fR API. The full documentation for this
API can be found at: https://cloud.google.com/run/



.SH "EXAMPLES"

The following command will read an IAM policy defined in a JSON file
\'policy.json' and set it for a service with identifier 'my\-service'

.RS 2m
$ gcloud alpha run services set\-iam\-policy \-\-region=us\-central1 \e
    my\-service policy.json
.RE

See https://cloud.google.com/iam/docs/managing\-policies for details of the
policy file format and contents.



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
whitelist. This variant is also available:

.RS 2m
$ gcloud beta run services set\-iam\-policy
.RE

