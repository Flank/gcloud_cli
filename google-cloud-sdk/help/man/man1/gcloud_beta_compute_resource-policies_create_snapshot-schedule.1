
.TH "GCLOUD_BETA_COMPUTE_RESOURCE\-POLICIES_CREATE_SNAPSHOT\-SCHEDULE" 1



.SH "NAME"
.HP
gcloud beta compute resource\-policies create snapshot\-schedule \- create a Compute Engine Snapshot Schedule Resource Policy



.SH "SYNOPSIS"
.HP
\f5gcloud beta compute resource\-policies create snapshot\-schedule\fR \fINAME\fR \fB\-\-max\-retention\-days\fR=\fIMAX_RETENTION_DAYS\fR (\fB\-\-weekly\-schedule\-from\-file\fR=\fIWEEKLY_CYCLE_FROM_FILE\fR\ |\ \fB\-\-start\-time\fR=\fISTART_TIME\fR\ (\fB\-\-daily\-schedule\fR\ |\ \fB\-\-hourly\-schedule\fR=\fIHOURS\fR\ |\ \fB\-\-weekly\-schedule\fR=\fIWEEKLY_CYCLE\fR)) [\fB\-\-description\fR=\fIDESCRIPTION\fR] [\fB\-\-on\-source\-disk\-delete\fR=\fION_SOURCE_DISK_DELETE\fR] [\fB\-\-region\fR=\fIREGION\fR] [\fB\-\-guest\-flush\fR\ \fB\-\-snapshot\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]\ \fB\-\-storage\-location\fR=\fILOCATION\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(BETA)\fR Create a Compute Engine Snapshot Schedule Resource Policy.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fINAME\fR
Name of the resource policy to operate on.


.RE
.sp

.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m
\fB\-\-max\-retention\-days\fR=\fIMAX_RETENTION_DAYS\fR
Maximum number of days snapshot can be retained.

.TP 2m

Cycle Frequency Group. Exactly one of these must be specified:

.RS 2m
.TP 2m

From file:

.RS 2m
.TP 2m
\fB\-\-weekly\-schedule\-from\-file\fR=\fIWEEKLY_CYCLE_FROM_FILE\fR
A JSON/YAML file which specifies a weekly schedule. It should be a list of
objects with the following fields:

day: Day of the week with the same choices as \f5\-\-weekly\-schedule\fR.
startTime: Start time of the snapshot schedule with the same format as
\-\-start\-time.

.RE
.sp
.TP 2m

From flags:

.RS 2m
.TP 2m
\fB\-\-start\-time\fR=\fISTART_TIME\fR
Start time for the disk snapshot schedule in UTC. For example,
\f5\-\-start\-time="15:00"\fR. This flag must be specified if any of the other
arguments in this group are specified.

.TP 2m

Exactly one of these must be specified:

.RS 2m
.TP 2m
\fB\-\-daily\-schedule\fR
Snapshot schedule starts daily at START_TIME.

.TP 2m
\fB\-\-hourly\-schedule\fR=\fIHOURS\fR
Snapshot schedule occurs every n hours starting at START_TIME.

.TP 2m
\fB\-\-weekly\-schedule\fR=\fIWEEKLY_CYCLE\fR
Snapshot schedule occurs weekly on WEEKLY_SCHEDULE at START_TIME.
\fIWEEKLY_CYCLE\fR must be one of: \fBmonday\fR, \fBtuesday\fR, \fBwednesday\fR,
\fBthursday\fR, \fBfriday\fR, \fBsaturday\fR, \fBsunday\fR.


.RE
.RE
.RE
.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-description\fR=\fIDESCRIPTION\fR
An optional, textual description for the backend.

.TP 2m
\fB\-\-on\-source\-disk\-delete\fR=\fION_SOURCE_DISK_DELETE\fR
Retention behavior of automatic snapshots in the event of source disk deletion.
\fION_SOURCE_DISK_DELETE\fR must be one of:

.RS 2m
.TP 2m
\fBapply\-retention\-policy\fR
Continue to apply the retention window to automatically\-created snapshots when
the source disk is deleted.
.TP 2m
\fBkeep\-auto\-snapshots\fR
Keep automatically\-created snapshots when the source disk is deleted. This is
the default behavior.
.RE
.sp


.TP 2m
\fB\-\-region\fR=\fIREGION\fR
Region of the resource policy to operate on. If not specified, you may be
prompted to select a region.

To avoid prompting when this flag is omitted, you can set the
\f5\fIcompute/region\fR\fR property:

.RS 2m
$ gcloud config set compute/region REGION
.RE

A list of regions can be fetched by running:

.RS 2m
$ gcloud compute regions list
.RE

To unset the property, run:

.RS 2m
$ gcloud config unset compute/region
.RE

Alternatively, the region can be stored in the environment variable
\f5\fICLOUDSDK_COMPUTE_REGION\fR\fR.

.TP 2m

Snapshot properties

.RS 2m
.TP 2m
\fB\-\-guest\-flush\fR
Create an application consistent snapshot by informing the OS to prepare for the
snapshot process.

.TP 2m
\fB\-\-snapshot\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to add.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

These will be added to the disk snapshots on creation.

.TP 2m
\fB\-\-storage\-location\fR=\fILOCATION\fR
Google Cloud Storage location, either regional or multi\-regional, where
snapshot content is to be stored. If absent, a nearby regional or
multi\-regional location is chosen automatically.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "EXAMPLES"

The following command creates a Compute Engine Snapshot Schedule Resource Policy
with a daily snapshot taken at 13:00Z and a one day snapshot retention policy.

.RS 2m
$ gcloud beta compute resource\-policies create snapshot\-schedule \e
    my\-resource\-policy \-\-region=REGION \-\-start\-time=13:00 \e
    \-\-daily\-schedule \-\-max\-retention\-days=1
.RE



.SH "NOTES"

This command is currently in BETA and may change without notice. These variants
are also available:

.RS 2m
$ gcloud compute resource\-policies create snapshot\-schedule
$ gcloud alpha compute resource\-policies create snapshot\-schedule
.RE

