
.TH "GCLOUD_ALPHA_TASKS_CREATE\-HTTP\-TASK" 1



.SH "NAME"
.HP
gcloud alpha tasks create\-http\-task \- create and add a task that targets a HTTP endpoint



.SH "SYNOPSIS"
.HP
\f5gcloud alpha tasks create\-http\-task\fR [\fITASK_ID\fR] \fB\-\-queue\fR=\fIQUEUE\fR \fB\-\-url\fR=\fIURL\fR [\fB\-\-header\fR=\fIHEADER_FIELD\fR:\ \fIHEADER_VALUE\fR] [\fB\-\-method\fR=\fIMETHOD\fR] [\fB\-\-schedule\-time\fR=\fISCHEDULE_TIME\fR] [\fB\-\-body\-content\fR=\fIBODY_CONTENT\fR\ |\ \fB\-\-body\-file\fR=\fIBODY_FILE\fR] [[\fB\-\-oauth\-service\-account\-email\fR=\fIOAUTH_SERVICE_ACCOUNT_EMAIL\fR\ :\ \fB\-\-oauth\-token\-scope\fR=\fIOAUTH_TOKEN_SCOPE\fR]\ |\ [\fB\-\-oidc\-service\-account\-email\fR=\fIOIDC_SERVICE_ACCOUNT_EMAIL\fR\ :\ \fB\-\-oidc\-token\-audience\fR=\fIOIDC_TOKEN_AUDIENCE\fR]] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR Create and add a task that targets a HTTP endpoint.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
[\fITASK_ID\fR]
The task to create.

If not specified then the system will generate a random unique task ID.
Explicitly specifying a task ID enables task de\-duplication. If a task's ID is
identical to that of an existing task or a task that was deleted or completed
recently then the call will fail.

Because there is an extra lookup cost to identify duplicate task names, tasks
created with IDs have significantly increased latency. Using hashed strings for
the task ID or for the prefix of the task ID is recommended.


.RE
.sp

.SH "REQUIRED FLAGS"

.RS 2m
.TP 2m
\fB\-\-queue\fR=\fIQUEUE\fR
The queue the task belongs to.

.TP 2m
\fB\-\-url\fR=\fIURL\fR
The full URL path that the request will be sent to. This string must begin with
either "http://" or "https://".


.RE
.sp

.SH "OPTIONAL FLAGS"

.RS 2m
.TP 2m
\fB\-\-header\fR=\fIHEADER_FIELD\fR: \fIHEADER_VALUE\fR
An HTTP request header. Header values can contain commas. This flag can be
repeated. Repeated header fields will have their values overridden.

.TP 2m
\fB\-\-method\fR=\fIMETHOD\fR
The HTTP method to use for the request. If not specified, "POST" will be used.

.TP 2m
\fB\-\-schedule\-time\fR=\fISCHEDULE_TIME\fR
The time when the task is scheduled to be first attempted. Defaults to "now" if
not specified.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-body\-content\fR=\fIBODY_CONTENT\fR
HTTP Body data sent to the task worker processing the task.

.TP 2m
\fB\-\-body\-file\fR=\fIBODY_FILE\fR
File containing HTTP body data sent to the task worker processing the task.

.RE
.sp
.TP 2m

How the request sent to the target when executing the task should be
authenticated. At most one of these may be specified:

.RS 2m
.TP 2m

OAuth2

.RS 2m
.TP 2m
\fB\-\-oauth\-service\-account\-email\fR=\fIOAUTH_SERVICE_ACCOUNT_EMAIL\fR
The service account email to be used for generating an OAuth2 access token to be
included in the request sent to the target when executing the task. The service
account must be within the same project as the queue. The caller must have
\'iam.serviceAccounts.actAs' permission for the service account. This flag must
be specified if any of the other arguments in this group are specified.

.TP 2m
\fB\-\-oauth\-token\-scope\fR=\fIOAUTH_TOKEN_SCOPE\fR
The scope to be used when generating an OAuth2 access token to be included in
the request sent to the target when executing the task. If not specified,
\'https://www.googleapis.com/auth/cloud\-platform' will be used.

.RE
.sp
.TP 2m

OpenId Connect

.RS 2m
.TP 2m
\fB\-\-oidc\-service\-account\-email\fR=\fIOIDC_SERVICE_ACCOUNT_EMAIL\fR
The service account email to be used for generating an OpenID Connect token to
be included in the request sent to the target when executing the task. The
service account must be within the same project as the queue. The caller must
have 'iam.serviceAccounts.actAs' permission for the service account. This flag
must be specified if any of the other arguments in this group are specified.

.TP 2m
\fB\-\-oidc\-token\-audience\fR=\fIOIDC_TOKEN_AUDIENCE\fR
The audience to be used when generating an OpenID Connect token to be included
in the request sent to the target when executing the task. If not specified, the
URI specified in the target will be used.


.RE
.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "EXAMPLES"

To create a task:

.RS 2m
$ gcloud alpha tasks create\-http\-task \-\-queue=my\-queue
  \-\-url=http://example.com/handler\-path my\-task
.RE



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
allowlist. These variants are also available:

.RS 2m
$ gcloud tasks create\-http\-task
$ gcloud beta tasks create\-http\-task
.RE

