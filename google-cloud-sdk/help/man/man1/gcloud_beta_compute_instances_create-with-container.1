
.TH "GCLOUD_BETA_COMPUTE_INSTANCES_CREATE\-WITH\-CONTAINER" 1



.SH "NAME"
.HP
gcloud beta compute instances create\-with\-container \- creates Google Compute engine virtual machine instances running     container images



.SH "SYNOPSIS"
.HP
\f5gcloud beta compute instances create\-with\-container\fR \fIINSTANCE_NAMES\fR [\fIINSTANCE_NAMES\fR\ ...] [\fB\-\-no\-boot\-disk\-auto\-delete\fR] [\fB\-\-boot\-disk\-device\-name\fR=\fIBOOT_DISK_DEVICE_NAME\fR] [\fB\-\-boot\-disk\-size\fR=\fIBOOT_DISK_SIZE\fR] [\fB\-\-boot\-disk\-type\fR=\fIBOOT_DISK_TYPE\fR] [\fB\-\-can\-ip\-forward\fR] [\fB\-\-container\-arg\fR=\fICONTAINER_ARG\fR] [\fB\-\-container\-command\fR=\fICONTAINER_COMMAND\fR] [\fB\-\-container\-env\fR=[\fIKEY\fR=\fIVALUE\fR,\ ...,...]] [\fB\-\-container\-env\-file\fR=\fICONTAINER_ENV_FILE\fR] [\fB\-\-container\-image\fR=\fICONTAINER_IMAGE\fR] [\fB\-\-container\-mount\-host\-path\fR=[\fIhost\-path\fR=\fIHOSTPATH\fR,\fImount\-path\fR=\fIMOUNTPATH\fR[,\fImode\fR=\fIMODE\fR],...]] [\fB\-\-container\-mount\-tmpfs\fR=[\fImount\-path\fR=\fIMOUNTPATH\fR,...]] [\fB\-\-container\-privileged\fR] [\fB\-\-container\-restart\-policy\fR=\fIPOLICY\fR;\ default="always"] [\fB\-\-container\-stdin\fR] [\fB\-\-container\-tty\fR] [\fB\-\-create\-disk\fR=[\fIPROPERTY\fR=\fIVALUE\fR,...]] [\fB\-\-description\fR=\fIDESCRIPTION\fR] [\fB\-\-disk\fR=[\fIauto\-delete\fR=\fIAUTO\-DELETE\fR],[\fIboot\fR=\fIBOOT\fR],[\fIdevice\-name\fR=\fIDEVICE\-NAME\fR],[\fImode\fR=\fIMODE\fR],[\fIname\fR=\fINAME\fR],[\fIscope\fR=\fISCOPE\fR]] [\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-local\-ssd\fR=[\fIdevice\-name\fR=\fIDEVICE\-NAME\fR],[\fIinterface\fR=\fIINTERFACE\fR],[\fIsize\fR=\fISIZE\fR]] [\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR] [\fB\-\-maintenance\-policy\fR=\fIMAINTENANCE_POLICY\fR] [\fB\-\-metadata\fR=\fIKEY\fR=\fIVALUE\fR,[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-metadata\-from\-file\fR=\fIKEY\fR=\fILOCAL_FILE_PATH\fR,[...]] [\fB\-\-min\-cpu\-platform\fR=\fIPLATFORM\fR] [\fB\-\-network\fR=\fINETWORK\fR] [\fB\-\-network\-interface\fR=[\fIPROPERTY\fR=\fIVALUE\fR,...]] [\fB\-\-network\-tier\fR=\fINETWORK_TIER\fR] [\fB\-\-preemptible\fR] [\fB\-\-private\-network\-ip\fR=\fIPRIVATE_NETWORK_IP\fR] [\fB\-\-no\-restart\-on\-failure\fR] [\fB\-\-source\-instance\-template\fR=\fISOURCE_INSTANCE_TEMPLATE\fR] [\fB\-\-subnet\fR=\fISUBNET\fR] [\fB\-\-tags\fR=\fITAG\fR,[\fITAG\fR,...]] [\fB\-\-zone\fR=\fIZONE\fR] [\fB\-\-address\fR=\fIADDRESS\fR\ |\ \fB\-\-no\-address\fR] [\fB\-\-custom\-cpu\fR=\fICUSTOM_CPU\fR\ \fB\-\-custom\-memory\fR=\fICUSTOM_MEMORY\fR\ :\ \fB\-\-custom\-extensions\fR] [\fB\-\-image\-project\fR=\fIIMAGE_PROJECT\fR\ \fB\-\-image\fR=\fIIMAGE\fR\ |\ \fB\-\-image\-family\fR=\fIIMAGE_FAMILY\fR] [\fB\-\-public\-dns\fR\ |\ \fB\-\-no\-public\-dns\fR] [\fB\-\-public\-ptr\fR\ |\ \fB\-\-no\-public\-ptr\fR] [\fB\-\-public\-ptr\-domain\fR=\fIPUBLIC_PTR_DOMAIN\fR\ |\ \fB\-\-no\-public\-ptr\-domain\fR] [\fB\-\-scopes\fR=[\fISCOPE\fR,...]\ |\ \fB\-\-no\-scopes\fR] [\fB\-\-service\-account\fR=\fISERVICE_ACCOUNT\fR\ |\ \fB\-\-no\-service\-account\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(BETA)\fR \fBgcloud beta compute instances create\-with\-container\fR creates
Google Compute Engine virtual machines that runs a Docker image. For example:

.RS 2m
$ gcloud beta compute instances create\-with\-container instance\-1 \e
    \-\-zone us\-central1\-a             \e
    \-\-container\-image=gcr.io/google\-containers/busybox
.RE

creates an instance called instance\-1, in the us\-central1\-a zone, running the
\'busybox' image.

For more examples, refer to the \fBEXAMPLES\fR section below.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fIINSTANCE_NAMES\fR [\fIINSTANCE_NAMES\fR ...]
Names of the instances to create.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-boot\-disk\-auto\-delete\fR
Automatically delete boot disks when their instances are deleted. Enabled by
default, use \fB\-\-no\-boot\-disk\-auto\-delete\fR to disable.

.TP 2m
\fB\-\-boot\-disk\-device\-name\fR=\fIBOOT_DISK_DEVICE_NAME\fR
The name the guest operating system will see for the boot disk as. This option
can only be specified if a new boot disk is being created (as opposed to
mounting an existing persistent disk).

.TP 2m
\fB\-\-boot\-disk\-size\fR=\fIBOOT_DISK_SIZE\fR
The size of the boot disk. This option can only be specified if a new boot disk
is being created (as opposed to mounting an existing persistent disk). The value
must be a whole number followed by a size unit of \f5\fIKB\fR\fR for kilobyte,
\f5\fIMB\fR\fR for megabyte, \f5\fIGB\fR\fR for gigabyte, or \f5\fITB\fR\fR for
terabyte. For example, \f5\fI10GB\fR\fR will produce a 10 gigabyte disk. The
minimum size a boot disk can have is 10 GB. Disk size must be a multiple of 1
GB. Limit your boot disk size to 2TB to account for MBR partition table
limitations.

.TP 2m
\fB\-\-boot\-disk\-type\fR=\fIBOOT_DISK_TYPE\fR
The type of the boot disk. This option can only be specified if a new boot disk
is being created (as opposed to mounting an existing persistent disk). To get a
list of available disk types, run \f5$ gcloud compute disk\-types list\fR.

.TP 2m
\fB\-\-can\-ip\-forward\fR
If provided, allows the instances to send and receive packets with non\-matching
destination or source IP addresses.

.TP 2m
\fB\-\-container\-arg\fR=\fICONTAINER_ARG\fR
Argument to append to container entrypoint or to override container CMD. Each
argument must have a separate flag. Arguments are appended in the order of
flags. Example:

Assuming the default entry point of your container (or an entry point overridden
with \-\-container\-command flag) is a Bourne shell\-compatible executable, in
order to execute 'ls \-l' command in the container, you could use:

\f5\-\-container\-arg="\-c" \-\-container\-arg="ls \-l"\fR

Caveat: due to the nature of the argument parsing, it's impossible to provide
the flag value that starts with a dash (\f5\-\fR) without the \f5=\fR sign (that
is, \f5\-\-container\-arg "\-c"\fR will not work correctly).

Default: None. (no arguments appended)

.TP 2m
\fB\-\-container\-command\fR=\fICONTAINER_COMMAND\fR
Specifies what executable to run when the container starts (overrides default
entrypoint), eg. \f5nc\fR.

Default: None (default container entrypoint is used)

.TP 2m
\fB\-\-container\-env\fR=[\fIKEY\fR=\fIVALUE\fR, ...,...]
Declare environment variables KEY with value VALUE passed to container. Only the
last value of KEY is taken when KEY is repeated more than once.

Values, declared with \-\-container\-env flag override those with the same KEY
from file, provided in \-\-container\-env\-file.

.TP 2m
\fB\-\-container\-env\-file\fR=\fICONTAINER_ENV_FILE\fR
Declare environment variables in a file. Values, declared with
\-\-container\-env flag override those with the same KEY from file.

File with environment variables in format used by docker (almost). This means:
.RS 2m
.IP "\(em" 2m
Lines are in format KEY=VALUE.
.IP "\(em" 2m
Values must contain equality signs.
.IP "\(em" 2m
Variables without values are not supported (this is different from docker
format).
.IP "\(em" 2m
If \f5#\fR is first non\-whitespace character in a line the line is ignored as a
comment.
.IP "\(em" 2m
Lines with nothing but whitespace are ignored.
.RE
.RE
.sp

.RS 2m
.TP 2m
\fB\-\-container\-image\fR=\fICONTAINER_IMAGE\fR
Full container image name, which should be pulled onto VM instance, eg.
\f5docker.io/tomcat\fR.

.TP 2m
\fB\-\-container\-mount\-host\-path\fR=[\fIhost\-path\fR=\fIHOSTPATH\fR,\fImount\-path\fR=\fIMOUNTPATH\fR[,\fImode\fR=\fIMODE\fR],...]
Mounts a volume by using host\-path.

.RS 2m
.TP 2m
\fBhost\-path\fR
Path on host to mount from.

.TP 2m
\fBmount\-path\fR
Path on container to mount to.

.TP 2m
\fBmode\fR
Volume mount mode: rw (read/write) or ro (read\-only).

Default: rw.

.RE
.sp
.TP 2m
\fB\-\-container\-mount\-tmpfs\fR=[\fImount\-path\fR=\fIMOUNTPATH\fR,...]
Mounts empty tmpfs into container at MOUNTPATH.

.RS 2m
.TP 2m
\fBmount\-path\fR
Path on container to mount to.
.RE
.sp
.TP 2m
\fB\-\-container\-privileged\fR
Specify whether to run container in privileged mode.

Default: \f5\-\-no\-container\-privileged\fR.

.TP 2m
\fB\-\-container\-restart\-policy\fR=\fIPOLICY\fR; default="always"
Specify whether to restart a container on exit. \fIPOLICY\fR must be one of:
\fBnever\fR, \fBon\-failure\fR, \fBalways\fR.

.TP 2m
\fB\-\-container\-stdin\fR
Keep container STDIN open even if not attached.

Default: \f5\-\-no\-container\-stdin\fR.

.TP 2m
\fB\-\-container\-tty\fR
Allocate a pseudo\-TTY for the container.

Default: \f5\-\-no\-container\-tty\fR.

.TP 2m
\fB\-\-create\-disk\fR=[\fIPROPERTY\fR=\fIVALUE\fR,...]
Creates and attaches persistent disks to the instances.

.RS 2m
.TP 2m
\fBname\fR
Specifies the name of the disk. This option cannot be specified if more than one
instance is being created.

.TP 2m
\fBmode\fR
Specifies the mode of the disk. Supported options are \f5\fIro\fR\fR for
read\-only and \f5\fIrw\fR\fR for read\-write. If omitted, \f5\fIrw\fR\fR is
used as a default.

.TP 2m
\fBimage\fR
Specifies the name of the image that the disk will be initialized with. A new
disk will be created based on the given image. To view a list of public images
and projects, run \f5$ gcloud compute images list\fR. It is best practice to use
image when a specific version of an image is needed. If both image and
image\-family flags are omitted a blank disk will be created.

.TP 2m
\fBimage\-family\fR
The family of the image that the disk will be initialized with. When a family is
specified instead of an image, the latest non\-deprecated image associated with
that family is used. It is best practice to use image\-family when the latest
version of an image is needed.

.TP 2m
\fBimage\-project\fR
The project that the image or image family belongs to. It is best practice to
define image\-project.
.RS 2m
.IP "\(bu" 2m
If specifying one of our public images, image\-project must be provided.
.IP "\(bu" 2m
If there are several of the same image\-family value in multiple projects,
image\-project must be specified to clarify the image to be used.
.IP "\(bu" 2m
If not specified and either image or image\-family is provided, the current
default project is used.

.RE
.sp
.TP 2m
\fBsize\fR
The size of the disk. The value must be a whole number followed by a size unit
of \f5\fIKB\fR\fR for kilobyte, \f5\fIMB\fR\fR for megabyte, \f5\fIGB\fR\fR for
gigabyte, or \f5\fITB\fR\fR for terabyte. For example, \f5\fI10GB\fR\fR will
produce a 10 gigabyte disk. Disk size must be a multiple of 1 GB. If not
specified, the default image size will be used for the new disk.

.TP 2m
\fBtype\fR
The type of the disk. To get a list of available disk types, run $ gcloud
compute disk\-types list. The default disk type is \f5\fIpd\-standard\fR\fR.

.TP 2m
\fBdevice\-name\fR
An optional name that indicates the disk name the guest operating system will
see. If omitted, a device name of the form \f5\fIpersistent\-disk\-N\fR\fR will
be used.

.TP 2m
\fBauto\-delete\fR
If \f5\fIyes\fR\fR, this persistent disk will be automatically deleted when the
instance is deleted. However, if the disk is later detached from the instance,
this option won't apply. The default value for this is \f5\fIno\fR\fR.

.RE
.sp
.TP 2m
\fB\-\-description\fR=\fIDESCRIPTION\fR
Specifies a textual description of the instances.

.TP 2m
\fB\-\-disk\fR=[\fIauto\-delete\fR=\fIAUTO\-DELETE\fR],[\fIboot\fR=\fIBOOT\fR],[\fIdevice\-name\fR=\fIDEVICE\-NAME\fR],[\fImode\fR=\fIMODE\fR],[\fIname\fR=\fINAME\fR],[\fIscope\fR=\fISCOPE\fR]
Attaches persistent disks to the instances. The disks specified must already
exist.

.RS 2m
.TP 2m
\fBname\fR
The disk to attach to the instances. When creating more than one instance and
using this property, the only valid mode for attaching the disk is read\-only
(see \fBmode\fR below).

.TP 2m
\fBmode\fR
Specifies the mode of the disk. Supported options are \f5\fIro\fR\fR for
read\-only and \f5\fIrw\fR\fR for read\-write. If omitted, \f5\fIrw\fR\fR is
used as a default. It is an error for mode to be \f5\fIrw\fR\fR when creating
more than one instance because read\-write disks can only be attached to a
single instance.

.TP 2m
\fBboot\fR
If \f5\fIyes\fR\fR, indicates that this is a boot disk. The virtual machines
will use the first partition of the disk for their root file systems. The
default value for this is \f5\fIno\fR\fR.

.TP 2m
\fBdevice\-name\fR
An optional name that indicates the disk name the guest operating system will
see. If omitted, a device name of the form \f5\fIpersistent\-disk\-N\fR\fR will
be used.

.TP 2m
\fBauto\-delete\fR
If \f5\fIyes\fR\fR, this persistent disk will be automatically deleted when the
instance is deleted. However, if the disk is later detached from the instance,
this option won't apply. The default value for this is \f5\fIno\fR\fR.

.TP 2m
\fBscope\fR
Can be \f5zonal\fR or \f5regional\fR. If \f5\fIzonal\fR\fR, the disk is
interpreted as a zonal disk in the same zone as the instance (default). If
\f5\fIregional\fR\fR, the disk is interpreted as a regional disk in the same
region as the instance. The default value for this is \f5\fIzonal\fR\fR.

.RE
.sp
.TP 2m
\fB\-\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to add.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m
\fB\-\-local\-ssd\fR=[\fIdevice\-name\fR=\fIDEVICE\-NAME\fR],[\fIinterface\fR=\fIINTERFACE\fR],[\fIsize\fR=\fISIZE\fR]
Attaches a local SSD to the instances.

This flag is currently in BETA and may change without notice.

.RS 2m
.TP 2m
\fBdevice\-name\fR
Optional. A name that indicates the disk name the guest operating system will
see. If omitted, a device name of the form \f5\fIlocal\-ssd\-N\fR\fR will be
used.

.TP 2m
\fBinterface\fR
Optional. The kind of disk interface exposed to the VM for this SSD. Valid
values are \f5\fISCSI\fR\fR and \f5\fINVME\fR\fR. SCSI is the default and is
supported by more guest operating systems. NVME may provide higher performance.

.TP 2m
\fBsize\fR
Optional. Size of the SSD disk. The value must be a whole number followed by a
size unit of \f5\fIKB\fR\fR for kilobyte, \f5\fIMB\fR\fR for megabyte,
\f5\fIGB\fR\fR for gigabyte, or \f5\fITB\fR\fR for terabyte. For example,
\f5\fI750GB\fR\fR will produce a 750 gigabyte disk. The size must be a multiple
of 375 GB and the default is 375 GB. For Alpha API only.

.RE
.sp
.TP 2m
\fB\-\-machine\-type\fR=\fIMACHINE_TYPE\fR
Specifies the machine type used for the instances. To get a list of available
machine types, run 'gcloud compute machine\-types list'. If unspecified, the
default type is n1\-standard\-1.

.TP 2m
\fB\-\-maintenance\-policy\fR=\fIMAINTENANCE_POLICY\fR
Specifies the behavior of the instances when their host machines undergo
maintenance. The default is MIGRATE. \fIMAINTENANCE_POLICY\fR must be one of:

.RS 2m
.TP 2m
\fBMIGRATE\fR
The instances should be migrated to a new host. This will temporarily impact the
performance of instances during a migration event.
.TP 2m
\fBTERMINATE\fR
The instances should be terminated.

.RE
.sp
.TP 2m
\fB\-\-metadata\fR=\fIKEY\fR=\fIVALUE\fR,[\fIKEY\fR=\fIVALUE\fR,...]
Metadata to be made available to the guest operating system running on the
instances. Each metadata entry is a key/value pair separated by an equals sign.
Metadata keys must be unique and less than 128 bytes in length. Values must be
less than or equal to 32,768 bytes in length. Multiple arguments can be passed
to this flag, e.g., \f5\fI\-\-metadata
key\-1=value\-1,key\-2=value\-2,key\-3=value\-3\fR\fR.

In images that have Compute Engine tools installed on them, such as the official
images (https://cloud.google.com/compute/docs/images), the following metadata
keys have special meanings:

.RS 2m
.TP 2m
\fBstartup\-script\fR
Specifies a script that will be executed by the instances once they start
running. For convenience, \f5\fI\-\-metadata\-from\-file\fR\fR can be used to
pull the value from a file.

.TP 2m
\fBstartup\-script\-url\fR
Same as \f5\fIstartup\-script\fR\fR except that the script contents are pulled
from a publicly\-accessible location on the web.

.RE
.sp
.TP 2m
\fB\-\-metadata\-from\-file\fR=\fIKEY\fR=\fILOCAL_FILE_PATH\fR,[...]
Same as \f5\fI\-\-metadata\fR\fR except that the value for the entry will be
read from a local file. This is useful for values that are too large such as
\f5\fIstartup\-script\fR\fR contents.

.TP 2m
\fB\-\-min\-cpu\-platform\fR=\fIPLATFORM\fR
When specified, the VM will be scheduled on host with specified CPU architecture
or a newer one. To list available CPU platforms in given zone, run:

.RS 2m
$ gcloud alpha compute zones describe ZONE \e
  \-\-format="value(availableCpuPlatforms)"
.RE

Default setting is "AUTOMATIC".

CPU platform selection is available only in selected zones.

You can find more information on\-line:
https://cloud.google.com/compute/docs/instances/specify\-min\-cpu\-platform

.TP 2m
\fB\-\-network\fR=\fINETWORK\fR
Specifies the network that the instances will be part of. If \-\-subnet is also
specified subnet must be a subnetwork of network specified by \-\-network. If
neither is specified, this defaults to the "default" network.

.TP 2m
\fB\-\-network\-interface\fR=[\fIPROPERTY\fR=\fIVALUE\fR,...]
Adds a network interface to the instance. Mutually exclusive with any of these
flags: \fB\-\-address\fR, \fB\-\-network\fR, \fB\-\-network\-tier\fR,
\fB\-\-subnet\fR, \fB\-\-private\-network\-ip\fR.

The following keys are allowed:
.RS 2m
.TP 2m
\fBaddress\fR
Assigns the given external address to the instance that is created. Specifying
an empty string will assign an ephemeral IP. Mutually exclusive with
no\-address. If neither key is present the instance will get an ephemeral IP.

.TP 2m
\fBnetwork\fR
Specifies the network that the interface will be part of. If subnet is also
specified it must be subnetwork of this network. If neither is specified, this
defaults to the "default" network.

.TP 2m
\fBno\-address\fR
If specified the interface will have no external IP. Mutually exclusive with
address. If neither key is present the instance will get an ephemeral IP.

.TP 2m
\fBnetwork\-tier\fR
Specifies the network tier of the interface. \f5\fINETWORK_TIER\fR\fR must be
one of: \f5PREMIUM\fR, \f5STANDARD\fR. The default value is \f5PREMIUM\fR.

.TP 2m
\fBprivate\-network\-ip\fR
Assigns the given RFC1918 IP address to the interface.

.TP 2m
\fBsubnet\fR
Specifies the subnet that the interface will be part of. If network key is also
specified this must be a subnetwork of the specified network.

.TP 2m
\fBaliases\fR
Specifies the IP alias ranges to allocate for this interface. If there are
multiple IP alias ranges, they are separated by semicolons.

For example:

.RS 2m
\-\-aliases="10.128.1.0/24;range1:/32"
.RE


Each IP alias range consists of a range name and an IP range separated by a
colon, or just the IP range. The range name is the name of the range within the
network interface's subnet from which to allocate an IP alias range. If
unspecified, it defaults to the primary IP range of the subnet. The IP range can
be a CIDR range (e.g. \f5192.168.100.0/24\fR), a single IP address (e.g.
\f5192.168.100.1\fR), or a netmask in CIDR format (e.g. \f5/24\fR). If the IP
range is specified by CIDR range or single IP address, it must belong to the
CIDR range specified by the range name on the subnet. If the IP range is
specified by netmask, the IP allocator will pick an available range with the
specified netmask and allocate it to this network interface.

.RE
.sp
.TP 2m
\fB\-\-network\-tier\fR=\fINETWORK_TIER\fR
Specifies the network tier that will be used to configure the instance.
\f5\fINETWORK_TIER\fR\fR must be one of: \f5PREMIUM\fR, \f5STANDARD\fR. The
default value is \f5PREMIUM\fR.

.TP 2m
\fB\-\-preemptible\fR
If provided, instances will be preemptible and time\-limited. Instances may be
preempted to free up resources for standard VM instances, and will only be able
to run for a limited amount of time. Preemptible instances can not be restarted
and will not migrate.

.TP 2m
\fB\-\-private\-network\-ip\fR=\fIPRIVATE_NETWORK_IP\fR
Specifies the RFC1918 IP to assign to the instance. The IP should be in the
subnet or legacy network IP range.

.TP 2m
\fB\-\-restart\-on\-failure\fR
The instances will be restarted if they are terminated by Compute Engine. This
does not affect terminations performed by the user. Enabled by default, use
\fB\-\-no\-restart\-on\-failure\fR to disable.

.TP 2m
\fB\-\-source\-instance\-template\fR=\fISOURCE_INSTANCE_TEMPLATE\fR
The name of the instance template that the instance will be created from.

Users can also override machine type and labels. Values of other flags will be
ignored and \f5\-\-source\-instance\-template\fR will be used instead.

.TP 2m
\fB\-\-subnet\fR=\fISUBNET\fR
Specifies the subnet that the instances will be part of. If \-\-network is also
specified subnet must be a subnetwork of network specified by \-\-network.

.TP 2m
\fB\-\-tags\fR=\fITAG\fR,[\fITAG\fR,...]
Specifies a list of tags to apply to the instances for identifying the instances
to which network firewall rules will apply. See \fBgcloud compute
firewall\-rules create\fR(1) for more details.

To list instances with their respective status and tags, run:

.RS 2m
$ gcloud compute instances list \e
    \-\-format='table(name,status,tags.list())'
.RE

To list instances tagged with a specific tag, \f5tag1\fR, run:

.RS 2m
$ gcloud compute instances list \-\-filter='tags:tag1'
.RE

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR
Zone of the instances to create. If not specified, you may be prompted to select
a zone. \f5gcloud\fR will attempt to identify the zone by searching for
resources in your project. If the zone cannot be determined, you will then be
prompted with all Google Cloud Platform zones.

To avoid prompting when this flag is omitted, you can set the
\f5\fIcompute/zone\fR\fR property:

.RS 2m
$ gcloud config set compute/zone ZONE
.RE

A list of zones can be fetched by running:

.RS 2m
$ gcloud compute zones list
.RE

To unset the property, run:

.RS 2m
$ gcloud config unset compute/zone
.RE

Alternatively, the zone can be stored in the environment variable
\f5\fICLOUDSDK_COMPUTE_ZONE\fR\fR.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-address\fR=\fIADDRESS\fR
Assigns the given external address to the instance that is created. The address
may be an IP address or the name or URI of an address resource. This option can
only be used when creating a single instance.

.TP 2m
\fB\-\-no\-address\fR
If provided, the instances will not be assigned external IP addresses.

.RE
.sp
.TP 2m

Custom machine type extensions.

.RS 2m
.TP 2m
\fB\-\-custom\-cpu\fR=\fICUSTOM_CPU\fR
A whole number value indicating how many cores are desired in the custom machine
type. This flag must be specified if any of the other arguments in this group
are specified.

.TP 2m
\fB\-\-custom\-memory\fR=\fICUSTOM_MEMORY\fR
A whole number value indicating how much memory is desired in the custom machine
type. A size unit should be provided (eg. 3072MB or 9GB) \- if no units are
specified, GB is assumed. This flag must be specified if any of the other
arguments in this group are specified.

.TP 2m
\fB\-\-custom\-extensions\fR
Use the extended custom machine type.

.RE
.sp
.TP 2m
\fB\-\-image\-project\fR=\fIIMAGE_PROJECT\fR
The project against which all image and image family references will be
resolved. It is best practice to define image\-project.
.RS 2m
.IP "\(em" 2m
If specifying one of our public images, image\-project must be provided.
.IP "\(em" 2m
If there are several of the same image\-family value in multiple projects,
image\-project must be specified to clarify the image to be used.
.IP "\(em" 2m
If not specified and either image or image\-family is provided, the current
default project is used.
.RE
.RE
.sp

.RS 2m
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-image\fR=\fIIMAGE\fR
Specifies the boot image for the instances. For each instance, a new boot disk
will be created from the given image. Each boot disk will have the same name as
the instance. To view a list of public images and projects, run \f5$ gcloud
compute images list\fR. It is best practice to use \f5\-\-image\fR when a
specific version of an image is needed.

When using this option, \f5\fI\-\-boot\-disk\-device\-name\fR\fR and
\f5\fI\-\-boot\-disk\-size\fR\fR can be used to override the boot disk's device
name and size, respectively.

.TP 2m
\fB\-\-image\-family\fR=\fIIMAGE_FAMILY\fR
The family of the image that the boot disk will be initialized with. When a
family is specified instead of an image, the latest non\-deprecated image
associated with that family is used. It is best practice to use
\f5\-\-image\-family\fR when the latest version of an image is needed.

By default, \f5\fIdebian\-9\fR\fR is assumed for this flag.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-public\-dns\fR
Assigns a public DNS name to the instance.

.TP 2m
\fB\-\-no\-public\-dns\fR
If provided, the instance will not be assigned a public DNS name.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-public\-ptr\fR
Creates a DNS PTR record for the external IP of the instance.

.TP 2m
\fB\-\-no\-public\-ptr\fR
If provided, no DNS PTR record is created for the external IP of the instance.
Mutually exclusive with public\-ptr\-domain.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-public\-ptr\-domain\fR=\fIPUBLIC_PTR_DOMAIN\fR
Assigns a custom PTR domain for the external IP of the instance. Mutually
exclusive with no\-public\-ptr.

.TP 2m
\fB\-\-no\-public\-ptr\-domain\fR
If both this flag and \-\-public\-ptr are specified, creates a DNS PTR record
for the external IP of the instance with the PTR domain name being the DNS name
of the instance.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-scopes\fR=[\fISCOPE\fR,...]
If not provided, the instance will be assigned the default scopes, described
below.

SCOPE can be either the full URI of the scope or an alias. Available aliases
are:

.RS 2m
default
  Scopes assigned to instances by default:
  \- https://www.googleapis.com/auth/devstorage.read_only
  \- https://www.googleapis.com/auth/logging.write
  \- https://www.googleapis.com/auth/monitoring.write
  \- https://www.googleapis.com/auth/pubsub
  \- https://www.googleapis.com/auth/service.management.readonly
  \- https://www.googleapis.com/auth/servicecontrol
  \- https://www.googleapis.com/auth/trace.append
.RE

.RS 2m
bigquery
  \- https://www.googleapis.com/auth/bigquery
.RE

.RS 2m
cloud\-platform
  \- https://www.googleapis.com/auth/cloud\-platform
.RE

.RS 2m
compute\-ro
  \- https://www.googleapis.com/auth/compute.readonly
.RE

.RS 2m
compute\-rw
  \- https://www.googleapis.com/auth/compute
.RE

.RS 2m
datastore
  \- https://www.googleapis.com/auth/datastore
.RE

.RS 2m
logging\-write
  \- https://www.googleapis.com/auth/logging.write
.RE

.RS 2m
monitoring
  \- https://www.googleapis.com/auth/monitoring
.RE

.RS 2m
monitoring\-write
  \- https://www.googleapis.com/auth/monitoring.write
.RE

.RS 2m
service\-control
  \- https://www.googleapis.com/auth/servicecontrol
.RE

.RS 2m
service\-management
  \- https://www.googleapis.com/auth/service.management.readonly
.RE

.RS 2m
sql (DEPRECATED)
  \- https://www.googleapis.com/auth/sqlservice:
.RE

.RS 2m
sql\-admin
  \- https://www.googleapis.com/auth/sqlservice.admin
.RE

.RS 2m
storage\-full
  \- https://www.googleapis.com/auth/devstorage.full_control
.RE

.RS 2m
storage\-ro
  \- https://www.googleapis.com/auth/devstorage.read_only
.RE

.RS 2m
storage\-rw
  \- https://www.googleapis.com/auth/devstorage.read_write
.RE

.RS 2m
taskqueue
  \- https://www.googleapis.com/auth/taskqueue
.RE

.RS 2m
userinfo\-email
  \- https://www.googleapis.com/auth/userinfo.email
.RE


DEPRECATION WARNING: 'https://www.googleapis.com/auth/sqlservice' account scope
and \f5sql\fR alias do not provide SQL instance management capabilities and have
been deprecated. Please, use 'https://www.googleapis.com/auth/sqlservice.admin'
or \f5sql\-admin\fR to manage your Google SQL Service instances.


.TP 2m
\fB\-\-no\-scopes\fR
Create instance without scopes

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-service\-account\fR=\fISERVICE_ACCOUNT\fR
A service account is an identity attached to the instance. Its access tokens can
be accessed through the instance metadata server and are used to authenticate
applications on the instance. The account can be either an email address or an
alias corresponding to a service account. You can explicitly specify the Compute
Engine default service account using the 'default' alias.

If not provided, the instance will get project's default service account.

.TP 2m
\fB\-\-no\-service\-account\fR
Create instance without service account


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-configuration,
\-\-flatten, \-\-format, \-\-help, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "EXAMPLES"

To run the gcr.io/google\-containers/busybox image on an instance named
\'instance\-1' that executes 'echo "Hello world"' as a run command, run:

.RS 2m
$ gcloud beta compute instances create\-with\-container instance\-1   \e
              \-\-container\-image=gcr.io/google\-containers/busybox   \e
              \-\-container\-command='echo "Hello world"'
.RE

To run the gcr.io/google\-containers/busybox image in privileged mode, run:

.RS 2m
$ gcloud beta compute instances create\-with\-container instance\-1   \e
              \-\-container\-image=gcr.io/google\-containers/busybox
  \-\-container\-privileged
.RE



.SH "NOTES"

This command is currently in BETA and may change without notice. This variant is
also available:

.RS 2m
$ gcloud alpha compute instances create\-with\-container
.RE

