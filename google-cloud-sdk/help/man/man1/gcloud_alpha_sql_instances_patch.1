
.TH "GCLOUD_ALPHA_SQL_INSTANCES_PATCH" 1



.SH "NAME"
.HP
gcloud alpha sql instances patch \- updates the settings of a Cloud SQL instance



.SH "SYNOPSIS"
.HP
\f5gcloud alpha sql instances patch\fR \fIINSTANCE\fR [\fB\-\-activation\-policy\fR=\fIACTIVATION_POLICY\fR] [\fB\-\-[no\-]assign\-ip\fR] [\fB\-\-async\fR] [\fB\-\-availability\-type\fR=\fIAVAILABILITY_TYPE\fR] [\fB\-\-cpu\fR=\fICPU\fR] [\fB\-\-diff\fR] [\fB\-\-[no\-]enable\-bin\-log\fR] [\fB\-\-[no\-]enable\-database\-replication\fR] [\fB\-\-enable\-point\-in\-time\-recovery\fR] [\fB\-\-follow\-gae\-app\fR=\fIFOLLOW_GAE_APP\fR] [\fB\-\-maintenance\-release\-channel\fR=\fIMAINTENANCE_RELEASE_CHANNEL\fR] [\fB\-\-maintenance\-window\-any\fR] [\fB\-\-maintenance\-window\-day\fR=\fIMAINTENANCE_WINDOW_DAY\fR] [\fB\-\-maintenance\-window\-hour\fR=\fIMAINTENANCE_WINDOW_HOUR\fR] [\fB\-\-memory\fR=\fIMEMORY\fR] [\fB\-\-network\fR=\fINETWORK\fR] [\fB\-\-pricing\-plan\fR=\fIPRICING_PLAN\fR,\ \fB\-p\fR\ \fIPRICING_PLAN\fR] [\fB\-\-replication\fR=\fIREPLICATION\fR] [\fB\-\-[no\-]require\-ssl\fR] [\fB\-\-storage\-auto\-increase\fR] [\fB\-\-storage\-auto\-increase\-limit\fR=\fISTORAGE_AUTO_INCREASE_LIMIT\fR] [\fB\-\-storage\-size\fR=\fISTORAGE_SIZE\fR] [\fB\-\-tier\fR=\fITIER\fR,\ \fB\-t\fR\ \fITIER\fR] [\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-authorized\-gae\-apps\fR=\fIAPP\fR,[\fIAPP\fR,...]\ |\ \fB\-\-clear\-gae\-apps\fR] [\fB\-\-authorized\-networks\fR=\fINETWORK\fR,[\fINETWORK\fR,...]\ |\ \fB\-\-clear\-authorized\-networks\fR] [\fB\-\-clear\-database\-flags\fR\ |\ \fB\-\-database\-flags\fR=\fIFLAG\fR=\fIVALUE\fR,[\fIFLAG\fR=\fIVALUE\fR,...]] [\fB\-\-clear\-labels\fR\ |\ \fB\-\-remove\-labels\fR=[\fIKEY\fR,...]] [\fB\-\-gce\-zone\fR=\fIGCE_ZONE\fR\ |\ \fB\-\-zone\fR=\fIZONE\fR] [\fB\-\-no\-backup\fR\ |\ \fB\-\-backup\-location\fR=\fIBACKUP_LOCATION\fR\ \fB\-\-backup\-start\-time\fR=\fIBACKUP_START_TIME\fR] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

\fB(ALPHA)\fR Updates the settings of a Cloud SQL instance.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fIINSTANCE\fR
Cloud SQL instance ID.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-activation\-policy\fR=\fIACTIVATION_POLICY\fR
Activation policy for this instance. This specifies when the instance should be
activated and is applicable only when the instance state is \f5RUNNABLE\fR. The
default is \f5on\-demand\fR. More information on activation policies can be
found here: https://cloud.google.com/sql/faq#activation_policy.
\fIACTIVATION_POLICY\fR must be one of: \fBalways\fR, \fBnever\fR,
\fBon\-demand\fR.

.TP 2m
\fB\-\-[no\-]assign\-ip\fR
Assign a public IP address to the instance. This is a public, externally
available IPv4 address that you can use to connect to your instance when
properly authorized. Use \-\-assign\-ip to enable a public IP and
\-\-no\-assign\-ip to disable it. Use \fB\-\-assign\-ip\fR to enable and
\fB\-\-no\-assign\-ip\fR to disable.

.TP 2m
\fB\-\-async\fR
Return immediately, without waiting for the operation in progress to complete.

.TP 2m
\fB\-\-availability\-type\fR=\fIAVAILABILITY_TYPE\fR
Specifies level of availability. \fIAVAILABILITY_TYPE\fR must be one of:

.RS 2m
.TP 2m
\fBregional\fR
Provides high availability and is recommended for production instances; instance
automatically fails over to another zone within your selected region.
.TP 2m
\fBzonal\fR
Provides no failover capability. This is the default.
.RE
.sp


.TP 2m
\fB\-\-cpu\fR=\fICPU\fR
Whole number value indicating how many cores are desired in the machine. Both
\-\-cpu and \-\-memory must be specified if a custom machine type is desired,
and the \-\-tier flag must be omitted.

.TP 2m
\fB\-\-diff\fR
Show what changed as a result of the update.

.TP 2m
\fB\-\-[no\-]enable\-bin\-log\fR
Specified if binary log should be enabled. If backup configuration is disabled,
binary log must be disabled as well. Use \fB\-\-enable\-bin\-log\fR to enable
and \fB\-\-no\-enable\-bin\-log\fR to disable.

.TP 2m
\fB\-\-[no\-]enable\-database\-replication\fR
Enable database replication. Applicable only for read replica instance(s).
WARNING: Instance will be restarted. Use \fB\-\-enable\-database\-replication\fR
to enable and \fB\-\-no\-enable\-database\-replication\fR to disable.

.TP 2m
\fB\-\-enable\-point\-in\-time\-recovery\fR
Specifies if point\-in\-time recovery (using write\-ahead log archiving) should
be enabled. If backup configuration is disabled, point\-in\-time recovery must
be disabled as well.

.TP 2m
\fB\-\-follow\-gae\-app\fR=\fIFOLLOW_GAE_APP\fR
First Generation instances only. The App Engine app this instance should follow.
It must be in the same region as the instance. WARNING: Instance may be
restarted.

.TP 2m
\fB\-\-maintenance\-release\-channel\fR=\fIMAINTENANCE_RELEASE_CHANNEL\fR
Which channel's updates to apply during the maintenance window. If not
specified, Cloud SQL chooses the timing of updates to your instance.
\fIMAINTENANCE_RELEASE_CHANNEL\fR must be one of:

.RS 2m
.TP 2m
\fBpreview\fR
Preview updates release prior to production updates. You may wish to use the
preview channel for dev/test applications so that you can preview their
compatibility with your application prior to the production release.
.TP 2m
\fBproduction\fR
Production updates are stable and recommended for applications in production.
.RE
.sp


.TP 2m
\fB\-\-maintenance\-window\-any\fR
Removes the user\-specified maintenance window.

.TP 2m
\fB\-\-maintenance\-window\-day\fR=\fIMAINTENANCE_WINDOW_DAY\fR
Day of week for maintenance window, in UTC time zone.
\fIMAINTENANCE_WINDOW_DAY\fR must be one of: \fBSUN\fR, \fBMON\fR, \fBTUE\fR,
\fBWED\fR, \fBTHU\fR, \fBFRI\fR, \fBSAT\fR.

.TP 2m
\fB\-\-maintenance\-window\-hour\fR=\fIMAINTENANCE_WINDOW_HOUR\fR
Hour of day for maintenance window, in UTC time zone.

.TP 2m
\fB\-\-memory\fR=\fIMEMORY\fR
Whole number value indicating how much memory is desired in the machine. A size
unit should be provided (eg. 3072MiB or 9GiB) \- if no units are specified, GiB
is assumed. Both \-\-cpu and \-\-memory must be specified if a custom machine
type is desired, and the \-\-tier flag must be omitted.

.TP 2m
\fB\-\-network\fR=\fINETWORK\fR
Network in the current project that the instance will be part of. To specify
using a network with a shared VPC, use the full URL of the network. For an
example host project, 'testproject', and shared network, 'testsharednetwork',
this would be of the
form:\f5\-\-network\fR=\f5projects/testproject/global/networks/testsharednetwork\fR

.TP 2m
\fB\-\-pricing\-plan\fR=\fIPRICING_PLAN\fR, \fB\-p\fR \fIPRICING_PLAN\fR
First Generation instances only. The pricing plan for this instance.
\fIPRICING_PLAN\fR must be one of: \fBPER_USE\fR, \fBPACKAGE\fR.

.TP 2m
\fB\-\-replication\fR=\fIREPLICATION\fR
Type of replication this instance uses. The default is synchronous.
\fIREPLICATION\fR must be one of: \fBsynchronous\fR, \fBasynchronous\fR.

.TP 2m
\fB\-\-[no\-]require\-ssl\fR
mysqld should default to 'REQUIRE X509' for users connecting over IP. Use
\fB\-\-require\-ssl\fR to enable and \fB\-\-no\-require\-ssl\fR to disable.

.TP 2m
\fB\-\-storage\-auto\-increase\fR
Storage size can be increased, but it cannot be decreased; storage increases are
permanent for the life of the instance. With this setting enabled, a spike in
storage requirements can result in permanently increased storage costs for your
instance. However, if an instance runs out of available space, it can result in
the instance going offline, dropping existing connections. This setting is
enabled by default.

.TP 2m
\fB\-\-storage\-auto\-increase\-limit\fR=\fISTORAGE_AUTO_INCREASE_LIMIT\fR
Allows you to set a maximum storage capacity, in GB. Automatic increases to your
capacity will stop once this limit has been reached. Default capacity is
\fBunlimited\fR.

.TP 2m
\fB\-\-storage\-size\fR=\fISTORAGE_SIZE\fR
Amount of storage allocated to the instance. Must be an integer number of GB.
The default is 10GB. Information on storage limits can be found here:
https://cloud.google.com/sql/docs/quotas#storage_limits

.TP 2m
\fB\-\-tier\fR=\fITIER\fR, \fB\-t\fR \fITIER\fR
The tier for this instance. For Second Generation instances, TIER is the
instance's machine type (e.g., db\-n1\-standard\-1). For PostgreSQL instances,
only shared\-core machine types (e.g., db\-f1\-micro) apply. A complete list of
tiers is available here: https://cloud.google.com/sql/pricing. WARNING: Instance
will be restarted.

.TP 2m
\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
List of label KEY=VALUE pairs to update. If a label exists its value is
modified, otherwise a new label is created.

Keys must start with a lowercase character and contain only hyphens (\f5\-\fR),
underscores (\f5_\fR), lowercase characters, and numbers. Values must contain
only hyphens (\f5\-\fR), underscores (\f5_\fR), lowercase characters, and
numbers.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-authorized\-gae\-apps\fR=\fIAPP\fR,[\fIAPP\fR,...]
First Generation instances only. List of project IDs for App Engine applications
running in the Standard environment that can access this instance.

The value given for this argument \fBreplaces\fR the existing list.

.TP 2m
\fB\-\-clear\-gae\-apps\fR
Specified to clear the list of App Engine apps that can access this instance.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-authorized\-networks\fR=\fINETWORK\fR,[\fINETWORK\fR,...]
The list of external networks that are allowed to connect to the instance.
Specified in CIDR notation, also known as 'slash' notation (e.g.
192.168.100.0/24).

The value given for this argument \fBreplaces\fR the existing list.

.TP 2m
\fB\-\-clear\-authorized\-networks\fR
Clear the list of external networks that are allowed to connect to the instance.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-database\-flags\fR
Clear the database flags set on the instance. WARNING: Instance will be
restarted.

.TP 2m
\fB\-\-database\-flags\fR=\fIFLAG\fR=\fIVALUE\fR,[\fIFLAG\fR=\fIVALUE\fR,...]
Comma\-separated list of database flags to set on the instance. Use an equals
sign to separate flag name and value. Flags without values, like
skip_grant_tables, can be written out without a value after, e.g.,
\f5skip_grant_tables=\fR. Use on/off for booleans. View the Instance Resource
API for allowed flags. (e.g., \f5\-\-database\-flags
max_allowed_packet=55555,skip_grant_tables=,log_output=1\fR)

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-labels\fR
Remove all labels. If \f5\-\-update\-labels\fR is also specified then
\f5\-\-clear\-labels\fR is applied first.

For example, to remove all labels:

.RS 2m
$ gcloud alpha sql instances patch \-\-clear\-labels
.RE

To set the labels to exactly "foo" and "baz":

.RS 2m
$ gcloud alpha sql instances patch \-\-clear\-labels \e
  \-\-update\-labels foo=bar,baz=qux
.RE

.TP 2m
\fB\-\-remove\-labels\fR=[\fIKEY\fR,...]
List of label keys to remove. If a label does not exist it is silently ignored.
If \f5\-\-update\-labels\fR is also specified then \f5\-\-remove\-labels\fR is
applied first.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-gce\-zone\fR=\fIGCE_ZONE\fR
(DEPRECATED) Preferred Compute Engine zone (e.g. us\-central1\-a,
us\-central1\-b, etc.). WARNING: Instance may be restarted.

Flag \f5\-\-gce\-zone\fR is deprecated and will be removed by release 255.0.0.
Use \f5\-\-zone\fR instead.

.TP 2m
\fB\-\-zone\fR=\fIZONE\fR
Preferred Compute Engine zone (e.g. us\-central1\-a, us\-central1\-b, etc.).
WARNING: Instance may be restarted.

.RE
.sp
.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-no\-backup\fR
Specified if daily backup should be disabled.

.TP 2m
\fB\-\-backup\-location\fR=\fIBACKUP_LOCATION\fR
Choose where to store your backups. Backups are stored in the closest
multi\-region location to you by default. Only customize if needed. Specify
empty string to revert to default.

.TP 2m
\fB\-\-backup\-start\-time\fR=\fIBACKUP_START_TIME\fR
Start time of daily backups, specified in the 24 hour format \- HH:MM, in the
UTC timezone.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-billing\-project,
\-\-configuration, \-\-flags\-file, \-\-flatten, \-\-format, \-\-help,
\-\-impersonate\-service\-account, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity.

Run \fB$ gcloud help\fR for details.



.SH "NOTES"

This command is currently in ALPHA and may change without notice. If this
command fails with API permission errors despite specifying the right project,
you may be trying to access an API with an invitation\-only early access
whitelist. These variants are also available:

.RS 2m
$ gcloud sql instances patch
$ gcloud beta sql instances patch
.RE

