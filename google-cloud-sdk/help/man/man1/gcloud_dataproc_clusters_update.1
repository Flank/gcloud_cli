
.TH "GCLOUD_DATAPROC_CLUSTERS_UPDATE" 1



.SH "NAME"
.HP
gcloud dataproc clusters update \- update labels and/or the number of worker nodes in a cluster



.SH "SYNOPSIS"
.HP
\f5gcloud dataproc clusters update\fR \fINAME\fR [\fB\-\-async\fR] [\fB\-\-graceful\-decommission\-timeout\fR=\fIGRACEFUL_DECOMMISSION_TIMEOUT\fR] [\fB\-\-num\-preemptible\-workers\fR=\fINUM_PREEMPTIBLE_WORKERS\fR] [\fB\-\-num\-workers\fR=\fINUM_WORKERS\fR] [\fB\-\-region\fR=\fIREGION\fR] [\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]] [\fB\-\-clear\-labels\fR\ |\ \fB\-\-remove\-labels\fR=[\fIKEY\fR,...]] [\fIGCLOUD_WIDE_FLAG\ ...\fR]



.SH "DESCRIPTION"

Update the number of worker nodes and/or the labels in a cluster.



.SH "POSITIONAL ARGUMENTS"

.RS 2m
.TP 2m
\fINAME\fR
The name of the cluster to update.


.RE
.sp

.SH "FLAGS"

.RS 2m
.TP 2m
\fB\-\-async\fR
Display information about the operation in progress, without waiting for the
operation to complete.

.TP 2m
\fB\-\-graceful\-decommission\-timeout\fR=\fIGRACEFUL_DECOMMISSION_TIMEOUT\fR
The graceful decommission timeout for decommissioning Node Managers in the
cluster, used when removing nodes. Graceful decommissioning allows removing
nodes from the cluster without interrupting jobs in progress. Timeout specifies
how long to wait for jobs in progress to finish before forcefully removing nodes
(and potentially interrupting jobs). Timeout defaults to 0 if not set (for
forceful decommission), and the maximum allowed timeout is 1 day. See $ gcloud
topic datetimes for information on duration formats.

.TP 2m
\fB\-\-num\-preemptible\-workers\fR=\fINUM_PREEMPTIBLE_WORKERS\fR
The new number of preemptible worker nodes in the cluster.

.TP 2m
\fB\-\-num\-workers\fR=\fINUM_WORKERS\fR
The new number of worker nodes in the cluster.

.TP 2m
\fB\-\-region\fR=\fIREGION\fR
Specifies the Cloud Dataproc region to use. Each Cloud Dataproc region
constitutes an independent resource namespace constrained to deploying instances
into Google Compute Engine zones inside the region. The default value of
"global" is a special multi\-region namespace which is capable of deploying
instances into all Google Compute Engine zones globally, and is disjoint from
other Cloud Dataproc regions. Overrides the default \fBdataproc/region\fR
property value for this command invocation.

.TP 2m
\fB\-\-update\-labels\fR=[\fIKEY\fR=\fIVALUE\fR,...]
A list of label KEY=VALUE pairs to update. If a label exists its value is
modified, otherwise a new label is created.

.TP 2m

At most one of these may be specified:

.RS 2m
.TP 2m
\fB\-\-clear\-labels\fR
Removes all labels. If \f5\-\-update\-labels\fR is also specified then
\f5\-\-clear\-labels\fR is applied first.

For example, to remove all labels:

.RS 2m
$ gcloud dataproc clusters update \-\-clear\-labels
.RE

To set the labels to exactly "foo" and "baz":

.RS 2m
$ gcloud dataproc clusters update \-\-clear\-labels \e
  \-\-update\-labels foo=bar,baz=qux
.RE

.TP 2m
\fB\-\-remove\-labels\fR=[\fIKEY\fR,...]
A list of label keys to remove. If a label does not exist it is silently
ignored.


.RE
.RE
.sp

.SH "GCLOUD WIDE FLAGS"

These flags are available to all commands: \-\-account, \-\-configuration,
\-\-flatten, \-\-format, \-\-help, \-\-log\-http, \-\-project, \-\-quiet,
\-\-trace\-token, \-\-user\-output\-enabled, \-\-verbosity. Run \fB$ gcloud
help\fR for details.



.SH "EXAMPLES"

To resize a cluster, run:

.RS 2m
$ gcloud dataproc clusters update my_cluster \-\-num\-workers 5
.RE

To change the number preemptible workers in a cluster, run:

.RS 2m
$ gcloud dataproc clusters update my_cluster \e
    \-\-num\-preemptible\-workers 5
.RE

To add the label 'customer=acme' to a cluster, run:

.RS 2m
$ gcloud dataproc clusters update my_cluster \e
    \-\-update\-labels=customer=acme
.RE

To update the label 'customer=ackme' to 'customer=acme', run:

.RS 2m
$ gcloud dataproc clusters update my_cluster \e
    \-\-update\-labels=customer=acme
.RE

To remove the label whose key is 'customer', run:

.RS 2m
$ gcloud dataproc clusters update my_cluster \-\-remove\-labels=customer
.RE



.SH "NOTES"

This variant is also available:

.RS 2m
$ gcloud beta dataproc clusters update
.RE

